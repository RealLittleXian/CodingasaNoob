!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=128)}({1:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},128:function(t,e,n){(function(t,e){/*! @browser-tdoc 1.18.0 */
window.log=function(){var n,r,o;!function(t){t.INSERT_LOG="insert_log",t.GET_CONFIG="get_config"}(n||(n={})),function(t){t[t.DEBUG=1]="DEBUG",t[t.LOG=1]="LOG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.FATAL=5]="FATAL"}(r||(r={})),function(t){t[t.BeforeInvokeLog=0]="BeforeInvokeLog"}(o||(o={}));var i="https://weblog.cdn-go.cn/sdk/latest/",s=function(){function t(){this.name="level-setting"}return t.prototype.setupOnce=function(t,e){var o=this;this.client=t;var i=this.getPersistedLevel();t.setLevel(i),t.on(n.GET_CONFIG,(function(e){var n,i=null===(n=null==e?void 0:e.config)||void 0===n?void 0:n.level;i?(o.persistLevel(i),t.setLevel(i)):(o.clearPersistedLevel(),t.setLevel(r.INFO))}))},t.prototype.clearPersistedLevel=function(){try{window.localStorage.removeItem(this.getStorageKey())}catch(t){}},t.prototype.persistLevel=function(t){try{window.localStorage[this.getStorageKey()]=t}catch(t){}},t.prototype.getPersistedLevel=function(){try{return Number(window.localStorage[this.getStorageKey()])||r.INFO}catch(t){return r.INFO}},t.prototype.getStorageKey=function(){return"wl-level-"+this.client.getContext().pid},t}(),c=function(){function t(){this.name="remote-plugin"}return t.prototype.setupOnce=function(t,e){location.search.match("[?&]wl=")&&t.loadAsset("URL_OPTIONS"),t.on(n.GET_CONFIG,(function(e){try{var n=e.config.options,r=n&&JSON.parse(n)||{};"on"===r.WL_TOOL_ON_OFF&&t.loadAsset("CONFIG_OPTIONS",r)}catch(e){console.warn(e)}}))},t}(),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function l(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(s,c)}a((r=r.apply(t,e||[])).next())}))}function p(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function v(t){return function(t,e){return"[object Object]"===Object.prototype.toString.call(e)}(0,t)}function y(t){var e=new Set;try{return JSON.stringify(t,(function(t,n){if(v(n)||Array.isArray(n)){if(e.has(n))return'["Circular"]';e.add(n)}return n}))}catch(e){return console.error(e),v(t)?'{Object:["Circular"]}':Array.isArray(t)?'["Circular"]':"Circular"}}var g=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")};function w(t,e,n){if(void 0===n&&(n="GET"),t.setRequestHeader)for(var r in"GET"!==n&&"POST"!==n||t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e=e||{})e.hasOwnProperty(r)&&t.setRequestHeader(r,e[r])}var m=function(t,e){void 0===e&&(e={withCredentials:!1}),t.withCredentials=!!e.withCredentials};function b(t){return new Promise((function(e,n){var r=g(t.param||{}),o=t.url;o+=(o.indexOf("?")>=0?"&":"?")+r;var i=k(t,{success:function(t){e(t)},error:function(t){n(t)}});i&&(i.open("GET",o,!0),m(i,t.xhrFields),w(i,t.headers||{},"GET"),i.send())}))}function O(t){return new Promise((function(e,n){var r=t.url,o="",i=k(t,{success:function(t){e(t)},error:function(t){n(t)}});i&&(i.open("POST",r,!0),"json"===t.contentType?(o=JSON.stringify(t.param),i.setRequestHeader("Content-Type","application/json")):(o=g(t.param||{}),m(i,t.xhrFields),w(i,t.headers||{},"POST")),i.send(o))}))}function k(t,e){var n=new XMLHttpRequest;if(!n)throw new Error("XMLHttp is not defined");var r=t.timeout,o=t.dataType,i=void 0===o?"json":o;try{r&&(n.timeout=r)}catch(t){console.log(t)}return n.onreadystatechange=function(){var t,r;if(4===n.readyState)if(200===n.status){var o=n.responseText;"json"===i&&(o=JSON.parse(n.responseText)),null===(t=null==e?void 0:e.success)||void 0===t||t.call(e,o)}else null===(r=null==e?void 0:e.error)||void 0===r||r.call(e,{errCode:n.status})},n.onerror=function(){var t;null===(t=null==e?void 0:e.error)||void 0===t||t.call(e,{errCode:-1})},n.ontimeout=function(){var t;null===(t=null==e?void 0:e.error)||void 0===t||t.call(e,{errCode:-2})},n}var x,R=function(t){return l(void 0,void 0,void 0,(function(){var e;return p(this,(function(n){switch(n.label){case 0:return x?[2,x]:[4,E("https://weblog.cdn-go.cn/sdk/latest/browser-remote-plugins/browser-remote-plugins.js","window.WebLog.BrowserRemotePlugins")];case 1:return e=n.sent(),[2,x=x||e&&new e(t)]}}))}))};function E(t,e){return new Promise((function(n){var r=document.createElement("script");r.async=!0,r.src=t,r.setAttribute("retry-when-error","true"),r.onload=function(){var t=e.split(".").reduce((function(t,e){return t[e]}),window);n(t)},(document.head||document.body).appendChild(r)}))}var T,L=function(){function t(){this.name="loader"}return t.prototype.beforeInvokeLog=function(t){var e=t.msgArray,n=t.type.split("_");if("loader"===n[0]){var r=e.pop();return{msgArray:e,ts:r,type:n[1]||""}}return t},t}();!function(t){t.HttpRequestLogType="x"}(T||(T={}));var S,P=["log","info","warn","error","log"],I=function(t){return"display:inline-block;background-color:"+{log:"#007a41",info:"#1e6fff",warn:"#e07800",error:"#e02424",namespace:"rgba(69, 77, 90, 0.6)"}[t]+";color:#fff;padding: 2px 4px;"};!function(t){t.HIDE="hide",t.SHOW="show"}(S||(S={}));var C,q="dev-console",N=function(){function t(){var t=this;this.name=q,this.persistConsoleDevStatus=function(e){try{window.localStorage[t.getStorageKey()]=e}catch(t){console.error(t)}},this.logHandler=function(e){var n,r,o=e.level,i=e.type;if(i!==T.HttpRequestLogType){var s=[],c=P[o-1],a=i,u=t.client.getOriginalMsg(e);!a&&"string"==typeof(null==u?void 0:u[0])&&/^\w+$/.test(u[0])&&(a=u.shift()),a?s.push("%c"+c.toUpperCase()+"%c"+(a||"?"),I(c),I("namespace")):s.push("%c"+c.toUpperCase(),I(c)),u&&s.push.apply(s,d(u));try{(n=console)[c].apply(n,d(s))}catch(t){(r=console).log.apply(r,d(s))}}},this.getPersistedConsoleDevStatus=function(){try{return window.localStorage[t.getStorageKey()]||S.HIDE}catch(t){return S.HIDE}},this.getStorageKey=function(){return"wl-dev-console-"+t.client.getContext().pid}}return t.prototype.setupOnce=function(t,e){this.client=t,this.getPersistedConsoleDevStatus()!==S.HIDE&&function(t,e){l(this,void 0,void 0,(function(){var r,o;return p(this,(function(i){switch(i.label){case 0:return r=[],o=t.on(n.INSERT_LOG,(function(t){r.push(t)})),[4,t.query()];case 1:return i.sent().concat(r).forEach(e),o(),r=[],[2,t.on(n.INSERT_LOG,e)]}}))}))}(t,this.logHandler)},t}();!function(t){t[t.Request=0]="Request",t[t.ReplyOK=1]="ReplyOK",t[t.ReplyErr=2]="ReplyErr"}(C||(C={}));var A,j,_=function(){function t(){}return t.isRpcMessage=function(e){return e.key===t.rpcKey},t.getMessageType=function(t){return t.type},t.getReq=function(t){return t.req},t.serializeRequest=function(e,n,r,o){return{key:t.rpcKey,type:C.Request,req:e,rpcId:n,method:r,args:o}},t.deserializeRequest=function(t){return{rpcId:t.rpcId,method:t.method,args:t.args}},t.serializeReplyOK=function(e,n){return{key:t.rpcKey,type:C.ReplyOK,req:e,result:n}},t.deserializeReplyOK=function(t){return t.result},t.serializeReplyErr=function(e,n){return{key:t.rpcKey,type:C.ReplyErr,req:e,err:n}},t.deserializeReplyErr=function(t){return t.err},t.rpcKey="weblog-rpc",t}(),M=function(){function t(e,n,r){this.isMain=e,this.sid=n,this.methodNames=r,this.nid=++t.count}return t.identifiers={},t.count=0,t}(),H={MainThreadBackendLogger:G("MainThreadBackendLogger",["fatal"])},D={ExtHostBackend:("ExtHostBackend",A=["init","identify","insertLog","queryLog","reportLog","getSessionId"],j=new M(!1,"ExtHostBackend",A),M.identifiers[j.nid]=j,j)};function G(t,e){var n=new M(!0,t,e);return M.identifiers[n.nid]=n,n}function F(t){return M.identifiers[t].sid}var K=function(){function t(){this.actual=null,this.actualOk=null,this.actualErr=null,this.hasValue=!1,this.value=null,this.hasErr=!1,this.err=null}return Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.toString()},enumerable:!1,configurable:!0}),t.prototype.resolveOk=function(t){this.hasValue||this.hasErr||(this.hasValue=!0,this.value=t,this.actual&&this.actualOk(t))},t.prototype.resolveErr=function(t){this.hasValue||this.hasErr||(this.hasErr=!0,this.err=t,this.actual&&this.actualErr(t))},t.prototype.then=function(t,e){return this.ensureActual().then(t,e)},t.prototype.catch=function(t){return this.ensureActual().then(void 0,t)},t.prototype.finally=function(t){return this.ensureActual().finally(t)},t.prototype.ensureActual=function(){var t=this;return this.actual||(this.actual=new Promise((function(e,n){t.actualOk=e,t.actualErr=n,t.hasValue&&t.actualOk(t.value),t.hasErr&&t.actualErr(t.err)}))),this.actual},t}(),B=function(){function t(t){var e=this;this.pendingRPCReplies={},this.locals=[],this.proxies={},this.lastMessageId=0,this.protocol=t,this.protocol.onMessage((function(t){return e.receiveOneMessage(t)}))}return t.prototype.getProxy=function(t){var e=t.methodNames,n=t.nid;return this.proxies[n]||(this.proxies[n]=this.createProxy(n,e)),this.proxies[n]},t.prototype.set=function(t,e){return this.locals[t.nid]=e,e},t.prototype.createProxy=function(t,e){var n=this,r=Object.create(null);return e.forEach((function(e){r[e]=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n.remoteCall(t,e,r)}})),r},t.prototype.remoteCall=function(t,e,n){var r=++this.lastMessageId,o=String(r),i=new K,s=_.serializeRequest(r,t,e,n);return this.pendingRPCReplies[o]=i,this.protocol.send(s),i},t.prototype.receiveOneMessage=function(t){if(_.isRpcMessage(t)){var e=_.getMessageType(t),n=_.getReq(t);switch(e){case C.Request:var r=_.deserializeRequest(t),o=r.rpcId,i=r.method,s=r.args;this.receiveRequest(n,o,i,s);break;case C.ReplyOK:var c=_.deserializeReplyOK(t);this.receiveReply(n,c,!0);break;case C.ReplyErr:var a=_.deserializeReplyErr(t);this.receiveReply(n,a,!1);break;default:console.error("received unexpected message")}}},t.prototype.receiveRequest=function(t,e,n,r){var o=this;this.invokeHandler(e,n,r).then((function(e){var n=_.serializeReplyOK(t,e);o.protocol.send(n)}),(function(e){var n=_.serializeReplyErr(t,e);o.protocol.send(n)}))},t.prototype.receiveReply=function(t,e,n){var r=String(t);if(Object.prototype.hasOwnProperty.call(this.pendingRPCReplies,r)){var o=this.pendingRPCReplies[r];delete this.pendingRPCReplies[r],o[n?"resolveOk":"resolveErr"](e)}},t.prototype.invokeHandler=function(t,e,n){try{return Promise.resolve(this.doInvokeHandler(t,e,n))}catch(t){return Promise.reject(t)}},t.prototype.doInvokeHandler=function(t,e,n){var r=this.locals[t];if(!r)throw new Error("Unknown actor "+F(t));var o=r[e];if("function"!=typeof o)throw new Error("Unknown method "+e+" on actor "+F(t));return o.apply(r,n)},t}(),z=[],U=[];var W=function(t){this.isInited=!1,this.count=0,this.lastLogTs=0,this.level=r.INFO,this.options=t};function V(t){return"wl-"+t}var J=function(){function t(){this.events=Object.create(null)}return t.prototype.on=function(t,e){var n,r=this;return this.events[t]=null!==(n=this.events[t])&&void 0!==n?n:new Set,this.events[t].add(e),function(){r.events[t].delete(e)}},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.events[t];r&&Array.from(r).forEach((function(t){t.apply(void 0,d(e))}))},t}(),X=function(){function t(t){this.protocol=t,this.eventEmitter=new J,this.onMessage=this.eventEmitter.on.bind(this.eventEmitter,"message"),this.messages=[]}return t.prototype.send=function(t){if(this.protocol)return this.protocol.send(t);this.messages.push(t)},t.prototype.setProtocol=function(t){var e,n,r=this;this.protocol=t,t.onMessage((function(t){r.eventEmitter.emit.bind(r.eventEmitter,"message")(t)}));try{for(var o=f(this.messages),i=o.next();!i.done;i=o.next()){var s=i.value;this.send(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}this.messages=[]},t}(),$=Symbol("original_msg"),Q=function(){function t(t){this.version="1.18.0",this.integrations={},this.namespace="",this.loggers=new Map,this.event=new J,this.context=new W({maxCount:1e4,maxLength:2048,keepDays:10}),this.context.options=this.mergeOptions(t),this.protocol=new X,this.rpcProtocol=new B(this.protocol),this.sdkLogger=this.getLogger("wl-sdk"),this.rpcProtocol.set(H.MainThreadBackendLogger,this.sdkLogger),this.backend=this.rpcProtocol.getProxy(D.ExtHostBackend)}return t.prototype.setDefaultOptions=function(t){void 0===t&&(t={}),this.context.options=this.mergeOptions(t)},t.prototype.init=function(t,e){if(void 0===e&&(e={}),!this.context.isInited){this.context.isInited=!0,this.context.pid=t,this.context.options=this.mergeOptions(e),function(t,e,n){(e.integration||[]).forEach((function(r){var o;-1===U.indexOf(r.name)&&!1!==(null===(o=r.canSetup)||void 0===o?void 0:o.call(r,n))&&(t[r.name]=r,function(t,e,n){var r;null===(r=t.setupOnce)||void 0===r||r.call(t,e,n),z.push(t),U.push(t.name)}(r,n,e))}))}(this.integrations,this.context.options,this);var n=this.context.options,r=n.release,o=n.relatedPids,i=n.env,s=n.keepDays,c=n.dbName,a=n.batchLogTime,u=n.docId;this.sdkLogger.info({init:{pid:t,release:r,env:i,v:this.version}}),this.backend.init(t,{release:r,env:i,relatedPids:o,keepDays:s,docId:u,dbName:c||V(t),batchLogTime:a})}},t.prototype.identify=function(t,e){return l(this,void 0,void 0,(function(){var r;return p(this,(function(o){switch(o.label){case 0:return this.sdkLogger.info({identify:{uid:t,info:e}}),t?(this.context.uid=t,[4,this.backend.identify(t,e)]):[2];case 1:return r=o.sent(),this.context.config=r,this.sdkLogger.info({config:r}),this.event.emit(n.GET_CONFIG,{config:r}),[2,r]}}))}))},t.prototype.report=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),this.backend.reportLog(t,e,n)},t.prototype.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.invoke(r.FATAL,t)},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.invoke(r.DEBUG,t)},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.invoke(r.DEBUG,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.invoke(r.INFO,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.invoke(r.WARN,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.invoke(r.ERROR,t)},t.prototype.getLogger=function(t){var e=this.loggers.get(t);if(e)return e;var n=Object.create(this,{namespace:{value:t}});return this.loggers.set(t,n),n},t.prototype.on=function(t,e){return this.event.on(t,e)},t.prototype.query=function(t){return this.backend.queryLog(t)},t.prototype.setProtocol=function(t){this.protocol.setProtocol(t)},t.prototype.setLevel=function(t){this.context.level=t},t.prototype.getOptions=function(){return this.context.options},t.prototype.getContext=function(){return this.context},t.prototype.getSessionId=function(){return this.backend.getSessionId()},t.prototype.getOriginalMsg=function(t){var e;return null!==(e=t[$])&&void 0!==e?e:[]},t.prototype.mergeOptions=function(t){var e;void 0===t&&(t={});var n=((null===(e=this.context.options)||void 0===e?void 0:e.integration)||[]).concat(t.integration||[]);return u(u(u({},this.context.options),t),{integration:n})},t.prototype.invoke=function(t,e){var r,o=this.context,i=o.count,s=o.lastLogTs,c=o.options,a=c.maxCount,u=c.maxLength;if(this.context.count=i+1,!(t<this.context.level||i>a)){var l,p=(l={msgArray:e,ts:Date.now(),type:this.namespace},z.reduce((function(t,e){return e.beforeInvokeLog?e.beforeInvokeLog(t):t}),l)),f=p.msgArray;f=function(t,e){var n=t,r=y(t);return r.length>e&&(n=[r.slice(0,e)+".."]),n}(f=function(t,e,n){var r=t;return e===n&&(r=["[wl]鍗曟璁块棶杈惧埌鏃ュ織涓婇檺:"+n+"鏉"],console.warn(r)),r}(f,i,a),u),this.context.lastLogTs=Math.max(p.ts,s+1);var h=((r={level:t,msg:y(f)})[$]=p.msgArray,r.type=p.type,r.ts=this.context.lastLogTs,r);this.event.emit(n.INSERT_LOG,h),this.backend.insertLog(h)}},t}();function Y(t){var e=t.backendWorkerUrl;return l(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return e?[4,Z(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[4,E(i+"browser/browser-backend-web.js","window.WebLog.mainProtocol")];case 3:return[2,t.sent()]}}))}))}function Z(t){var e,n=new Worker(t),r={on:(e=new J).on.bind(e,"message"),fire:e.emit.bind(e,"message")};return n.onmessage=function(t){var e=t.data;r.fire(e)},n.onerror=function(t){!function(t,e){console.error("worker error",e)}(0,t)},{onMessage:r.on,send:function(t){n.postMessage(t)}}}var tt={BrowserMainThreadNetwork:G("BrowserMainThreadNetwork",["get","post"])},et=function(){this.get=b,this.post=O},nt=function(t){function e(e){var n=t.call(this,e)||this;return n.setClientNetwork(),n}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.init=function(e,n){return void 0===n&&(n={}),l(this,void 0,void 0,(function(){var r;return p(this,(function(o){switch(o.label){case 0:return this.getContext().isInited?[2,this]:(t.prototype.init.call(this,e,n),[4,Y(this.getOptions())]);case 1:return r=o.sent(),this.setProtocol(r),[2,this]}}))}))},e.prototype.loadAsset=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l(this,void 0,void 0,(function(){var e;return p(this,(function(n){switch(n.label){case 0:return[4,R(this)];case 1:return null==(e=n.sent())||e.call.apply(e,d(t)),[2]}}))}))},e.prototype.showConsole=function(){this.integrations[q].persistConsoleDevStatus(S.SHOW)},e.prototype.hideConsole=function(){this.integrations[q].persistConsoleDevStatus(S.HIDE)},e.prototype.setClientNetwork=function(){this.rpcProtocol.set(tt.BrowserMainThreadNetwork,new et)},e}(Q),rt=new nt({integration:[new s,new c,new L,new N]}),ot="doc.weixin.qq.com"===location.host;function it(){try{return window.location.pathname.split("/").pop()||""}catch(t){return""}}var st=/(http:\/\/|https:\/\/)?(doc.weixin.qq.com|docs.qq.com)/gi,ct="doc.weixin.qq.com"===location.host,at="[object process]"===Object.prototype.toString.call(void 0!==t?t:0)?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},ut=function(){function t(){this.name="log-filter"}return t.prototype.setupOnce=function(){},t.prototype.beforeInvokeLog=function(t){var e=this;if(ct)try{var n=t.msgArray;if(n instanceof Array&&n.length>0){var r=n.map((function(t){var n=new WeakSet,r=e.deepClone(t,0,n);return n=null,r}));t.msgArray=r}}catch(t){console.log(t)}return t},t.prototype.deepClone=function(t,e,n){var r,o,i=this;if(void 0===e&&(e=0),void 0===n&&(n=null),!(e>8)){var s=typeof t;if("string"===s)return t.replace(st,"TDOC_HOSTNAME");if("boolean"===s||"number"===s||"undefined"===s||null===t)return t;if("symbol"===s||"bigint"===s)return t.toString();if("function"===s)return"[Function: "+(t.name||"anonymous")+"]";if(t===at)return"[Symbol(window)]";if("object"===s&&null!==t){if(null==n?void 0:n.has(t))return"[Circular]";n&&n.add(t)}if(Array.isArray(t))return t.map((function(t){return i.deepClone(t,e+1,n)}));var c={},a=Object.keys(t);try{for(var u=f(a),l=u.next();!l.done;l=u.next()){var p=l.value;c[p]=this.deepClone(t[p],e+1,n)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return c}},t}(),lt=function(){function t(){this.name="report-info"}return t.prototype.setupOnce=function(t,e){return l(this,void 0,void 0,(function(){var n,r;return p(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),"doc.weixin.qq.com"===location.host&&t instanceof nt?[4,t.getSessionId()]:[3,2];case 1:n=o.sent(),e.remotePluginOptions||(e.remotePluginOptions={reportDialog:{}}),e.remotePluginOptions.reportDialog||(e.remotePluginOptions.reportDialog={}),e.remotePluginOptions.reportDialog.getReportInfo=function(){return"docId: "+it()+"; sessionId: "+n},o.label=2;case 2:return[3,4];case 3:return r=o.sent(),console.error("report-info integration errror",r),[3,4];case 4:return[2]}}))}))},t}();return rt.setDefaultOptions({docId:it(),backendWorkerUrl:"/scenario/pub/wl2/browser-backend-worker-1.18.0.js",integration:[new ut,new lt],batchLogTime:ot?3e3:0}),rt}()}).call(this,n(129),n(1))},129:function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,u=[],l=!1,p=-1;function f(){l&&a&&(l=!1,a.length?u=a.concat(u):p=-1,u.length&&h())}function h(){if(!l){var t=c(f);l=!0;for(var e=u.length;e;){for(a=u,u=[];++p<e;)a&&a[p].run();p=-1,e=u.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||c(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}});
//# sourceMappingURL=weblog_tdoc_browser-146b79.js.map