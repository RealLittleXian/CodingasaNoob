(this.webpackJsonp=this.webpackJsonp||[]).push([["common~205ac551"],{"1068873c4f":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return y}));var n=i("516fa97df2"),r=i("d3ae7a7031"),o=i.n(r),a={preserveDrawingBuffer:!0},s=function(t){function e(e,i){t.call(this),this._width=e,this._height=i;var n=document.createElement("canvas");n.width=e,n.height=i,this.native=n;var r=n.getContext("webgl",a)||n.getContext("experimental-webgl",a);if(!r)throw new TypeError("WebGL is not supported.");this.gl=r,r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0}};return e.getInstance=function(){return e.instance||(e.instance=new e(1,1)),e.instance},i.width.get=function(){return this._width},i.height.get=function(){return this._height},e.prototype.resize=function(t,e){this._width=t,this._height=e,this.native.width=t,this.native.height=e},Object.defineProperties(e.prototype,i),e}(n.u),h=function(t){function e(e){var i=e.type?c[e.type]:c[e.nativeEvent.type];if(!i)throw new TypeError("Native event "+e.nativeEvent.type+" is not supported in alloy-renderer.");t.call(this,Object.assign({},e,{type:i}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.stopPropagation=function(){this.type===c[this.nativeEvent.type]&&this.nativeEvent.stopPropagation(),t.prototype.stopPropagation.call(this)},e.prototype.preventDefault=function(){this.type===c[this.nativeEvent.type]&&this.nativeEvent.preventDefault()},e}(n.y),c={touchstart:"onTouchStart",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseleave:"onMouseLeave",mouseenter:"onMouseEnter",mouseup:"onMouseUp",click:"onClick",dblclick:"onDoubleClick",dragover:"onDragOver",drop:"onDrop",wheel:"onWheel",contextmenu:"onContextMenu"},l=function(t){function e(e){var i=this;void 0===e&&(e={}),t.call(this),this._width=0,this._height=0,this._resolution=1,this.supportsTouchEvents="ontouchstart"in window,this.onNativeEvent=function(t){if(i.onEvents){var e=i.synthesizeNativeEvent(t);i.onEvents(e)}},this.native=e.native||document.createElement("canvas"),this.ctx=this.native.getContext("2d"),this._state=new u(this.ctx,this._transform),this.useGlobalGlBuffer=!1!==e.useGlobalGlBuffer,this.modifyNativeStyle=!1!==e.modifyNativeStyle,!1!==e.bindEvents&&this.bindNativeEvents()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={resolution:{configurable:!0},width:{configurable:!0},height:{configurable:!0},cursor:{configurable:!0},autoMount:{configurable:!0},font:{configurable:!0},filter:{configurable:!0},globalAlpha:{configurable:!0},globalCompositeOperation:{configurable:!0},textBaseline:{configurable:!0},nativeFillStyle:{configurable:!0},nativeStrokeStyle:{configurable:!0},lineWidth:{configurable:!0},lineCap:{configurable:!0},lineJoin:{configurable:!0},lineDash:{configurable:!0},lineDashOffset:{configurable:!0},miterLimit:{configurable:!0}};return i.resolution.get=function(){return this._resolution},i.resolution.set=function(t){var e=this.width,i=this.height;this._resolution=t,this.width=e,this.height=i},i.width.get=function(){return this._width},i.width.set=function(t){var e=Math.ceil(t);this._width=e,this.modifyNativeStyle&&(this.native.width=Math.ceil(t*this.resolution),this.native.style.width=e+"px",this._state.forceUpdate())},i.height.get=function(){return this._height},i.height.set=function(t){var e=Math.ceil(t);this._height=e,this.modifyNativeStyle&&(this.native.height=Math.ceil(t*this.resolution),this.native.style.height=e+"px",this._state.forceUpdate())},i.cursor.get=function(){return this.native.style.cursor},i.cursor.set=function(t){this.native.style.cursor=t},i.autoMount.get=function(){return this._autoMount},i.autoMount.set=function(t){this._autoMount!==t&&(this._autoMount||this.native.parentNode?this._autoMount&&this.native.parentNode&&this.native.parentNode.removeChild(this.native):(this.native.style.display="none",document.body.appendChild(this.native)),this._autoMount=t)},i.font.get=function(){return this._state.font},i.font.set=function(t){this._state.set("font",t)},i.filter.get=function(){return this._state.filter},i.filter.set=function(t){this._state.set("filter",t)},i.globalAlpha.get=function(){return this._state.globalAlpha},i.globalAlpha.set=function(t){this._state.set("globalAlpha",t)},i.globalCompositeOperation.get=function(){return this._state.globalCompositeOperation},i.globalCompositeOperation.set=function(t){this._state.set("globalCompositeOperation",t)},i.textBaseline.get=function(){return this._state.textBaseline},i.textBaseline.set=function(t){this._state.set("textBaseline",t)},i.nativeFillStyle.get=function(){return this._state.fillStyle},i.nativeFillStyle.set=function(t){this._state.set("fillStyle",t)},i.nativeStrokeStyle.get=function(){return this._state.strokeStyle},i.nativeStrokeStyle.set=function(t){this._state.set("strokeStyle",t)},i.lineWidth.get=function(){return this._state.lineWidth},i.lineWidth.set=function(t){this._state.set("lineWidth",t)},i.lineCap.get=function(){return this._state.lineCap},i.lineCap.set=function(t){this._state.set("lineCap",t)},i.lineJoin.get=function(){return this._state.lineJoin},i.lineJoin.set=function(t){this._state.set("lineJoin",t)},i.lineDash.get=function(){return this._state.lineDash},i.lineDash.set=function(t){this._state.set("lineDash",t)},i.lineDashOffset.get=function(){return this._state.lineDashOffset},i.lineDashOffset.set=function(t){this._state.set("lineDashOffset",t)},i.miterLimit.get=function(){return this._state.miterLimit},i.miterLimit.set=function(t){this._state.set("miterLimit",t)},e.prototype.createPattern=function(e,i){return e instanceof t||e instanceof n.u?this.ctx.createPattern(e.native,i):e instanceof n.x?this.ctx.createPattern(e.data,i):this.ctx.createPattern(e,i)},e.prototype.createLinearGradient=function(t,e,i,n){return this.ctx.createLinearGradient(t,e,i,n)},e.prototype.createRadialGradient=function(t,e,i,n,r,o){return this.ctx.createRadialGradient(t,e,i,n,r,o)},e.prototype.drawCanvas=function(e,i,r,o,a,s,h,c,l){void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===h&&(h=0),this.commit();var u=e instanceof n.u?n.F.Zero:e.padding,f=(e instanceof t?e.contextScale.sx:1)/this.contextScale.sx,d=(e instanceof t?e.contextScale.sy:1)/this.contextScale.sy,p=i-u.left/f,g=r-u.top/d,y=void 0!==o?o:e.width,v=void 0!==a?a:e.height;void 0!==c&&void 0!==l?this.ctx.drawImage(e.native,s,h,c,l,p,g,y,v):this.ctx.drawImage(e.native,p,g,y,v)},e.prototype.drawImage=function(t,e,i,n,r,o,a,s,h){void 0===o&&(o=0),void 0===a&&(a=0),this.commit();var c=t.data;void 0!==s&&void 0!==h?this.ctx.drawImage(c,o,a,s,h,e,i,n,r):void 0!==n&&void 0!==r?this.ctx.drawImage(c,e,i,n,r):this.ctx.drawImage(c,e,i)},e.prototype.clip=function(){this.ctx.clip()},e.prototype.fill=function(t){void 0===t&&(t="evenodd"),this.commit(),this.ctx.fill(t)},e.prototype.stroke=function(){this.commit(),this.ctx.stroke()},e.prototype.beginPath=function(){this.ctx.beginPath()},e.prototype.closePath=function(){this.ctx.closePath()},e.prototype.arc=function(t,e,i,n,r,o){this.commit(),this.ctx.arc(t,e,i,n,r,o)},e.prototype.arcTo=function(t,e,i,n,r){this.commit(),this.ctx.arcTo(t,n,i,n,r)},e.prototype.bezierCurveTo=function(t,e,i,n,r,o){this.commit(),this.ctx.bezierCurveTo(t,e,i,n,r,o)},e.prototype.ellipse=function(t,e,i,n,r,o,a,s){this.commit(),this.ctx.ellipse(t,e,i,n,r,o,a,s)},e.prototype.fillRect=function(t,e,i,n){this.commit(),this.ctx.fillRect(t,e,i,n)},e.prototype.lineTo=function(t,e){this.commit(),this.ctx.lineTo(t,e)},e.prototype.moveTo=function(t,e){this.commit(),this.ctx.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,n){this.commit(),this.ctx.quadraticCurveTo(t,e,i,n)},e.prototype.rect=function(t,e,i,n){this.commit(),this.ctx.rect(t,e,i,n)},e.prototype.clear=function(){t.prototype.clear.call(this),this.resetContext()},e.prototype.clearRect=function(t,e,i,n){this.commit(),this.ctx.clearRect(t,e,i,n)},e.prototype.fillText=function(t,e,i){this.commit(),this.ctx.fillText(t,e,i)},e.prototype.strokeText=function(t,e,i){this.commit(),this.ctx.strokeText(t,e,i)},e.prototype.measureText=function(t){return this.commit(),this.ctx.measureText(t)},e.prototype.getImageData=function(t,e,i,n){return this.ctx.getImageData(t,e,i,n)},e.prototype.putImageData=function(t,e,i){this.ctx.putImageData(t,e,i)},e.prototype.toDataUrl=function(t,e){return this.native.toDataURL(t,e)},e.prototype.toBlob=function(t,e,i){this.native.toBlob(t,e,i)},e.prototype.save=function(){this._state.save(),this.ctx.save()},e.prototype.restore=function(){this._state.restore(),this.ctx.restore()},e.prototype.pad=function(t){if(0!==t.top||0!==t.right||0!==t.bottom||0!==t.left){var e=n.g.getInstance().checkOut(this.constructor);e.resetBufferInfo(this,this.width,this.height,this.resolution,!0),e.padding.copyFrom(this.padding),e.transform=n.C.Identity,e.drawCanvas(this),f.copyFrom(t).expand(),this.padding.add(f),this.transform=this.transform,this.save(),this.width+=f.left+f.right,this.height+=f.top+f.bottom,this.transform=new n.C(1,0,0,1,-this.contextTranslate.x,-this.contextTranslate.y),this.drawCanvas(e,0,0),this.restore(),n.g.getInstance().checkIn(e)}},e.prototype.createBuffer=function(t,i,r){void 0===t&&(t=this.width),void 0===i&&(i=this.height),void 0===r&&(r=this.resolution);var o=new e(p);return o.isBuffer=!0,o.parent=this,o.resolution=r,o.width=t,o.height=i,o.transform=n.C.Identity,o},e.prototype.resetBufferInfo=function(t,e,i,r,o){this.isBuffer=!0,t&&(this.parent=t),r&&(this.resolution=r),e&&(this.width=e),i&&(this.height=i),o&&t&&(this.contextScale.sx=t.contextScale.sx,this.contextScale.sy=t.contextScale.sy),this.transform=n.C.Identity},e.prototype.resetContext=function(){this._state.resetStates(this.ctx)},e.prototype.dispose=function(){this.supportsTouchEvents&&(this.native.removeEventListener("touchstart",this.onNativeEvent),this.native.removeEventListener("touchcancel",this.onNativeEvent),this.native.removeEventListener("touchend",this.onNativeEvent),this.native.removeEventListener("touchmove",this.onNativeEvent)),this.native.removeEventListener("mousemove",this.onNativeEvent),this.native.removeEventListener("mouseup",this.onNativeEvent),this.native.removeEventListener("mousedown",this.onNativeEvent),this.native.removeEventListener("mouseleave",this.onNativeEvent),this.native.removeEventListener("mouseenter",this.onNativeEvent),this.native.removeEventListener("contextmenu",this.onNativeEvent),this.native.removeEventListener("click",this.onNativeEvent),this.native.removeEventListener("dblclick",this.onNativeEvent),this.native.removeEventListener("dragover",this.onNativeEvent),this.native.removeEventListener("drop",this.onNativeEvent),this.native.removeEventListener("wheel",this.onNativeEvent,{capture:!0})},e.prototype.setTransform=function(t,e,i,n,r,o){this._state.setTransform(t,e,i,n,r,o)},e.prototype.createGlBuffer=function(t,e,i){void 0===i&&(i=this.resolution);try{var n=(void 0!==t?t:this.width)*i,r=(void 0!==e?e:this.height)*i;if(this.useGlobalGlBuffer){var o=s.getInstance();return void 0!==t&&void 0!==e&&o.resize(n,r),o}return new s(n,r)}catch(t){return null}},e.prototype.commit=function(){this._state.commit(this.ctx)},e.prototype.canUseTouchEvent=function(t,e){return e&&t instanceof TouchEvent},e.prototype.synthesizeNativeEvent=function(t){var e=[];if(this.canUseTouchEvent(t,this.supportsTouchEvents))for(var i=0,n=t.changedTouches;i<n.length;i+=1){var r=n[i],o=this.getWorldPosition(r.clientX,r.clientY);if(!o)return[];var a={nativeEvent:t,worldX:o.x,worldY:o.y};e.push(new h(a))}else{var s=this.getWorldPosition(t.clientX,t.clientY);if(!s)return[];var c={nativeEvent:t,worldX:s.x,worldY:s.y};e.push(new h(c))}return e},e.prototype.bindNativeEvents=function(){this.supportsTouchEvents&&(this.native.addEventListener("touchstart",this.onNativeEvent),this.native.addEventListener("touchcancel",this.onNativeEvent),this.native.addEventListener("touchend",this.onNativeEvent),this.native.addEventListener("touchmove",this.onNativeEvent)),this.native.addEventListener("mousemove",this.onNativeEvent),this.native.addEventListener("mouseup",this.onNativeEvent),this.native.addEventListener("mousedown",this.onNativeEvent),this.native.addEventListener("mouseleave",this.onNativeEvent),this.native.addEventListener("mouseenter",this.onNativeEvent),this.native.addEventListener("contextmenu",this.onNativeEvent),this.native.addEventListener("click",this.onNativeEvent),this.native.addEventListener("dblclick",this.onNativeEvent),this.native.addEventListener("dragover",this.onNativeEvent),this.native.addEventListener("drop",this.onNativeEvent),this.native.addEventListener("wheel",this.onNativeEvent,{passive:!0,capture:!0})},e.prototype.getWorldPosition=function(t,e){var i=this.native.getBoundingClientRect(),r=t-i.left,o=e-i.top,a=r*this.width/i.width,s=o*this.height/i.height;return new n.H(a,s)},Object.defineProperties(e.prototype,i),e}(n.f),u=function(){function t(t,e){this._committedTransformId=0,this._saves=[],this._defaultValue={textBaseline:"alphabetic",fillStyle:"#000000",strokeStyle:"#000000",font:"",filter:"none",globalAlpha:1,globalCompositeOperation:"",lineWidth:1,lineCap:"butt",lineJoin:"miter",lineDash:[],lineDashOffset:0,miterLimit:10,transform:n.C.Identity,userTransform:n.C.Identity},this._changes=new Set,this.textBaseline=t.textBaseline,this.fillStyle=t.fillStyle,this.strokeStyle=t.strokeStyle,this.font=t.font,this.filter=t.filter,this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.lineWidth=t.lineWidth,this.lineCap=t.lineCap,this.lineJoin=t.lineJoin,this.lineDash=t.getLineDash(),this.lineDashOffset=t.lineDashOffset,this.miterLimit=t.miterLimit;var i="getTransform"in t?t.getTransform():d;this.transform=new n.C(i.a,i.b,i.c,i.d,i.e,i.f),this.userTransform=e,Object.assign(this._defaultValue,this)}return t.prototype.set=function(t,e){this[t]!==e&&(this[t]=e,this._changes.add(t))},t.prototype.setTransform=function(t,e,i,n,r,o){var a=this.transform;t===a.a&&e===a.b&&i===a.c&&n===a.d&&r===a.tx&&o===a.ty||a.set(t,e,i,n,r,o)},t.prototype.commit=function(t){var e=this;if(this._committedTransformId!==this.transform._id){this._committedTransformId=this.transform._id;var i=this.transform,n=i.a,r=i.b,o=i.c,a=i.d,s=i.tx,h=i.ty;t.setTransform(n,r,o,a,s,h)}this._changes.size>0&&(this._changes.forEach((function(i){"lineDash"===i?t.setLineDash(e.lineDash):t[i]=e[i]})),this._changes.clear())},t.prototype.save=function(){this._saves.push({textBaseline:this.textBaseline,fillStyle:this.fillStyle,strokeStyle:this.strokeStyle,font:this.font,filter:this.filter,globalAlpha:this.globalAlpha,globalCompositeOperation:this.globalCompositeOperation,lineWidth:this.lineWidth,lineCap:this.lineCap,lineJoin:this.lineJoin,lineDash:this.lineDash,lineDashOffset:this.lineDashOffset,miterLimit:this.miterLimit,transform:n.C.fromMatrix(this.transform),userTransform:n.C.fromMatrix(this.userTransform)})},t.prototype.restore=function(){if(0!==this._saves.length){var t=this._saves.pop();this.transform.copyFrom(t.transform),t.transform=this.transform,this.userTransform.copyFrom(t.userTransform),t.userTransform=this.userTransform,Object.assign(this,t),this.forceUpdate()}},t.prototype.forceUpdate=function(){this._committedTransformId=0,this._changes=new Set(["textBaseline","fillStyle","strokeStyle","font","filter","globalAlpha","globalCompositeOperation","lineWidth","lineCap","lineJoin","lineDash","lineDashOffset","miterLimit"])},t.prototype.resetStates=function(t){this._changes.clear(),this._saves=[],Object.assign(this,this._defaultValue),"textBaseline"in t&&(t.textBaseline=this._defaultValue.textBaseline),"fillStyle"in t&&(t.fillStyle=this._defaultValue.fillStyle),"strokeStyle"in t&&(t.strokeStyle=this._defaultValue.strokeStyle),"font"in t&&(t.font=this._defaultValue.font),"filter"in t&&(t.filter=this._defaultValue.filter),"globalAlpha"in t&&(t.globalAlpha=this._defaultValue.globalAlpha),"globalCompositeOperation"in t&&(t.globalCompositeOperation=this._defaultValue.globalCompositeOperation),"lineWidth"in t&&(t.lineWidth=this._defaultValue.lineWidth),"lineCap"in t&&(t.lineCap=this._defaultValue.lineCap),"lineJoin"in t&&(t.lineJoin=this._defaultValue.lineJoin),"setLineDash"in t&&t.setLineDash(this._defaultValue.lineDash),"lineDashOffset"in t&&(t.lineDashOffset=this._defaultValue.lineDashOffset),"miterLimit"in t&&(t.miterLimit=this._defaultValue.miterLimit)},t}(),f=new n.F,d={a:1,b:0,c:0,d:1,e:0,f:0},p={bindEvents:!1};n.g.getInstance().createOptions=p;var g=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.load=function(t){if(function(t){if("string"==typeof t)return!0;if(t instanceof HTMLImageElement)return!0;if(t instanceof HTMLVideoElement)return!0;if(t instanceof HTMLCanvasElement)return!0;if(t instanceof ImageBitmap)return!0;return!1}(t))return this.loadImage(t);throw new Error("not supported")},e.prototype.loadImage=function(t,e){if(void 0===e&&(e={}),"string"!=typeof t)return new n.x(t);if(/\.svg/i.test(t)&&!1!==e.inlineSvg)return new n.x(this.loadInlineSvg(t));var i=e.crossOrigin;void 0===i&&(i=null);var r=!0===i?"anonymous":!1===i?void 0:i;return new n.x(this.loadNativeImage(t,r))},e.prototype.loadInlineSvg=function(t){var e=this;return new Promise((function(i,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.onerror=n,r.onreadystatechange=function(){if(4===r.readyState){200!==r.status&&n(new RangeError("The image response with code "+r.status));var t=document.createElement("div");t.innerHTML=o.a.sanitize(r.responseText,{USE_PROFILES:{svg:!0,svgFilters:!0}});var a=t.querySelector(":scope > svg");if(!a)return n(new TypeError("The requested resource is not a valid SVG."));if(!a.hasAttribute("width")||!a.hasAttribute("height")){t.style.cssText="position: absolute; width: 0; height: 0",document.body.appendChild(t);var s=a.getBBox(),h=s.width,c=s.height;a.setAttribute("width",String(h)),a.setAttribute("height",String(c)),document.body.removeChild(t)}a.setAttribute("preserveAspectRatio","none");var l=encodeURIComponent(a.outerHTML).replace(/'/g,"%27").replace(/"/g,"%22");i(e.loadNativeImage("data:image/svg+xml,"+l))}},r.send()}))},e.prototype.loadNativeImage=function(t,e){var i=new Image;return i.src=t,void 0!==e&&(i.crossOrigin=e),new Promise((function(t,e){i.onload=function(){return t(i)},i.onerror=e}))},e}(n.B);var y=function(t){function e(){t.apply(this,arguments),this.factory=l,this.loader=g.getInstance(),this.interactionFactory=h}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.O)},"2beec10acc":function(t,e,i){var n;n=()=>(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{BrevityTimeline:()=>we,BrevityTween:()=>ce});var i=1e8,n=1e-8,r=1e5,o=2*Math.PI,a={duration:.5,overwrite:!1,delay:0},s={onComplete:1,onCompleteParams:1,onUpdate:1,onUpdateParams:1,onStart:1,onStartParams:1,onReverseComplete:1,onReverseCompleteParams:1,onInterrupt:1,onInterruptParams:1,parent:1,duration:1,ease:1,delay:1,overwrite:1,runBackwards:1,startAt:1,immediateRender:1,data:1,paused:1,reversed:1,lazy:1,callbackScope:1,stringFilter:1,id:1,inherit:1,keyframes:1,autoRevert:1};function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}var l,u,f,d,p,g,y,v,m,_,x,b,w,T=/(?:-?\.?\d|\.)+/gi,O=function(t){return"number"==typeof t},S=function(t){return"string"==typeof t},C=function(t){return"function"==typeof t},E=function(t){return!1!==t},R=function(t){return"object"===c(t)},k=function(t){return C(t)||S(t)},A=function(t){return void 0===t},L="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},P=/[\d.+\-=]+(?:e[-+]\d*)*/i,I=function(t,e){for(var i in e)t[i]=e[i];return t},M=function(t,e,i){return(i=t[e])&&C(i)?t[e]():A(i)&&t.getAttribute&&t.getAttribute(e)||i},B=function(t,e){return S(t)&&(e=P.exec(t))?t.substr(e.index+e[0].length):""},D=function(t,e){var i,n={};for(i in t)i in e||(n[i]=t[i]);return n},F=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},N=function(t,e,i){return t[e]=i},j=function(t,e,i){return t[e](i)},X=function(t,e,i,n){return t[e](n.fp,i)},Y=function(t,e,i){return t.setAttribute(e,i)},W=function(t,e){return C(t[e])?j:A(t[e])&&t.setAttribute?Y:N},U=function(t,e){return(t=t.split(",")).forEach(e)||t},H=Array.isArray,V=[].slice,G=function(t,e){return t&&R(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&R(t[0]))&&!t.nodeType&&t!==window},z=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.forEach((function(t){return S(t)&&!e||G(t,1)?i.push.apply(i,function(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(q(t))):i.push(t)}))||i},q=function(t,e,i){return S(t)&&!i?V.call(e.querySelectorAll(t),0):H(t)?z(t,i):G(t)?V.call(t,0):t?[t]:[]},J=function(t,e,i,n){return o=function(){return H(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,"".concat(i).length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*n)/n},(r=H(t)?!e:!0===i?!!(i=0):!n)||0===r?o():o;var r,o},Q=function(t){for(var e,i,n,r,o=0,a="",s=/[^,'"\[\]\s]+/gi;~(e=t.indexOf("random(",o));)n=t.indexOf(")",e),r="["===t.charAt(e+7),i=t.substr(e+7,n-e-7).match(r?s:T),a+=t.substr(o,e-o)+J(r?i:+i[0],r?0:+i[1],+i[2]||1e-5),o=n+1;return a+t.substr(o,t.length-o)},K=function(t){var e=parseFloat(t);return(e||0===e)&&"".concat(t).match(/[^,'"\[\]\s]+/gi).length<2?e:S(t)?t.trim():t},$=function(t,e,i){return i<t?t:i>e?e:i},Z=function(){return 0},tt=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},et=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},it={_start:0,endTime:Z,totalDuration:Z},nt=function(t){return Math.round((t+1e8)%1*r)/r||(t<0?0:1)},rt=function(t){return Math.round(t*r)/r||0},ot=function t(e,n,r){var o,a,s,h=e.labels,c=e._recent||it,l=e.duration()>=i?c.endTime(!1):e._dur;return S(n)&&(isNaN(n)||n in h)?(a=n.charAt(0),s="%"===n.substr(-1),o=n.indexOf("="),"<"===a||">"===a?(o>=0&&(n=n.replace(/=/,"")),("<"===a?c._start:c.endTime(!0))+(parseFloat(n.substr(1))||0)*(s?(o<0?c:r).totalDuration()/100:1)):o<0?(n in h||(h[n]=l),h[n]):(a=parseFloat(n.charAt(o-1)+n.substr(o+1)),s&&r&&(a=a/100*(H(r)?r[0]:r).totalDuration()),o>1?t(e,n.substr(0,o-1),r)+a:l+a)):null==n?l:+n},at=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},st=function(t){return Math.round(1e7*t)/1e7||0},ht=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},ct=function(t){var e=t._tDur/Math.abs(t._ts||t._rts||n),i=st(t._start+(e||0));return t._end=i,i},lt=function(t,e){var i=t._dp;if(i&&i.smoothChildTiming&&t._ts){var n=t._dirty?t.totalDuration():t._tDur,r=t._ts>0?e/t._ts:(n-e)/-t._ts;t._start=st(i._time-r),ct(t),i._dirty||ht(i,t)}return t},ut=function(t,e,i,n){var r=st(e)||0,o=t._tTime/t._tDur;return o&&!n&&(t._time*=r/t._dur),t._dur=r,t._tDur=r,o>0&&(n?t.parent&&ct(t):(t._tTime=t._tDur*o,lt(t,t._tTime))),i||ht(t.parent,t),t},ft=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},dt=function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i},pt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},gt=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=pt(t.rawTime(),e),(!e._dur||$(0,e.totalDuration(),i)-e._tTime>n)&&e.render(i,!0)),ht(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-1e-8}},yt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},vt=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},mt=function(t,e,i,n){for(var r,o=this._pt;o;)r=o._next,o.p===n&&o.modifier(t,e,i),o=r},_t=function(t){for(var e,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?_removeLinkedListItem(this,n,"_pt"):n.dep||(e=1),n=i;return!e},xt=(g=Date.now,y=g(),v=y,_=m=1e3/240,b=function t(e){var i,n,r,o=g()-v,a=!0===e;o>500&&(y+=o-33);var s=(n=(v+=o)-y)-_;if((s>0||a)&&(w.frame+=1,r=w.frame,d=n-1e3*w.time,n/=1e3,w.time=n,_+=s+(s>=m?4:m-s),i=1),a||(l=u(t)),i)for(p=0;p<x.length;p++)x[p](n,d,r,e)},w={time:0,frame:0,tickerActive:0,coreReady:!1,tick:function(){b(!0)},wake:function(){w.coreReady&&!w.tickerActive&&(f=window.requestAnimationFrame,l&&w.sleep(),u=f||function(t){return setTimeout(t,_-1e3*w.time+1|0)},w.tickerActive=!0,b(2))},sleep:function(){(f?window.cancelAnimationFrame:clearTimeout)(l),w.tickerActive=!1,u=function(){return 0}},add:function(t){x.indexOf(t)<0&&x.push(t),w.wake()},remove:function(t,e){~(e=x.indexOf(t))&&x.splice(e,1)&&p>=e&&p--},_listeners:x=[]});function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function wt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ot(n.key),n)}}function Tt(t,e,i){return(e=Ot(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ot(t){var e=function(t,e){if("object"!==bt(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===bt(e)?e:String(e)}var St=[],Ct={},Et=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vars=e,this._delay=+e.delay||0,this._ts=1,ut(this,+e.duration,1,1),this.data=e.data,xt.wake(),this._lazyTweens=St,this._lazyLookup=Ct}var e,i,r;return e=t,i=[{key:"delay",value:function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay}},{key:"duration",value:function(t){return arguments.length?this.totalDuration(t):this.totalDuration()&&this._dur}},{key:"totalDuration",value:function(t){return arguments.length?(this._dirty=0,ut(this,t)):this._tDur}},{key:"totalTime",value:function(e,i){if(xt.wake(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(lt(this,e),!r._dp||r.parent||gt(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&this._addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===n||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),t._lazySafeRender(this,e,i)),this}},{key:"time",value:function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t)%this._dur||(t?this._dur:0),e):this._time}},{key:"totalProgress",value:function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio}},{key:"progress",value:function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this.duration()?Math.min(1,this._time/this._dur):this.ratio}},{key:"iteration",value:function(t,e){var i=this.duration();return arguments.length?this.totalTime(this._time+(t-1)*i,e):1}},{key:"timeScale",value:function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?pt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this._recacheAncestors(this.totalTime($(-this._delay,this._tDur,e),!0)),ct(this),this}},{key:"_recacheAncestors",value:function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}},{key:"paused",value:function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._act=0,this._ts=0):(xt.wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==n&&(this._tTime-=n)))),this):this._ps}},{key:"startTime",value:function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&this._addToTimeline(e,this,t-this._delay),this}return this._start}},{key:"endTime",value:function(t){return this._start+(E(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)}},{key:"rawTime",value:function(t){var e=this.parent||this._dp;return e?t&&!this._ts?this._tTime%this._dur:this._ts?pt(e.rawTime(t),this):this._tTime:this._tTime}},{key:"globalTime",value:function(t){for(var e=this,i=arguments.length?t:e.rawTime();e;)i=e._start+i/(e._ts||1),e=e._dp;return i}},{key:"seek",value:function(t,e){return this.totalTime(ot(this,t),E(e))}},{key:"restart",value:function(t,e){return this.play().totalTime(t?-this._delay:0,E(e))}},{key:"play",value:function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)}},{key:"reverse",value:function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)}},{key:"pause",value:function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)}},{key:"resume",value:function(){return this.paused(!1)}},{key:"reversed",value:function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0}},{key:"invalidate",value:function(){return this._act=0,this._initted=0,this._zTime=-1e-8,this}},{key:"isActive",value:function(){var t,e=this.parent||this._dp,i=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<this.endTime(!0)-n))}},{key:"eventCallback",value:function(t,e,i){var n=this.vars;return arguments.length>1?(e?(n[t]=e,i&&(n["".concat(t,"Params")]=i),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]}},{key:"then",value:function(t){var e=this;return new Promise((function(i){var n=C(t)?t:function(t){return t},r=function(){var t=e.then;e.then=null,C(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),i(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?r():e._prom=r}))}},{key:"kill",value:function(){this._interrupt(this)}},{key:"_interrupt",value:function(t){return this._removeFromParent(t),t.progress()<1&&this._callback(t,"onInterrupt"),t}},{key:"_removeFromParent",value:function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0}},{key:"_callback",value:function(e,i,n){var r=e.vars,o=r[i];if(o){var a=r["".concat(i,"Params")],s=r.callbackScope||e;return n&&St.length&&t._lazyRender(),a?o.apply(s,a):o.call(s)}}},{key:"_addToTimeline",value:function(e,i,n,r){return i.parent&&yt(i),i._start=st((O(n)?n:n||e!==t.tl.globalTimeline?ot(e,n,i):e._time)+i._delay),i._end=st(i._start+(i.totalDuration()/Math.abs(i.timeScale())||0)),this._addLinkedListItem(e,i,"_first","_last",e._sort?"_start":0),ft(i)||(e._recent=i),r||gt(e,i),e}},{key:"_addLinkedListItem",value:function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_first",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_last",o=arguments.length>4?arguments[4]:void 0,a=t[r];if(o)for(i=e[o];a&&a[o]>i;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=a,e._dp=t,e.parent=t,e}},{key:"_removeLinkedListItem",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_first",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_last",r=e._prev,o=e._next;r?r._next=o:t[i]===e&&(t[i]=o),o?o._prev=r:t[n]===e&&(t[n]=r),e.parent=null,e._prev=null,e._next=null}}],r=[{key:"_lazyRender",value:function(){var t,e,i=St.length,n=St.slice(0);for(Ct={},this._lazyLookup=Ct,St.length=0,t=0;t<i;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}},{key:"_lazySafeRender",value:function(t,e,i,n){St.length&&this._lazyRender(),t.render(e,i,n),St.length&&this._lazyRender()}}],i&&wt(e.prototype,i),r&&wt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();Tt(Et,"_lastRenderedFrame",void 0),Tt(Et,"_plugins",{}),Tt(Et,"_nextGCFrame",30),Tt(Et,"_config",{autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}}),at(Et.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,parent:null,_initted:!1,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Rt=void 0;function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function At(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=function(t,e){if("object"!==kt(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===kt(r)?r:String(r)),n)}var r}var Lt,Pt,It,Mt,Bt,Dt,Ft=function(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)},Nt=function(){function t(e,i,n,r,o,a,s,h,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.t=i,this.s=r,this.c=o,this.p=n,this.r=a||tt,this.d=s||this,this.set=h||N,this.pr=c||0,this._next=e,e&&(e._prev=this)}var e,i;return e=t,(i=[{key:"modifier",value:function(t,e,i){this.mSet=this.mSet||this.set,this.set=Ft,this.m=t,this.mt=i,this.tween=e}}])&&At(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),jt=function(t,e,i,n,r,o,a){var s,h,c,l,u,f,d,p=new Nt(Rt._pt,t,e,0,1,F,null,r),g=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,y=0,v=0;p.b=i,p.e=n,i+="",(f=~(n+="").indexOf("random("))&&(n=Q(n)),o&&(o(d=[i,n],t,e),i=d[0],n=d[1]);for(var m=i.match(g)||[];s=g.exec(n);)c=s[0],l=n.substring(y,s.index),h?h=(h+1)%5:"rgba("===l.substr(-5)&&(h=1),c!==m[v++]&&(u=parseFloat(m[v-1])||0,p._pt={_next:p._pt,p:l||1===v?l:",",s:u,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-u,m:h&&h<4?Math.round:0},y=g.lastIndex);return p.c=y<n.length?n.substring(y,n.length):"",p.fp=a,(/[+-]=-?[.\d]+/.test(n)||f)&&(p.e=0),Rt._pt=p,p},Xt=function(t,e,i,n,r,o,a,s,h){C(n)&&(n=n(r||0,t,o));var c,l=t[e],u="get"!==i?i:C(l)?h?t[e.indexOf("set")||!C(t["get".concat(e.substr(3))])?e:"get".concat(e.substr(3))](h):t[e]():l,f=C(l)?h?X:j:N;if(S(n)&&(~n.indexOf("random(")&&(n=Q(n)),"="===n.charAt(1)&&((c=parseFloat(u)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(B(u)||0))||0===c)&&(n=c)),u!==n)return isNaN(u*n)||""===n?jt.call(Rt,t,e,u,n,f,s,h):(c=new Nt(Rt._pt,t,e,+u||0,n-(u||0),"boolean"==typeof l?et:tt,0,f),h&&(c.fp=h),a&&c.modifier(a,Rt,t),Rt._pt=c)},Yt={},Wt=/["']/g,Ut=function(t){for(var e,i,n,r={},o=t.substr(1,t.length-3).split(":"),a=o[0],s=1,h=o.length;s<h;s++)i=o[s],e=s!==h-1?i.lastIndexOf(","):i.length,n=i.substr(0,e),r[a]=isNaN(n)?n.replace(Wt,"").trim():+n,a=i.substr(e+1).trim();return r},Ht=function(t,e){return t&&(C(t)?t:Yt[t]||function(t){var e,i,n,r,o="".concat(t).split("("),a=Yt[o[0]];return a&&o.length>1&&a.config?a.config.apply(null,~t.indexOf("{")?[Ut(o[1])]:(e=t,i=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",i),e.substring(i,~r&&r<n?e.indexOf(")",n+1):n)).split(",").map(K)):a}(t))||e},Vt=function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return 1-e(1-t)},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2},o={easeIn:e,easeOut:n,easeInOut:r};return U(t,(function(t){for(var e in Yt[t]=o,Yt[i=t.toLowerCase()]=n,o)Yt[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Yt["".concat(t,".").concat(e)]=o[e]})),o},Gt=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},zt=function t(e,i,n){var r=i>=1?i:1,a=(n||(e?.3:.45))/(i<1?i:1),s=a/o*(Math.asin(1/r)||0),h=function(t){return 1===t?1:r*Math.pow(2,-10*t)*Math.sin((t-s)*a)+1},c="out"===e?h:"in"===e?function(t){return 1-h(1-t)}:Gt(h);return a=o/a,c.config=function(i,n){return t(e,i,n)},c},qt=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158,n=function(t){return t?--t*t*((i+1)*t+i)+1:0},r="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:Gt(n);return r.config=function(i){return t(e,i)},r};function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function Qt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=function(t,e){if("object"!==Jt(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==Jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Jt(r)?r:String(r)),n)}var r}U("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var i=e<5?e+1:e;Vt("".concat(t,",Power").concat(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},(function(t){return 1-Math.pow(1-t,i)}),(function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2}))})),Yt.Linear.easeNone=Yt.none=Yt.Linear.easeIn,Vt("Elastic",zt("in"),zt("out"),zt()),Lt=7.5625,Mt=2*(It=1/(Pt=2.75)),Bt=2.5*It,Vt("Bounce",(function(t){return 1-Dt(1-t)}),Dt=function(t){return t<It?Lt*t*t:t<Mt?Lt*Math.pow(t-1.5/Pt,2)+.75:t<Bt?Lt*(t-=2.25/Pt)*t+.9375:Lt*Math.pow(t-2.625/Pt,2)+.984375}),Vt("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Vt("Circ",(function(t){return-(Math.sqrt(1-t*t)-1)})),Vt("Sine",(function(t){return 1===t?1:1-Math.cos(t*Math.PI/2)})),Vt("Back",qt("in"),qt("out"),qt()),Yt.SteppedEase=Yt.steps={config:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0,i=1/t,n=t+(e?0:1),r=e?1:0;return function(t){return((n*$(0,.99999999,t)|0)+r)*i}}},a.ease=Yt.none;var Kt,$t=[],Zt=0,te=function(t,e,i){return e&&Qt(t.prototype,e),i&&Qt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=Zt,Zt+=1,e.brevity=this,this.target=e,this.harness=i,this.get=i?i.get:M,this.set=i?i.getSetter:W})),ee=function(t){var e,i,n=t[0];if(R(n)||C(n)||(t=[t]),!(e=(n.brevity||{}).harness)){for(i=$t.length;i--&&!$t[i].targetTest(n););e=$t[i]}for(i=t.length;i--;)t[i]&&(t[i].brevity||(t[i].brevity=new te(t[i],e)))||t.splice(i,1);return t},ie=function(t){return t.brevity||ee(q(t))[0].brevity};function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function re(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=function(t,e){if("object"!==ne(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ne(r)?r:String(r)),n)}var r}function oe(){return oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=he(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},oe.apply(this,arguments)}function ae(t,e){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ae(t,e)}function se(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function he(t){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},he(t)}var ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ae(t,e)}(c,t);var e,r,o,h=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=he(t);if(e){var r=he(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return function(t,e){if(e&&("object"===ne(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return se(t)}(this,i)}}(c);function c(t,e,i,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var o,a,s,l,u,f,d=(r=h.call(this,n?e:c._inheritDefaults(e))).vars,p=d.duration,g=d.delay,y=d.immediateRender,v=d.overwrite,m=d.keyframes,_=d.defaults,x=e.parent||c.tl.globalTimeline,b=(H(t)||L(t)?O(t[0]):"length"in e)?[t]:q(t);if(r._targets=b.length?ee(b):[],r._ptLookup=[],r._overwrite=v,m||k(p)||k(g)){if(e=r.vars,r.timeline=new c.tl({data:"nested",defaults:_||{}}),(o=r.timeline).kill(),o.parent=o._dp=se(r),o._start=0,k(p)||k(g)){for(l=b.length,a=0;a<l;a++)s=D(e,{}),f=b[a],s.duration=+r._parseFuncOrString(p,se(r),a,f,b),s.delay=(+r._parseFuncOrString(g,se(r),a,f,b)||0)-r._delay,1===l&&s.delay&&(r._delay=g=s.delay,r._start+=g,s.delay=0),o.to(f,s,0),o._ease=Yt.none;o.duration()?(g=0,p=0):r.timeline=0,o.duration()?p=g=0:r.timeline=0}else if(m){c._inheritDefaults(at(o.vars.defaults,{ease:"none"})),o._ease=Ht(m.ease||e.ease||"none");var w,T,S,C=0;if(H(m))m.forEach((function(t){return o.to(b,t,">")}));else{for(u in s={},m)"ease"===u||"easeEach"===u||r._parseKeyframe(u,m[u],s,m.easeEach);for(u in s)for(w=s[u].sort((function(t,e){return t.t-e.t})),C=0,a=0;a<w.length;a++)(S={ease:(T=w[a]).e,duration:(T.t-(a?w[a-1].t:0))/100*p})[u]=T.v,o.to(b,S,C),C+=S.duration;o.duration()<p&&o.to({},{duration:p-o.duration()})}}p||r.duration(p=o.duration())}else r.timeline=0;return!0===v&&(Kt=se(r),c.tl.globalTimeline.killTweensOf(b),Kt=0),r._addToTimeline(x,se(r),i),e.reversed&&r.reverse(),e.paused&&r.paused(!0),(y||!p&&!m&&r._start===st(x._time)&&E(y)&&r._hasNoPausedAncestors(se(r))&&"nested"!==x.data)&&(r._tTime=-1e-8,r.render(Math.max(0,-g))),r}return e=c,r=[{key:"render",value:function(t,e,i){var r,o,a,s,h=this._time,c=this._tDur,l=this._dur,u=t>c-n&&t>=0?c:t<n?0:t;if(l){if(u!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(r=u,s=this.timeline,!this._initted){if(this._attemptInitTween(this,t<0?t:r,i,e))return this._tTime=0,this;if(l!==this._dur)return this.render(t,e,i)}if(this._tTime=u,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=a=this._ease(r/l),this._from&&(this.ratio=a=1-a),r&&!h&&!e&&(this._callback(this,"onStart"),this._tTime!==u))return this;for(o=this._pt;o;)o.r(a,o.d),o=o._next;s&&s.render(t<0?t:s._dur*s._ease(r/this._dur),e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,i),this._callback(this,"onUpdate")),u!==this._tDur&&u||this._tTime!==u||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!l)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&yt(this,1),e||t<0&&!h||!u&&!h||(this._callback(this,u===c?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom()))}}else this._renderZeroDurationTween(this,t,e,i);return this}},{key:"targets",value:function(){return this._targets}},{key:"invalidate",value:function(){return this.ratio=0,this._lazy=0,this._onUpdate=0,this._startAt=0,this._op=0,this._pt=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),oe(he(c.prototype),"invalidate",this).call(this)}},{key:"kill",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";if(!(t||e&&"all"!==e))return this._pt=0,this._lazy=0,this.parent?this._interrupt(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Kt&&!0!==Kt.vars.overwrite)._first||this._interrupt(this),this.parent&&i!==this.timeline.totalDuration()&&ut(this,this._dur*this.timeline._tDur/i,0,1),this}var n,r,o,a,s,h,c,l=this._targets,u=t?q(t):l,f=this._ptLookup,d=this._pt;if((!e||"all"===e)&&this._arraysMatch(l,u))return"all"===e&&(this._pt=0),this._interrupt(this);for(this._op=this._op||[],n=this._op,"all"!==e&&(S(e)&&(s={},U(e,(function(t){return s[t]=1})),e=s),e=this._addAliasesToVars(l,e)),c=l.length;c--;)if(~u.indexOf(l[c]))for(s in r=f[c],"all"===e?(n[c]=e,a=r,o={}):(n[c]=n[c]||{},o=n[c],a=e),a)(h=r&&r[s])&&("kill"in h.d&&!0!==h.d.kill(s)||this._removeLinkedListItem(this,h,"_pt"),delete r[s]),"all"!==o&&(o[s]=1);return this._initted&&!this._pt&&d&&this._interrupt(this),this}},{key:"_parseKeyframe",value:function(t,e,i,n){var r,o,a=e.ease||n;if(H(e))o=i[t]||(i[t]=[]),e.forEach((function(t,i){return o.push({t:i/(e.length-1)*100,v:t,e:a})}));else for(r in e)o=i[r]||(i[r]=[]),"ease"===r||o.push({t:parseFloat(t),v:e[r],e:a})}},{key:"_hasNoPausedAncestors",value:function(t){return!t||t._ts&&this._hasNoPausedAncestors(t.parent)}},{key:"_arraysMatch",value:function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0}},{key:"_addAliasesToVars",value:function(t,e){var i,n,r,o=t[0]?ie(t[0]).harness:0,a=o&&o.aliases;if(!a)return e;var s=Object.assign({},e);for(i in a)if(i in s)for(n=(r=a[i].split(",")).length;n--;)s[r[n]]=s[i];return s}},{key:"_renderZeroDurationTween",value:function(t,e,i,r){var o,a,s=t.ratio,h=e<0||!e&&(!t._start&&this._parentPlayheadIsBeforeStart(t)&&(t._initted||!ft(t))||(t._ts<0||t._dp._ts<0)&&!ft(t))?0:1;if(h!==s||r||t._zTime===n||!e&&t._zTime){if(!t._initted&&this._attemptInitTween(t,e,r,i))return;for(a=t._zTime,t._zTime=e||(i?n:0),i||(i=e&&!a),t.ratio=h,t._from&&(h=1-h),t._time=0,t._tTime=0,o=t._pt;o;)o.r(h,o.d),o=o._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&this._callback(t,"onUpdate"),(e>=t._tDur||e<0)&&t.ratio===h&&(h&&yt(t,1),i||(this._callback(t,h?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}},{key:"_attemptInitTween",value:function(t,e,i,n){return this._initTween(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&Et._lastRenderedFrame!==xt.frame?(this._lazyTweens.push(t),t._lazy=[e,n],1):void 0:1}},{key:"_parentPlayheadIsBeforeStart",value:function(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||this._parentPlayheadIsBeforeStart(e))}},{key:"_initTween",value:function(t,e){var r,o,h,l,u,f,d,p,g,y,v,m,_=t.vars,x=_.ease,b=_.startAt,w=_.immediateRender,T=_.lazy,O=_.onUpdate,S=_.onUpdateParams,C=_.callbackScope,R=_.runBackwards,k=_.keyframes,A=_.autoRevert,L=t._dur,P=t._startAt,I=t._targets,M=t.parent,B=M&&"nested"===M.data?M.parent._targets:I,F="auto"===t._overwrite,N=t.timeline;if(N&&(!k||!x)&&(x="none"),t._ease=Ht(x,a.ease),t._from=!N&&!!_.runBackwards,!N||k){if(v=(d=I[0]?ie(I[0]).harness:0)&&_[d.prop],r=D(_,s),P&&yt(P.render(-1,!0)),b)if(yt(t._startAt=c.set(I,at({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:E(T),startAt:null,delay:0,onUpdate:O,onUpdateParams:S,callbackScope:C},b))),e<0&&!w&&!A&&t._startAt.render(-1,!0),w){if(e>0&&!A&&(t._startAt=0),L&&e<=0)return void(e&&(t._zTime=e))}else!1===A&&(t._startAt=0);else if(R&&L)if(P)!A&&(t._startAt=0);else if(e&&(w=!1),h=at({overwrite:!1,data:"isFromStart",lazy:w&&E(T),immediateRender:w,parent:M},r),v&&(h[d.prop]=v),yt(t._startAt=c.set(I,h)),e<0&&t._startAt.render(-1,!0),t._zTime=e,w){if(!e)return}else this._initTween(t._startAt,n);for(t._pt=0,T=L&&E(T)||T&&!L,o=0;o<I.length;o++){if(f=(u=I[o]).brevity||ee(I)[o].brevity,g={},t._ptLookup[o]={},this._lazyLookup[f.id]&&this._lazyTweens.length&&Et._lazyRender(),y=B===I?o:B.indexOf(u),d&&!1!==(p=new d).init(u,v||r,t,y,B)&&(l=new Nt(t._pt,u,p.name,0,1,p.render,p,0,p.priority),t._pt=l,p._props.forEach((function(t){g[t]=l})),p.priority),!d||v)for(h in r)Et._plugins[h]&&(p=this._checkPlugin(h,r,t,y,u,B))?p.priority:(l=c._addPropTween.call(t,u,h,"get",r[h],y,B,0,_.stringFilter),g[h]=l);t._op&&t._op[o]&&t.kill(u,t._op[o]),F&&t._pt&&(Kt=t,c.tl.globalTimeline.killTweensOf(u,g,t.globalTime(e)),m=!t.parent,Kt=0),t._pt&&T&&(this._lazyLookup[f.id]=1)}t._onInit&&t._onInit(t)}t._onUpdate=O,t._initted=(!t._op||t._pt)&&!m,k&&e<=0&&N.render(i,!0,!0)}},{key:"_checkPlugin",value:function(t,e,i,n,r,o){var a,s,h,c;if(Et._plugins[t]&&!1!==(a=new Et._plugins[t]).init(r,a.rawVars?e[t]:this._processVars(e[t],n,r,o,i),i,n,o))for(s=new Nt(i._pt,r,t,0,1,a.render,a,0,a.priority),i._pt=s,h=i._ptLookup[i._targets.indexOf(r)],c=a._props.length;c--;)h[a._props[c]]=s;return a}},{key:"_processVars",value:function(t,e,i,n,r){if(C(t)&&(t=this._parseFuncOrString(t,r,e,i,n)),!R(t)||t.style&&t.nodeType||H(t)||L(t))return S(t)?this._parseFuncOrString(t,r,e,i,n):t;var o,a={};for(o in t)a[o]=this._parseFuncOrString(t[o],r,e,i,n);return a}},{key:"_parseFuncOrString",value:function(t,e,i,n,r){return C(t)?t.call(e,i,n,r):S(t)&&~t.indexOf("random(")?Q(t):t}}],o=[{key:"_addPropTween",value:function(t,e,i,n,r,o,a,s,h){C(n)&&(n=n(r||0,t,o));var l,u=t[e],f="get"!==i?i:C(u)?h?t[e.indexOf("set")||!C(t["get".concat(e.substr(3))])?e:"get".concat(e.substr(3))](h):t[e]():u,d=C(u)?h?X:j:N;if(S(n)&&(~n.indexOf("random(")&&(n=Q(n)),"="===n.charAt(1)&&((l=parseFloat(f)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(B(f)||0))||0===l)&&(n=l)),f!==n)return isNaN(f*n)||""===n?c._addComplexStringPropTween.call(this,t,e,f,n,d,s,h):(l=new Nt(this._pt,t,e,+f||0,n-(f||0),"boolean"==typeof u?et:tt,0,d),h&&(l.fp=h),a&&l.modifier(a,this,t),this._pt=l)}},{key:"_addComplexStringPropTween",value:function(t,e,i,n,r,o,a){var s,h,c,l,u,f,d,p=new Nt(this._pt,t,e,0,1,F,null,r),g=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,y=0,v=0;p.b=i,p.e=n,i+="",(f=~(n+="").indexOf("random("))&&(n=Q(n)),o&&(o(d=[i,n],t,e),i=d[0],n=d[1]);for(var m=i.match(g)||[];s=g.exec(n);)c=s[0],l=n.substring(y,s.index),h?h=(h+1)%5:"rgba("===l.substr(-5)&&(h=1),c!==m[v++]&&(u=parseFloat(m[v-1])||0,p._pt={_next:p._pt,p:l||1===v?l:",",s:u,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-u,m:h&&h<4?Math.round:0},y=g.lastIndex);return p.c=y<n.length?n.substring(y,n.length):"",p.fp=a,(/[+-]=-?[.\d]+/.test(n)||f)&&(p.e=0),this._pt=p,p}},{key:"to",value:function(t,e){return new c(t,e,arguments[2])}},{key:"from",value:function(){return c._createTweenType(1,arguments)}},{key:"delayedCall",value:function(t,e,i,n){return new c(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:n})}},{key:"fromTo",value:function(){return c._createTweenType(2,arguments)}},{key:"set",value:function(t,e){return e.duration=0,new c(t,e)}},{key:"killTweensOf",value:function(t,e,i){return c.tl.globalTimeline.killTweensOf(t,e,i)}},{key:"_createTweenType",value:function(t,e,i){var n,r,o=O(e[1]),a=(o?2:1)+(t<2?0:1),s=e[a];if(o&&(s.duration=e[1]),s.parent=i,t){for(n=s,r=i;r&&!("immediateRender"in n);)n=r.vars.defaults||{},r=E(r.vars.inherit)&&r.parent;s.immediateRender=E(n.immediateRender),t<2?s.runBackwards=1:s.startAt=e[a-1]}return new c(e[0],s,e[a+1])}},{key:"_inheritDefaults",value:function(t){var e,i=t.parent||c.tl.globalTimeline,n=t.keyframes?(e=H(t.keyframes),function(t,i){for(var n in i)n in t||"duration"===n&&e||"ease"===n||(t[n]=i[n])}):at;if(E(t.inherit))for(;i;)n(t,i.vars.defaults),i=i.parent||i._dp;return t}}],r&&re(e.prototype,r),o&&re(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(Et);function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}function ue(t){return function(t){if(Array.isArray(t))return fe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return fe(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?fe(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function de(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,me(n.key),n)}}function pe(){return pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ve(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},pe.apply(this,arguments)}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ge(t,e)}function ye(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ve(t){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ve(t)}function me(t){var e=function(t,e){if("object"!==le(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===le(e)?e:String(e)}at(ce.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});var _e,xe,be,we=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(s,t);var e,r,o,a=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=ve(t);if(e){var r=ve(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return function(t,e){if(e&&("object"===le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ye(t)}(this,i)}}(s);function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).labels={},t.smoothChildTiming=!!e.smoothChildTiming,t.autoRemoveChildren=!!e.autoRemoveChildren,t._sort=E(e.sortChildren),s.globalTimeline&&t._addToTimeline(e.parent||s.globalTimeline,ye(t),i),e.reversed&&t.reverse(),e.paused&&t.paused(!0),t}return e=s,r=[{key:"add",value:function(t,e){var i=this;if(O(e)||(e=ot(this,e,t)),!(t instanceof Et)){if(H(t))return t.forEach((function(t){return i.add(t,e)})),this;if(S(t))return this.addLabel(t,e);if(!C(t))return this;t=ce.delayedCall(0,t)}return this!==t?this._addToTimeline(this,t,e):this}},{key:"addLabel",value:function(t,e){return this.labels[t]=ot(this,e),this}},{key:"getChildren",value:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-i,o=[],a=this._first;a;)a._start>=r&&(a instanceof ce?e&&o.push(a):(n&&o.push(a),t&&o.push.apply(o,ue(a.getChildren(!0,e,n))))),a=a._next;return o}},{key:"getById",value:function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]}},{key:"tweenFromTo",value:function(t,e,i){return this.tweenTo(e,at({startAt:{time:ot(this,t)}},i))}},{key:"clear",value:function(){for(var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=this._first;i;)t=i._next,this.remove(i),i=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),ht(this)}},{key:"to",value:function(t,e,i){return ce._createTweenType(0,arguments,this),this}},{key:"render",value:function(t,e,i){var r,o,a,h,c,l,u,f=this._time,d=this._dirty?this.totalDuration():this._tDur,p=this._dur,g=t<=0?0:st(t),y=this._zTime<0!=t<0&&(this._initted||!p);if(this!==s.globalTimeline&&g>d&&t>=0&&(g=d),g!==this._tTime||i||y){if(f!==this._time&&p&&(g+=this._time-f,t+=this._time-f),r=g,u=this._start,h=!(l=this._ts),y&&(p||(f=this._zTime),(t||!e)&&(this._zTime=t)),this._hasPause&&!this._forcing&&this._lock<2&&(c=function(t,e,i){var n;if(i>e)for(n=t._first;n&&n._start<=i;){if("isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if("isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,st(f),st(r)),c&&(g-=r-(r=c._start))),this._tTime=g,this._time=r,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,f=0),!f&&r&&!e&&(this._callback(this,"onStart"),this._tTime!==g))return this;if(r>=f&&t>=0)for(o=this._first;o;){if(a=o._next,(o._act||r>=o._start)&&o._ts&&c!==o){if(o.parent!==this)return this.render(t,e,i);if(o.render(o._ts>0?(r-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(r-o._start)*o._ts,e,i),r!==this._time||!this._ts&&!h){c=0,a&&(g+=this._zTime=-1e-8);break}}o=a}else{o=this._last;for(var v=t<0?t:r;o;){if(a=o._prev,(o._act||v<=o._end)&&o._ts&&c!==o){if(o.parent!==this)return this.render(t,e,i);if(o.render(o._ts>0?(v-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(v-o._start)*o._ts,e,i),r!==this._time||!this._ts&&!h){c=0,a&&(g+=this._zTime=v?-1e-8:n);break}}o=a}}if(c&&!e&&(this.pause(),c.render(r>=f?0:-1e-8)._zTime=r>=f?1:-1,this._ts))return this._start=u,ct(this),this.render(t,e,i);this._onUpdate&&!e&&this._callback(this,"onUpdate",!0),(g===d&&d>=this.totalDuration()||!g&&f)&&(u!==this._start&&Math.abs(l)===Math.abs(this._ts)||this._lock||((t||!p)&&(g===d&&this._ts>0||!g&&this._ts<0)&&yt(this,1),e||t<0&&!f||!g&&!f&&d||(this._callback(this,g===d&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(g<d&&this.timeScale()>0)&&this._prom())))}return this}},{key:"remove",value:function(t){return S(t)?this.removeLabel(t):C(t)?this.killTweensOf(t):(this._removeLinkedListItem(this,t),t===this._recent&&(this._recent=this._last),ht(this))}},{key:"totalTime",value:function(t,e){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=st(xt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),pe(ve(s.prototype),"totalTime",this).call(this,t,e),this._forcing=0,this):this._tTime}},{key:"removeLabel",value:function(t){return delete this.labels[t],this}},{key:"killTweensOf",value:function(t,e,i){for(var n=this.getTweensOf(t,i),r=n.length;r--;)n[r].kill(t,e);return this}},{key:"getTweensOf",value:function(t,e){for(var i,n=[],r=q(t),o=this._first,a=O(e);o;)o instanceof ce?dt(o._targets,r)&&(a?o._initted&&o._ts&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&n.push(o):(i=o.getTweensOf(r,e)).length&&n.push.apply(n,ue(i)),o=o._next;return n}},{key:"tweenTo",value:function(t,e){e=e||{};var i,r=this,o=ot(r,t),a=e,s=a.startAt,h=a.onStart,c=a.onStartParams,l=a.immediateRender,u=ce.to(r,at({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:e.duration||Math.abs((o-(s&&"time"in s?s.time:r._time))/r.timeScale())||n,onStart:function(){if(r.pause(),!i){var t=e.duration||Math.abs((o-(s&&"time"in s?s.time:r._time))/r.timeScale());u._dur!==t&&ut(u,t,0,1).render(u._time,!0,!0),i=1}h&&h.apply(u,c||[])}},e));return l?u.render(0):u}},{key:"shiftChildren",value:function(t,e){for(var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this._first,o=this.labels;r;)r._start>=n&&(r._start+=t,r._end+=t),r=r._next;if(e)for(i in o)o[i]>=n&&(o[i]+=t);return ht(this)}},{key:"invalidate",value:function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return pe(ve(s.prototype),"invalidate",this).call(this)}},{key:"totalDuration",value:function(t){var e,n,r,o=0,a=this,h=a._last,c=i;if(arguments.length)return a.timeScale(a.totalDuration()/t);if(a._dirty){for(r=a.parent;h;)e=h._prev,h._dirty&&h.totalDuration(),(n=h._start)>c&&a._sort&&h._ts&&!a._lock?(a._lock=1,this._addToTimeline(a,h,n-h._delay,1)._lock=0):c=n,n<0&&h._ts&&(o-=n,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-1/0),c=0),h._end>o&&h._ts&&(o=h._end),h=e;ut(a,a===s.globalTimeline&&a._time>o?a._time:o,1,1),a._dirty=0}return a._tDur}}],o=[{key:"updateRoot",value:function(t){if(s.globalTimeline._ts&&(Et._lazySafeRender(s.globalTimeline,pt(t,s.globalTimeline)),Et._lastRenderedFrame=xt.frame),xt.frame>=Et._nextGCFrame){Et._nextGCFrame+=Et._config.autoSleep||120;var e=s.globalTimeline._first;if((!e||!e._ts)&&Et._config.autoSleep&&xt._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||xt.sleep()}}}}],r&&de(e.prototype,r),o&&de(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(Et);function Te(t){var e,i=(t=S(t)&&/(^[#\.][a-z]|[a-y][a-z])/i.test(t)&&document.querySelector(t)||t).getAttribute?t:0;return i&&(t=t.getAttribute("d"))?(i.brevityPath||(i.brevityPath={}),(e=i.brevityPath[t])&&!e._dirty?e:i.brevityPath[t]=Fe(t)):t?S(t)?Fe(t):O(t[0])?[t]:t:console.warn("Expecting a <path> element or an SVG path data string")}function Oe(t,e){for(var i=0,n=0,r=0;r<t.length;r++){var o=t[r];o.resolution=~~e||12,n+=o.length,i+=Ie(o)}return t.totalPoints=n,t.totalLength=i,t}function Se(t,e,i,n){var r,o,a,s,h,c,l,u,f,d=t[0],p=n||{};if((e<0||e>1)&&(e=nt(e)),t.length>1){for(a=t.totalLength*e,h=c=0;(h+=t[c++].totalLength)<a;)d=t[c];e=(a-(s=h-d.totalLength))/(h-s)||0}return r=d.samples,o=d.resolution,a=d.totalLength*e,s=(c=d.lookup.length?d.lookup[e<1?~~(a/d.minLength):d.lookup.length-1]||0:Ee(r,a,e))?r[c-1]:0,(h=r[c])<a&&(s=h,h=r[++c]),f=1-(l=1/o*((a-s)/(h-s)+c%o)||0),u=d[c=6*~~(c/o)],p.x=rt((l*l*(d[c+6]-u)+3*f*(l*(d[c+4]-u)+f*(d[c+2]-u)))*l+u),p.y=rt((l*l*(d[c+7]-(u=d[c+1]))+3*f*(l*(d[c+5]-u)+f*(d[c+3]-u)))*l+u),i&&(p.angle=d.totalLength?Pe(d,c,l>=1?1-1e-9:l||1e-9):d.angle||0),p}_e=we,xe="globalTimeline",be=new we({sortChildren:!1,defaults:a,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),(xe=me(xe))in _e?Object.defineProperty(_e,xe,{value:be,enumerable:!0,configurable:!0,writable:!0}):_e[xe]=be,at(we.prototype,{_lock:0,_hasPause:0,_forcing:0}),ce.tl=we,Et.tl=we;var Ce=function(t,e,i,n){var r=t[e],o=1===n?6:Me(r,i,n);if(o&&o+i+2<r.length)return t.splice(e,0,r.slice(0,i+o+2)),r.splice(0,i+o),1},Ee=function(t,e,i){var n=t.length,r=~~(i*n);if(t[r]>e)for(;--r&&t[r]>e;);else for(;t[++r]<e&&r<n;);return r<n?r:n-1},Re=function(t,e){var i=t.length;for(e||t.reverse();i--;)t[i].reversed||Le(t[i])},ke=function(t,e){return e.totalLength=t.totalLength,t.samples?(e.samples=t.samples.slice(0),e.lookup=t.lookup.slice(0),e.minLength=t.minLength,e.resolution=t.resolution):t.totalPoints&&(e.totalPoints=t.totalPoints),e},Ae=function(t,e){var i=t.length,n=t[i-1]||[],r=n.length;i&&e[0]===n[r-2]&&e[1]===n[r-1]&&(e=n.concat(e.slice(2)),i--),t[i]=e};function Le(t){var e,i=0;for(t.reverse();i<t.length;i+=2)e=t[i],t[i]=t[i+1],t[i+1]=e;t.reversed=!t.reversed}function Pe(t,e,i){var n,r=t[e],o=t[e+2],a=t[e+4];return r+=(o-r)*i,r+=((o+=(a-o)*i)-r)*i,n=o+(a+(t[e+6]-a)*i-o)*i-r,r=t[e+1],r+=((o=t[e+3])-r)*i,r+=((o+=((a=t[e+5])-o)*i)-r)*i,rt(180*Math.atan2(o+(a+(t[e+7]-a)*i-o)*i-r,n)/Math.PI)}function Ie(t,e,i){e=e||0,t.samples||(t.samples=[],t.lookup=[]);var n,r,o,a,s,h,c,l,u,f,d,p,g,y,v,m,_,x=~~t.resolution||12,b=1/x,w=i?e+6*i+1:t.length,T=t[e],O=t[e+1],S=e?e/6*x:0,C=t.samples,E=t.lookup,R=1e8,k=(e?t.minLength:R)||R,A=C[S+i*x-1],L=e?C[S-1]:0;for(C.length=E.length=0,r=e+2;r<w;r+=6){if(o=t[r+4]-T,a=t[r+2]-T,s=t[r]-T,l=t[r+5]-O,u=t[r+3]-O,f=t[r+1]-O,h=c=d=p=0,Math.abs(o)<.01&&Math.abs(l)<.01&&Math.abs(s)+Math.abs(f)<.01)t.length>8&&(t.splice(r,6),r-=6,w-=6);else for(n=1;n<=x;n++)h=c-(c=((y=b*n)*y*o+3*(g=1-y)*(y*a+g*s))*y),d=p-(p=(y*y*l+3*g*(y*u+g*f))*y),(m=Math.sqrt(d*d+h*h))<k&&(k=m),L+=m,C[S++]=L;T+=o,O+=l}if(A)for(A-=L;S<C.length;S++)C[S]+=A;if(C.length&&k){if(t.totalLength=_=C[C.length-1]||0,t.minLength=k,_/k<9999)for(m=v=0,n=0;n<_;n+=k)E[m++]=C[v]<n?++v:v}else t.totalLength=C[0]=0;return e?L-C[e/2-1]:L}function Me(t,e,i){if(i<=0||i>=1)return 0;var n=t[e],r=t[e+1],o=t[e+2],a=t[e+3],s=t[e+4],h=t[e+5],c=n+(o-n)*i,l=o+(s-o)*i,u=r+(a-r)*i,f=a+(h-a)*i,d=c+(l-c)*i,p=u+(f-u)*i,g=s+(t[e+6]-s)*i,y=h+(t[e+7]-h)*i;return l+=(g-l)*i,f+=(y-f)*i,t.splice(e+2,4,rt(c),rt(u),rt(d),rt(p),rt(d+(l-d)*i),rt(p+(f-p)*i),rt(l),rt(f),rt(g),rt(y)),t.samples&&t.samples.splice(e/6*t.resolution|0,0,0,0,0,0,0,0),6}function Be(t,e,i,n){i=i||{},t.totalLength||Oe(t),(e<0||e>1)&&(e=nt(e));var r,o,a,s,h,c,l,u=0,f=t[0];if(e)if(1===e)l=1,c=(f=t[u=t.length-1]).length-8;else{if(t.length>1){for(a=t.totalLength*e,h=c=0;(h+=t[c++].totalLength)<a;)u=c;e=(a-(s=h-(f=t[u]).totalLength))/(h-s)||0}r=f.samples,o=f.resolution,a=f.totalLength*e,s=(c=f.lookup.length?f.lookup[~~(a/f.minLength)]||0:Ee(r,a,e))?r[c-1]:0,(h=r[c])<a&&(s=h,h=r[++c]),l=1/o*((a-s)/(h-s)+c%o),c=6*~~(c/o),n&&1===l&&(c+6<f.length?(c+=6,l=0):u+1<t.length&&(c=l=0,f=t[++u]))}else l=c=u=0,f=t[0];return i.t=l,i.i=c,i.path=t,i.segment=f,i.segIndex=u,i}function De(t,e,i,n,r,o,a,s,h){if(t!==s||e!==h){i=Math.abs(i),n=Math.abs(n);var c=r%360*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=Math.PI,d=2*f,p=(t-s)/2,g=(e-h)/2,y=l*p+u*g,v=-u*p+l*g,m=y*y,_=v*v,x=m/(i*i)+_/(n*n);x>1&&(i=Math.sqrt(x)*i,n=Math.sqrt(x)*n);var b=i*i,w=n*n,T=(b*w-b*_-w*m)/(b*_+w*m);T<0&&(T=0);var O=(o===a?-1:1)*Math.sqrt(T),S=O*(i*v/n),C=O*(-n*y/i),E=(t+s)/2+(l*S-u*C),R=(e+h)/2+(u*S+l*C),k=(y-S)/i,A=(v-C)/n,L=(-y-S)/i,P=(-v-C)/n,I=k*k+A*A,M=(A<0?-1:1)*Math.acos(k/Math.sqrt(I)),B=(k*P-A*L<0?-1:1)*Math.acos((k*L+A*P)/Math.sqrt(I*(L*L+P*P)));isNaN(B)&&(B=f),!a&&B>0?B-=d:a&&B<0&&(B+=d),M%=d,B%=d;var D,F=Math.ceil(Math.abs(B)/(d/4)),N=[],j=B/F,X=4/3*Math.sin(j/2)/(1+Math.cos(j/2)),Y=l*i,W=u*i,U=u*-n,H=l*n;for(D=0;D<F;D++)r=M+D*j,y=Math.cos(r),v=Math.sin(r),k=Math.cos(r+=j),A=Math.sin(r),N.push(y-X*v,v+X*y,k+X*A,A-X*k,k,A);for(D=0;D<N.length;D+=2)y=N[D],v=N[D+1],N[D]=y*Y+v*U+E,N[D+1]=y*W+v*H+R;return N[D-2]=s,N[D-1]=h,N}}function Fe(t){var e,i,n,r,o,a,s,h,c,l,u,f,d,p,g,y="".concat(t).replace(/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,(function(t){var e=+t;return e<1e-4&&e>-1e-4?0:e})).match(/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi)||[],v=[],m=0,_=0,x=2/3,b=y.length,w=0,T="ERROR: malformed path: ".concat(t),O=function(t,e,i,n){l=(i-t)/3,u=(n-e)/3,s.push(t+l,e+u,i-l,n-u,i,n)};if(!t||!isNaN(y[0])||isNaN(y[1]))return console.log(T),v;for(e=0;e<b;e++)if(d=o,isNaN(y[e])?a=(o=y[e].toUpperCase())!==y[e]:e--,n=+y[e+1],r=+y[e+2],a&&(n+=m,r+=_),e||(h=n,c=r),"M"===o)s&&(s.length<8?v.length-=1:w+=s.length),m=h=n,_=c=r,s=[n,r],v.push(s),e+=2,o="L";else if("C"===o)s||(s=[0,0]),a||(m=_=0),s.push(n,r,m+1*y[e+3],_+1*y[e+4],m+=1*y[e+5],_+=1*y[e+6]),e+=6;else if("S"===o)l=m,u=_,"C"!==d&&"S"!==d||(l+=m-s[s.length-4],u+=_-s[s.length-3]),a||(m=_=0),s.push(l,u,n,r,m+=1*y[e+3],_+=1*y[e+4]),e+=4;else if("Q"===o)l=m+(n-m)*x,u=_+(r-_)*x,a||(m=_=0),m+=1*y[e+3],_+=1*y[e+4],s.push(l,u,m+(n-m)*x,_+(r-_)*x,m,_),e+=4;else if("T"===o)l=m-s[s.length-4],u=_-s[s.length-3],s.push(m+l,_+u,n+(m+1.5*l-n)*x,r+(_+1.5*u-r)*x,m=n,_=r),e+=2;else if("H"===o)O(m,_,m=n,_),e+=1;else if("V"===o)O(m,_,m,_=n+(a?_-m:0)),e+=1;else if("L"===o||"Z"===o)"Z"===o&&(n=h,r=c,s.closed=!0),("L"===o||Math.abs(m-n)>.5||Math.abs(_-r)>.5)&&(O(m,_,n,r),"L"===o&&(e+=2)),m=n,_=r;else if("A"===o){if(p=y[e+4],g=y[e+5],l=y[e+6],u=y[e+7],i=7,p.length>1&&(p.length<3?(u=l,l=g,i--):(u=g,l=p.substr(2),i-=2),g=p.charAt(1),p=p.charAt(0)),f=De(m,_,+y[e+1],+y[e+2],+y[e+3],+p,+g,(a?m:0)+1*l,(a?_:0)+1*u),e+=i,f)for(i=0;i<f.length;i++)s.push(f[i]);m=s[s.length-2],_=s[s.length-1]}else console.log(T);return(e=s.length)<6?(v.pop(),e=0):s[0]===s[e-2]&&s[1]===s[e-1]&&(s.closed=!0),v.totalPoints=w+e,v}return function(t){var e=(t=!t.name&&t.default||t).name,i=C(t),n=e&&!i&&t.init?function(){this._props=[]}:t,r={init:function(){return 0},render:vt,add:Xt,kill:_t,modifier:mt,rawVars:0},o={targetTest:0,get:0,getSetter:W,aliases:{},register:0};if(xt.wake(),t!==n){if(Et._plugins[e])return;at(n,at(D(t,r),o)),I(n.prototype,I(r,D(t,o))),Et._plugins[n.prop=e]=n}}({name:"pathAnime",init:function(t,e){var i=[],n=this.sliceModifier(e.start,"end"in e?e.end:1);this.rawPaths=i,this.target=t;var r=n(this.align(Te(e.path),t,e));Oe(r,e.resolution),i.push(r),this.addDimensionalPropTween(this,t,e.x||"x",r,"x",e.unitX||"px"),this.addDimensionalPropTween(this,t,e.y||"y",r,"y",e.unitY||"px")},render:function(t,e){var i=e.rawPaths,n=i.length,r=e._pt;for(t>1?t=1:t<0&&(t=0);n--;)Se(i[n],t,!n&&e.rotate,i[n]);for(;r;)r.set(r.t,r.p,r.path[r.pp]+r.u,r.d,t),r=r._next},getLength:function(t){return Oe(Te(t)).totalLength},addDimensionalPropTween:function(t,e,i,n,r,o){var a=e.brevity,s=a.harness,h=s&&s.aliases&&s.aliases[i],c=h&&h.indexOf(",")<0?h:i;t._pt=new Nt(t._pt,e,c,0,0,(function(t){return t}),0,a.set(e,c,t));var l=t._pt;l.u=B(a.get(e,c,o))||0,l.path=n,l.pp=r,t._props.push(c)},align:function(t){return t&&t.length?t:Te("M0,0L0,0")},sliceModifier:function(t,e){return function(i){return t||1!==e?function(t,e,i){i=A(i)?1:st(i)||0,e=st(e)||0;var n=Math.max(0,~~(Math.abs(i-e)-1e-8)),r=function(t){for(var e=[],i=0;i<t.length;i++)e[i]=ke(t[i],t[i].slice(0));return ke(t,e)}(t);if(e>i&&(e=1-e,i=1-i,Re(r),r.totalLength=0),e<0||i<0){var o=Math.abs(~~Math.min(e,i))+1;e+=o,i+=o}r.totalLength||Oe(r);var a,s,h,c,l,u,f,d,p=i>1,g=Be(r,e,{},!0),y=Be(r,i,{}),v=y.segment,m=g.segment,_=y.segIndex,x=g.segIndex,b=y.i,w=g.i,T=x===_,O=b===w&&T;if(p||n){for(a=_<x||T&&b<w||O&&y.t<g.t,Ce(r,x,w,g.t)&&(x++,a||(_++,O?(y.t=(y.t-g.t)/(1-g.t),b=0):T&&(b-=w))),Math.abs(1-(i-e))<1e-5?_=x-1:!y.t&&_?_--:Ce(r,_,b,y.t)&&a&&x++,1===g.t&&(x=(x+1)%r.length),l=[],f=1+(u=r.length)*n,d=x,f+=(u-x+_)%u,c=0;c<f;c++)Ae(l,r[d++%u]);r=l}else if(h=1===y.t?6:Me(v,b,y.t),e!==i)for(s=Me(m,w,O?g.t/y.t:g.t),T&&(h+=s),v.splice(b+h+2),(s||w)&&m.splice(0,w+s),c=r.length;c--;)(c<x||c>_)&&r.splice(c,1);else v.angle=Pe(v,b+h,0),g=v[b+=h],y=v[b+1],v.length=v.totalLength=0,v.totalPoints=r.totalPoints=8,v.push(g,y,g,y,g,y,g,y);return r.totalLength=0,r}(i,t,e):i}}}),xt.add(we.updateRoot),xt.coreReady=!0,"undefined"!=typeof window&&xt.wake(),e})(),t.exports=n()},"33c34da0d5":function(t,e,i){"use strict";i.d(e,"d",(function(){return Ft})),i.d(e,"g",(function(){return At})),i.d(e,"j",(function(){return Lt}));var n=i("3df6907cce");i.d(e,"a",(function(){return n.c})),i.d(e,"b",(function(){return n.d})),i.d(e,"c",(function(){return n.e})),i.d(e,"f",(function(){return n.i})),i.d(e,"h",(function(){return n.j})),i.d(e,"i",(function(){return n.k})),i.d(e,"k",(function(){return n.l}));var r=i("793e7e776c"),o=(i("1068873c4f"),i("516fa97df2")),a=i("3f4b0541b0");i.d(e,"e",(function(){return a.a}));var s,h;i("c73625d763");!function(t){t.NONE="none",t.TRIANGLE="triangle",t.ARROW="arrow",t.STEALTH="stealth",t.DIAMOND="diamond",t.OVAL="oval"}(s||(s={})),function(t){t.SMALL="sm",t.MIDDLE="med",t.LARGE="lg"}(h||(h={}));var c=Object(r.e)(Object(r.e)(Object(r.e)(Object(r.e)(Object(r.e)(Object(r.e)({},s.TRIANGLE,(function(t){return function(t){var e=t.point,i=t.strokeWidth,r=t.cos,o=t.sin,a=t.widthTimes,s=t.lengthTimes,h=e.x,c=e.y,l=e.x-s/3*i,u=e.y-a/2*i,f=[{x:l,y:u},{x:s*i+l,y:a/2*i+u},{x:l,y:a*i+u}].map((function(t){var e={x:t.x-h,y:t.y-c};return{x:e.x*r-e.y*o+h,y:e.y*r+e.x*o+c}}));return{svgPath:"M".concat(f[0].x," ").concat(f[0].y," ")+"L".concat(f[1].x," ").concat(f[1].y," ")+"L".concat(f[2].x," ").concat(f[2].y," Z"),fillMode:n.d.NORMAL,notStroke:!0,isLineEndPath:!0}}(t)})),s.ARROW,(function(t){return function(t){var e=t.point,i=t.strokeWidth,r=t.sin,a=t.cos,s=t.widthTimes,h=t.lengthTimes,c=e.x,l=e.y,u=e.x-h*i,f=e.y-s/2*i,d=[{x:u,y:f},{x:h*i+u,y:s/2*i+f},{x:u,y:s*i+f}].map((function(t){var e={x:t.x-c,y:t.y-l};return{x:e.x*a-e.y*r+c,y:e.y*a+e.x*r+l}}));return{svgPath:"M".concat(d[0].x," ").concat(d[0].y," ")+"L".concat(d[1].x," ").concat(d[1].y," ")+"L".concat(d[2].x," ").concat(d[2].y," "),fillMode:n.d.NONE,notStroke:!1,lineCap:o.z.Round,isLineEndPath:!0}}(t)})),s.STEALTH,(function(t){return function(t){var e=t.point,i=t.strokeWidth,r=t.sin,o=t.cos,a=t.widthTimes,s=t.lengthTimes,h=e.x,c=e.y,l=e.x-s/3*i,u=e.y-a/2*i,f=[{x:l,y:u},{x:s*i+l,y:a/2*i+u},{x:l,y:a*i+u},{x:s/3*i+l,y:a/2*i+u}].map((function(t){var e={x:t.x-h,y:t.y-c};return{x:e.x*o-e.y*r+h,y:e.y*o+e.x*r+c}}));return{svgPath:"M".concat(f[0].x," ").concat(f[0].y," ")+"L".concat(f[1].x," ").concat(f[1].y," ")+"L".concat(f[2].x," ").concat(f[2].y," ")+"L".concat(f[3].x," ").concat(f[3].y," Z"),fillMode:n.d.NORMAL,notStroke:!0,isLineEndPath:!0}}(t)})),s.DIAMOND,(function(t){return function(t){var e=t.point,i=t.strokeWidth,r=t.sin,o=t.cos,a=t.widthTimes,s=t.lengthTimes,h=e.x,c=e.y,l=e.x,u=e.y-a/2*i,f=[{x:l,y:u},{x:s/2*i+l,y:a/2*i+u},{x:l,y:a*i+u},{x:l-s/2*i,y:a/2*i+u}].map((function(t){var e={x:t.x-h,y:t.y-c};return{x:e.x*o-e.y*r+h,y:e.y*o+e.x*r+c}}));return{svgPath:"M".concat(f[0].x," ").concat(f[0].y," ")+"L".concat(f[1].x," ").concat(f[1].y," ")+"L".concat(f[2].x," ").concat(f[2].y," ")+"L".concat(f[3].x," ").concat(f[3].y," Z"),fillMode:n.d.NORMAL,notStroke:!0,isLineEndPath:!0}}(t)})),s.OVAL,(function(t){return function(t){var e=t.point,i=t.strokeWidth,r=t.widthTimes,o=t.lengthTimes,a=t.sin,s=t.cos,h=e.x,c=e.y,l=e.x,u=e.y,f=o/2*i,d=r/2*i,p=s<0&&a<0?-1:1,g=180*Math.acos(s)*p/Math.PI,y={x:l-f,y:u},v={x:l+f,y:u},m={x:y.x-h,y:y.y-c},_={x:v.x-h,y:v.y-c},x={x:m.x*s-m.y*a+h,y:m.y*s+m.x*a+c},b={x:_.x*s-_.y*a+h,y:_.y*s+_.x*a+c};return{svgPath:"M".concat(x.x," ").concat(x.y," ")+"A".concat(f,",").concat(d," ").concat(g," 1,0 ").concat(b.x,",").concat(b.y)+"A".concat(f,",").concat(d," ").concat(g," 1,0 ").concat(x.x,",").concat(x.y),fillMode:n.d.NORMAL,notStroke:!0,isLineEndPath:!0}}(t)})),s.NONE,(function(){return null}));var l,u="M",f="L",d="C",p="Q",g="Z",y=function(){return Object(r.a)((function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;Object(r.b)(this,t),this.point={x:0,y:0},this.update(e,i,n,o)}),[{key:"getEndStrokeWidth",value:function(){var t=this.lineEnd||{},e=t.lineEndType,i=t.lengthType,n=this.getMultipleTimes(i)*this.strokeWidth;switch(e){case s.TRIANGLE:case s.STEALTH:return 2*n/3;case s.ARROW:return n/12;case s.DIAMOND:case s.OVAL:case s.NONE:default:return 0}}},{key:"update",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;this.lineEnd=t,this.strokeWidth=Math.max(e,n)/i}},{key:"updateEndPoint",value:function(t,e){this.point.x=t,this.point.y=e}},{key:"getEndPath",value:function(t){var e;if(!this.lineEnd||!this.direction&&!t)return null;var i=this.direction||this.getEndDirection(t),n=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)),r=i.y/n,o=i.x/n,a=this.lineEnd,h=a.lineEndType,l=void 0===h?s.NONE:h,u=a.widthType,f=a.lengthType,d={point:this.point,strokeWidth:this.strokeWidth,sin:r,cos:o,widthTimes:this.getMultipleTimes(u),lengthTimes:this.getMultipleTimes(f)};return null===(e=c[l])||void 0===e?void 0:e.call(c,d)}},{key:"updateEndDirection",value:function(t){this.direction=t}},{key:"getMultipleTimes",value:function(t){switch(t){case h.SMALL:return 2;case h.LARGE:return 5;case h.MIDDLE:default:return 3}}}])}();!function(t){t[t.Head=0]="Head",t[t.Tail=1]="Tail"}(l||(l={}));var v=function(){return Object(r.a)((function t(e){Object(r.b)(this,t),this.pathToLineMap=new Map,this.segments=e.segments,this.endSite=e.endSite,this.scale=e.scale}),[{key:"getNewPathAfterCut",value:function(){var t=this.endSite;return t?(t.head&&this.calculateStraightLineDetail(!0),t.tail&&this.calculateStraightLineDetail(!1),this.gennerateNewPath(t),this.newPath):""}},{key:"getPathToStraightLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(t.cmd===d||t.cmd===p){var i,n,r={x:t.startX,y:t.startY},o={x:t.x,y:t.y};return t.cmd===p?(i={x:(t.startX+2*t.x1)/3,y:(t.startY+2*t.y1)/3},n={x:(t.x+2*t.x1)/3,y:(t.y+2*t.y1)/3}):(i={x:t.x1,y:t.y1},n={x:t.x2,y:t.y2}),this.simulateBezierByStraightLine(r,o,i,n,e)}return t.cmd===f||t.cmd===g?[{startX:t.startX,startY:t.startY,x:t.x,y:t.y}]:[]}},{key:"calculateStraightLineDetail",value:function(t){var e=this.segments;if(t)for(var i=0;i<e.length;i++){var n=this.getPathToStraightLine(e[i]);if(null==n?void 0:n.length)if(this.getOriginPathToLineDetail(n,i,t))break}else for(var r=e.length-1;r>=0;r--){var o=this.getPathToStraightLine(e[r]);if(null==o?void 0:o.length)if(this.getOriginPathToLineDetail(o,r,t))break}}},{key:"getOriginPathToLineDetail",value:function(t,e,i){var n=this.endSite;if(!n)return!1;var r=i?n.head:n.tail;if(i)for(var o=0;o<t.length;o++){if(this.getLineCrossCircle(t,e,o,r,i))return!0}else for(var a=t.length-1;a>=0;a--){if(this.getLineCrossCircle(t,e,a,r,i))return!0}return!1}},{key:"cutExtraPath",value:function(t,e,i,n){var r=this,o=this.segments,a=this.scale,s=t.preX,h=t.preY,c=t.currentX,l=t.currentY,u=t.lines,d=i?o[0]:o[o.length-1],p=(i?e.head:e.tail)/a,g=this.getIntersectionOfCircleAndLine(p,d.x,d.y,{x:s,y:h},{x:c,y:l});if(1===g.length){var y=i,v=1===u.length;u.forEach((function(t){if(t.x!==c||t.y!==l||(y=!y,i))y||(i?r.newPath==="M ".concat(o[0].x," ").concat(o[0].y)?r.newPath="M ".concat(g[0].x," ").concat(g[0].y," L ").concat(c," ").concat(l):r.newPath="".concat(r.newPath," L ").concat(t.x," ").concat(t.y):n||(r.newPath="".concat(r.newPath," L ").concat(t.x," ").concat(t.y)));else{var e=r.newPath.split("L");v&&2===e.length?r.newPath="".concat(e[0],"L ").concat(g[0].x," ").concat(g[0].y):r.newPath="".concat(r.newPath," L ").concat(g[0].x," ").concat(g[0].y)}}))}else 2===g.length&&g.forEach((function(t){var e=Math.max(s,c),a=Math.min(s,c),d=Math.max(h,l),p=Math.min(h,l),g=t.x,y=t.y;if(g<=e&&g>=a&&y<=d&&y>=p){var v=i,m=1===u.length;u.forEach((function(t){var e;if(t.x!==c||t.y!==l||(v=!v,i))v||(i?r.newPath==="M ".concat(o[0].x," ").concat(o[0].y)?r.newPath="M ".concat(g," ").concat(y," L ").concat(c," ").concat(l):r.newPath="".concat(r.newPath," L ").concat(t.x," ").concat(t.y):n||(r.newPath="".concat(r.newPath," L ").concat(t.x," ").concat(t.y)));else{var a=r.newPath.split("L");m&&o[1].cmd===f&&2===o.length&&(null===(e=r.endSite)||void 0===e?void 0:e.head)?r.newPath="".concat(a[0],"L ").concat(g," ").concat(y):r.newPath="".concat(r.newPath," L ").concat(g," ").concat(y)}}))}}))}},{key:"turnSegementsToPath",value:function(t){t.cmd===d?this.newPath="".concat(this.newPath," ").concat(t.cmd," ").concat(t.x1," ").concat(t.y1,", ").concat(t.x2," ").concat(t.y2,", ").concat(t.x," ").concat(t.y):t.cmd===p?this.newPath="".concat(this.newPath," ").concat(t.cmd," ").concat(t.x1," ").concat(t.y1,", ").concat(t.x," ").concat(t.y):t.cmd===f&&(this.newPath="".concat(this.newPath," ").concat(t.cmd," ").concat(t.x," ").concat(t.y))}},{key:"isSamePathIndex",value:function(t,e,i){return t===(null==e?void 0:e.index)&&t===(null==i?void 0:i.index)}},{key:"gennerateNewPath",value:function(t){var e=this,i=this.segments,n=this.pathToLineMap.get(l.Head),r=this.pathToLineMap.get(l.Tail);i.forEach((function(o,a){0===a?e.newPath="M ".concat(o.x," ").concat(o.y):e.isSamePathIndex(a,n,r)?(e.cutExtraPath(n,t,!0),e.cutExtraPath(r,t,!1,!0)):a===(null==n?void 0:n.index)?e.cutExtraPath(n,t,!0):a===(null==r?void 0:r.index)?e.cutExtraPath(r,t,!1):a>=((null==n?void 0:n.index)||0)&&a<=((null==r?void 0:r.index)||i.length-1)&&e.turnSegementsToPath(o)}))}},{key:"getLineCrossCircle",value:function(t,e,i,n,r){var o=this.segments,a=this.scale,s=t[i],h=s.startX,c=s.startY,u=s.x,f=s.y,d=r?o[0]:o[o.length-1],p=Math.pow(Math.pow(d.x-h,2)+Math.pow(d.y-c,2),.5)*a,g=Math.pow(Math.pow(d.x-u,2)+Math.pow(d.y-f,2),.5)*a;return(p>=n||g>=n)&&(this.pathToLineMap.set(r?l.Head:l.Tail,{preX:h,preY:c,currentX:u,currentY:f,index:e,lines:t}),!0)}},{key:"getBezierCoordinates",value:function(t,e,i,n,r){var o=Math.pow(r,2),a=Math.pow(r,3),s=1-r,h=Math.pow(s,2),c=Math.pow(s,3);return{x:t.x*c+3*i.x*h*r+3*n.x*s*o+e.x*a,y:t.y*c+3*i.y*h*r+3*n.y*s*o+e.y*a}}},{key:"simulateBezierByStraightLine",value:function(t,e,i,n,r){for(var o=1/r,a=[],s=this.getBezierCoordinates(t,e,i,n,0),h=s.x,c=s.y,l=1;l<=r;l++){var u=l*o,f=this.getBezierCoordinates(t,e,i,n,u),d=f.x,p=f.y;a.push({startX:h,startY:c,x:d,y:p}),h=d,c=p}return a}},{key:"getIntersectionOfCircleAndLine",value:function(t,e,i,n,r){if(n.x===r.x&&n.y===r.y)return[{x:n.x,y:n.y}];var o=n.x,a=n.y,s=r.x,h=r.y,c=e,l=i,u=Math.pow(s-o,2)+Math.pow(h-a,2),f=2*((s-o)*(o-c)+(h-a)*(a-l)),d=Math.pow(c,2)+Math.pow(l,2)+Math.pow(o,2)+Math.pow(a,2)-2*(o*c+a*l)-Math.pow(t,2),p=Math.pow(f,2)-u*d*4;if(p<0)return[];if(0===p){var g=-f/(2*u);return[{x:o+g*(s-o),y:a+g*(h-a)}]}var y=(-f+Math.pow(p,.5))/(2*u),v=(-f-Math.pow(p,.5))/(2*u);return[{x:o+y*(s-o),y:a+y*(h-a)},{x:o+v*(s-o),y:a+v*(h-a)}]}}])}(),m=function(){return Object(r.a)((function t(e,i){var o=this;Object(r.b)(this,t),this.getCompoundPath=function(){return o.compoundedPath};var a=i.compoundType,s=void 0===a?n.a.SINGLE:a,h=i.isOutsizeBorder,c=i.lineWidth,l=void 0===c?1:c;this.path=e,this.compoundInfo=this.getCompoundInfo(s,h),this.lineWidth=l,this.generateCompoundPath()}),[{key:"generateCompoundPath",value:function(){var t=this,e=new o.N(this.path.svgPath).segments,i=this.getSplitMovePath(e),n=[],r=[],a=[];i.forEach((function(e){var i=t.turnPathSegmentsToStraightLine(e),o=t.getThreeLines(i),s=o.rLines,h=o.lLines,c=o.mLines;n.push(s),r.push(h),a.push(c)})),this.compoundedPath=this.getNewPath(n,r,a)}},{key:"getSplitMovePath",value:function(t){var e=[],i=[];return t.forEach((function(t){t.cmd===u?(i.length>0&&(e.push(i),i=[]),i.push(t)):i.push(t)})),i.length>0&&e.push(i),e}},{key:"getThreeLines",value:function(t){var e,i,n,r=this,o=((null===(e=this.compoundInfo.right)||void 0===e?void 0:e.distance)||0)*this.lineWidth/(this.path.scaleX||1),a=((null===(i=this.compoundInfo.left)||void 0===i?void 0:i.distance)||0)*this.lineWidth/(this.path.scaleX||1),s=((null===(n=this.compoundInfo.middle)||void 0===n?void 0:n.distance)||0)*this.lineWidth/(this.path.scaleX||1),h=[],c=[],l=[],u=this.isCloseStraightLines(t);return t.forEach((function(e,i){if(!(Math.abs(e.startX-e.x)<.05&&Math.abs(e.startY-e.y)<.05)){var n={x:e.x-e.startX,y:e.y-e.startY},f=Math.pow(Math.pow(n.x,2)+Math.pow(n.y,2),.5),d={x:1/f*n.x,y:1/f*n.y},p=i===t.length-1;if(r.compoundInfo.right){var g={x:d.y,y:-1*d.x};r.getNewLines(g,e,o,h,p,u)}if(r.compoundInfo.left){var y={x:-1*d.y,y:d.x};r.getNewLines(y,e,a,c,p,u)}if(r.compoundInfo.middle){var v={x:d.y,y:-1*d.x};r.getNewLines(v,e,s,l,p,u)}}})),{rLines:h,lLines:c,mLines:l}}},{key:"getNewLines",value:function(t,e,i,n,r,o){var a={x:t.x*i+e.startX,y:t.y*i+e.startY},s={x:t.x*i+e.x,y:t.y*i+e.y};if(n.length){var h=n[n.length-1],c=this.getIntersectPointOfLines(a.x,a.y,s.x,s.y,h.startX,h.startY,h.x,h.y),l=c.x,u=c.y;if(l&&u){var f=this.getDistanceBetween2Points(h.x,h.y,l,u),d=this.getDistanceBetween2Points(a.x,a.y,l,u),p=2*this.lineWidth/(this.path.scaleX||1);f<p&&d<p&&(h.x=l,h.y=u,a.x=l,a.y=u)}}if(r&&o){var g=n[0],y=this.getIntersectPointOfLines(a.x,a.y,s.x,s.y,g.startX,g.startY,g.x,g.y),v=y.x,m=y.y;if(v&&m){var _=this.getDistanceBetween2Points(g.startX,g.startY,v,m),x=this.getDistanceBetween2Points(s.x,s.y,v,m),b=2*this.lineWidth/(this.path.scaleX||1);_<b&&x<b&&(g.startX=v,g.startY=m,s.x=v,s.y=m)}}n.push({x:s.x,y:s.y,startX:a.x,startY:a.y})}},{key:"getIntersectPointOfLines",value:function(t,e,i,n,r,o,a,s){var h=this.generalEquation(t,e,i,n),c=h.A,l=h.B,u=h.C,f=this.generalEquation(r,o,a,s),d=f.A,p=f.B,g=f.C,y=c*p-d*l;return Math.abs(y/(l*p))<.03||Math.abs(l)<.05&&Math.abs(p)<.05?{x:void 0,y:void 0}:{x:(g*l-u*p)/y,y:(u*d-g*c)/y}}},{key:"generalEquation",value:function(t,e,i,n){return{A:n-e,B:t-i,C:i*e-t*n}}},{key:"getDistanceBetween2Points",value:function(t,e,i,n){return Math.pow(Math.pow(t-i,2)+Math.pow(e-n,2),.5)}},{key:"getTDArrayLength",value:function(t){return t.reduce((function(t,e){return t+((null==e?void 0:e.length)||0)}),0)}},{key:"getSvgPathFromLines",value:function(t){var e=this;return t.reduce((function(t,i){return"".concat(t," ").concat(e.turnStraightLineToPath(i)).trim()}),"")}},{key:"getNewPath",value:function(t,e,i){var n=[];if(n.push(Object.assign(Object.assign({},this.path),{isCompoundPath:!0,needFill:!0,widthPercent:this.compoundInfo.base.width})),this.getTDArrayLength(t)){var r=this.getSvgPathFromLines(t);n.push(Object.assign(Object.assign({},this.path),{svgPath:r,isCompoundPath:!0,widthPercent:this.compoundInfo.right.width}))}if(this.getTDArrayLength(i)){var o=this.getSvgPathFromLines(i);n.push(Object.assign(Object.assign({},this.path),{svgPath:o,isCompoundPath:!0,widthPercent:this.compoundInfo.middle.width}))}if(this.getTDArrayLength(e)){var a=this.getSvgPathFromLines(e);n.push(Object.assign(Object.assign({},this.path),{svgPath:a,isCompoundPath:!0,widthPercent:this.compoundInfo.left.width}))}return n}},{key:"turnStraightLineToPath",value:function(t){var e="";return t.forEach((function(i,n){e=0===n?"M ".concat(i.startX," ").concat(i.startY," L ").concat(i.x," ").concat(i.y):n===t.length-1&&i.x===t[0].startX&&i.y===t[0].startY?"".concat(e," Z"):"".concat(e," L ").concat(i.x," ").concat(i.y)})),e}},{key:"turnPathSegmentsToStraightLine",value:function(t){var e=this.path.scaleX||1,i=new v({segments:t,scale:e}),n=[];return t.forEach((function(t){i.getPathToStraightLine(t,30).forEach((function(t){n.push(t)}))})),n}},{key:"getCompoundInfo",value:function(t,e){if(e)switch(t){case n.a.DOUBLE:return{right:{distance:5/6,width:1/3},left:{distance:-1/6,width:1/3},base:{distance:0,width:0}};case n.a.THICKTHIN:return{right:{distance:.7,width:.6},left:{distance:-.1,width:.2},base:{distance:0,width:0}};case n.a.THINTHICK:return{right:{distance:.9,width:.2},left:{distance:-.3,width:.6},base:{distance:0,width:0}};case n.a.TRIPLE:return{right:{distance:11/12,width:1/6},middle:{distance:.5,width:1/3},left:{distance:-1/12,width:1/6},base:{distance:0,width:0}};default:return{right:{distance:.5,width:1},base:{distance:0,width:0}}}switch(t){case n.a.DOUBLE:return{right:{distance:1/3,width:1/3},left:{distance:1/3,width:1/3},base:{distance:0,width:0}};case n.a.THICKTHIN:return{right:{distance:.2,width:.6},left:{distance:.4,width:.2},base:{distance:0,width:0}};case n.a.THINTHICK:return{right:{distance:.4,width:.2},left:{distance:.2,width:.6},base:{distance:0,width:0}};case n.a.TRIPLE:return{right:{distance:5/12,width:1/6},left:{distance:5/12,width:1/6},base:{distance:0,width:1/3}};default:return{base:{distance:0,width:1}}}}},{key:"isCloseStraightLines",value:function(t){var e=t.length-1;return t[e].x===t[0].startX&&t[e].y===t[0].startY}}])}(),_=function(){return Object(r.a)((function t(e){Object(r.b)(this,t),this.model=e}),[{key:"update",value:function(t){this.model=t}},{key:"updateControlValues",value:function(t){var e;t?this.controlValues=t:(null===(e=this.model.controlValues)||void 0===e?void 0:e.length)>0?this.controlValues=this.model.controlValues:this.controlValues=this.getDefaultControlValues()}},{key:"getDefaultControlValues",value:function(){return[]}},{key:"getControlPoints",value:function(){return[]}},{key:"getConnectionPoints",value:function(t,e){var i=null!=t?t:this.model.width,n=null!=e?e:this.model.height;return[{x:i/2,y:0},{x:0,y:n/2},{x:i/2,y:n},{x:i,y:n/2}]}},{key:"getShapeWrapRect",value:function(){var t=this.model;return{left:0,top:0,width:t.width,height:t.height}}},{key:"getPathWithCompoundType",value:function(t,e){var i=e.compoundType,o=void 0===i?n.a.SINGLE:i,a=e.isOutsizeBorder;if(o===n.a.SINGLE&&!a)return t;var s=[];return t.forEach((function(t){if(t.isLineEndPath)s.push(t);else{t.segments=void 0;var i=new m(t,e).getCompoundPath();s.push.apply(s,Object(r.f)(i))}})),s}}])}();function x(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,b()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}var w=function(t){function e(t,i,n,o){return Object(r.b)(this,e),x(this,e,[t,i,n,o])}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getEndDirection",value:function(t){var e=new o.N(t).segments;return{x:e[0].x-(e[1].x1||e[1].x),y:e[0].y-(e[1].y1||e[1].y)}}}])}(y);function T(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,O()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(O=function(){return!!t})()}var S=function(t){function e(t,i,n,o){return Object(r.b)(this,e),T(this,e,[t,i,n,o])}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getEndDirection",value:function(t){var e=new o.N(t).segments,i=e[e.length-1],n=i.x2||i.x1||i.startX,r=i.y2||i.y1||i.startY;return{x:i.x-n,y:i.y-r}}}])}(y),C=function(){return Object(r.a)((function t(e,i,n){var o=this;Object(r.b)(this,t),this.getPathAfterCut=function(){return o.pathAfterCut},this.model=e,this.path=i,this.subPath="M".concat(n),this.headEnd=new w(this.model.headEnd,this.model.lineWidth||0,this.path.scaleX,this.model.minEndStrokeWidth),this.tailEnd=new S(this.model.tailEnd,this.model.lineWidth||0,this.path.scaleX,this.model.minEndStrokeWidth),this.updateSegmentsAfterCut(),this.updateDirection()}),[{key:"updateSegmentsAfterCut",value:function(){this.pathSegments=new o.N(this.subPath).segments;var t=this.path.scaleX||1;this.endSite={head:this.headEnd.getEndStrokeWidth()*t,tail:this.tailEnd.getEndStrokeWidth()*t},this.pathAfterCut=new v({segments:this.pathSegments,endSite:this.endSite,scale:t}).getNewPathAfterCut(),this.segmentsAfterCut=new o.N(this.pathAfterCut).segments}},{key:"updateDirection",value:function(){var t={x:this.segmentsAfterCut[0].x,y:this.segmentsAfterCut[0].y},e=this.pathSegments[0].x,i=this.pathSegments[0].y;e!==t.x||i!==t.y?this.headEnd.updateEndDirection({x:e-t.x,y:i-t.y}):0!==this.endSite.head&&this.headEnd.updateEndDirection({x:this.pathSegments[0].x-this.segmentsAfterCut[0].x,y:this.pathSegments[0].y-this.segmentsAfterCut[0].y});var n=this.pathSegments[this.pathSegments.length-1],r=this.segmentsAfterCut[this.segmentsAfterCut.length-1],o={x:r.x,y:r.y},a=n.x,s=n.y;a!==o.x||s!==o.y?this.tailEnd.updateEndDirection({x:a-o.x,y:s-o.y}):0!==this.endSite.tail&&this.tailEnd.updateEndDirection({x:n.x-r.x,y:n.y-r.y}),this.headEnd.updateEndPoint(t.x,t.y),this.tailEnd.updateEndPoint(o.x,o.y)}}])}();function E(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,R()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(R=function(){return!!t})()}var k=function(t){function e(t){return Object(r.b)(this,e),E(this,e,[t])}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getTextRect",value:function(t,e){return{left:0,top:0,width:null!=t?t:this.model.width,height:null!=e?e:this.model.height}}},{key:"getPathWithEnd",value:function(t){var e,i,n=this,r=[],o=t.svgPath,a=null===(e=this.model.headEnd)||void 0===e?void 0:e.lineEndType,h=null===(i=this.model.tailEnd)||void 0===i?void 0:i.lineEndType;(a&&a!==s.NONE||h&&h!==s.NONE)&&-1===o.toLowerCase().indexOf("z")?(t.segments=void 0,o.trim().split("M").forEach((function(e){if(e.length){var i=new C(n.model,t,e),a=i.headEnd.getEndPath(o);a&&(a.scaleX=t.scaleX,a.scaleY=t.scaleY,r.push(a));var s=Object.assign(Object.assign({},t),{svgPath:i.getPathAfterCut()});r.push(s);var h=i.tailEnd.getEndPath(o);h&&(h.scaleX=t.scaleX,h.scaleY=t.scaleY,r.push(h))}}))):r.push(t);return r}}])}(_);function A(t,e){if(t.length<1)return null;return["E","e"].includes(t[0])?function(t,e){var i=t[1],n=t[2],r=t[3],o=t[4],a=t[5],s=t[6],h=t[7],c=t[8],l=i+r*Math.cos(h),u=n+o*Math.sin(h);return 0!==o||"leftBracket"!==e&&"rightBracket"!==e?Math.abs(h-s-2*Math.PI)<1e-7?"A ".concat(r," ").concat(o," ").concat(a,"\n            ").concat(((c?-1:1)*(h-s)+4*Math.PI)%(2*Math.PI)>Math.PI?1:0,"\n            ").concat(c?0:1,"\n            ").concat(l+2*(i-l),"\n            ").concat(u+2*(n-u),"\n\n            A ").concat(r," ").concat(o," ").concat(a,"\n                ").concat(((c?-1:1)*(h-s)+4*Math.PI)%(2*Math.PI)>Math.PI?1:0,"\n                ").concat(c?0:1,"\n                ").concat(l,"\n                ").concat(u):"A ".concat(r," ").concat(o," ").concat(a,"\n                ").concat(((c?-1:1)*(h-s)+4*Math.PI)%(2*Math.PI)>Math.PI?1:0,"\n                ").concat(c?0:1,"\n                ").concat(l,"\n                ").concat(u):("leftBracket"===e?l=i+r*Math.cos(2*h):"rightBracket"===e&&(l=i+r*Math.cos(h-s)),"L ".concat(Math.abs(l)," ").concat(u))}(t,e):["Z","z"].includes(t[0])?"Z":["Q","q","S","s"].includes(t[0])?"Q ".concat(t[1]," ").concat(t[2]," ").concat(t[3]," ").concat(t[4]):["B","C","c"].includes(t[0])?"C ".concat(t[1]," ").concat(t[2]," ").concat(t[3]," ").concat(t[4]," ").concat(t[5]," ").concat(t[6]):["M","m"].includes(t[0])?"M ".concat(t[1]," ").concat(t[2]):["L","l"].includes(t[0])?"L ".concat(t[1]," ").concat(t[2]):null}function L(t,e){var i=[];if(t.length<1)return i;return["E","e"].includes(t[0])?i=function(t,e,i){var n=i,r=t[1],o=t[2],a=t[3],s=t[4],h=t[6],c=t[7],l=r+a*Math.cos(c),u=o+s*Math.sin(c);return 0!==s||"leftBracket"!==e&&"rightBracket"!==e||n.push({x:Math.abs(l),y:u}),Math.abs(c-h-2*Math.PI)<1e-7?n.push({x:l,y:u},{x:l+2*(r-l),y:u+2*(o-u)}):n.push({x:l,y:u}),n}(t,e,i):["Q","q","S","s"].includes(t[0])?i.push({x:t[3],y:t[4]}):["B","C","c"].includes(t[0])?i.push({x:t[5],y:t[6]}):["M","m","L","l"].includes(t[0])&&i.push({x:t[1],y:t[2]}),i}function P(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return I(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?I(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function M(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,B()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(B=function(){return!!t})()}function D(t,e,i,n){var o=Object(r.j)(Object(r.h)(1&n?t.prototype:t),e,i);return 2&n&&"function"==typeof o?function(t){return o.apply(i,t)}:o}var F=function(t){function e(t){var i;return Object(r.b)(this,e),(i=M(this,e,[t])).update=function(t){D(e,"update",i,3)([t]),i.updateControlValues()},i.getDefaultControlValues=function(){return i.spreadJS.getDefaultcontrolInfos(i.spreadJS.getAutoShapeType(i.model.type))},i.svgPathInRect=function(){var t=i.model,e=t.type,n=t.width,r=t.height,o=i.spreadJS.getPath(e,n,r,i.controlValues);return i.convertPathInfo(o.path)},i.getControlPoints=function(){var t=i.model,e=t.type,n=t.width,r=t.height,o=i.spreadJS.getControlinfos(e,i.controlValues,n,r);return o.controlsInfo?o.controlsInfo.map((function(t){return{x:t.point[0],y:t.point[1]}})):[]},i.getControlInfo=function(){var t=i.model,e=t.type,n=t.width,r=t.height;return i.spreadJS.getControlinfos(e,i.controlValues,n,r).controlsInfo||[]},i.getTextRect=function(t,e){var n=i.model.type,r=null!=t?t:i.model.width,o=null!=e?e:i.model.height,a=i.spreadJS.getTextRect(n,i.controlValues,r,o).textRect;if(void 0===a)return{left:0,top:0,width:r,height:o};var s=i.textRectWithControlValuesForError(a);return s||{left:a.left,top:a.top,width:a.right-a.left,height:a.bottom-a.top}},i.getConnectionPoints=function(t,e,n){var r=i.model.type,o=null!=t?t:i.model.width,a=null!=e?e:i.model.height;return i.spreadJS.getConnectionPoints(r,o,a,null!=n?n:i.controlValues)},i.getControlValuesWhenControlPointChange=function(t,e){if(!(null==e?void 0:e.x)&&(null==e?void 0:e.y))return i.controlValues;var n=i.model,r=n.type,o=n.width,a=n.height;return i.spreadJS.changeVariable(r,t,e,o,a,i.controlValues)},i.getShapeWrapRect=function(){var t=i.model,n=t.type,r=t.width,o=t.height;if(n!==a.a.CLOUD_CALLOUT&&n!==a.a.WEDGE_RECT_CALLOUT&&n!==a.a.WEDGE_ROUND_RECT_CALLOUT&&n!==a.a.WEDGE_ELLIPSE_CALLOUT)return D(e,"getShapeWrapRect",i,3)([]);var s=i.spreadJS.getPath(n,r,o,i.controlValues);return i.getWrapRectFromSpreadPathInfo(s.path)},i.getWrapRectFromSpreadPathInfo=function(t){var e=i.model,n=e.type,r=e.width,o=e.height,s={left:0,top:0,width:r,height:o};if(!t)return s;var h,c=P(t);try{for(c.s();!(h=c.n()).done;){var l,u=P(h.value);try{for(u.s();!(l=u.n()).done;){var f=l.value;if(!Array.isArray(f))return s;if(Object(a.d)(null==f?void 0:f[1]))console.error("[alloy-graphics] [path-error], shape:".concat(n,", controlValues:").concat(i.model.controlValues,", width:").concat(r,", height:").concat(o,", path => ").concat(f));else{var d=L(f,n);i.expandRectByPoint(s,d)}}}catch(t){u.e(t)}finally{u.f()}}}catch(t){c.e(t)}finally{c.f()}return s},i.expandRectByPoint=function(t,e){e.forEach((function(e){e.x<t.left&&(t.width+=t.left-e.x,t.left=e.x),e.y<t.top&&(t.height+=t.top-e.y,t.top=e.y),e.x>t.width&&(t.width=e.x),e.y>t.height&&(t.height=e.y)}))},i.initSpreadJS=function(){i.spreadJS=new a.c;var t=i.model,e=t.type,n=t.width,r=t.height;i.spreadJS.getPropertySource(i.spreadJS.getBaseShape(e),n,r)},i.textRectWithControlValuesForError=function(t){if(Object.values(t).filter((function(t){return Object(a.d)(t)||isNaN(t)})).length>0){var e=i.model,n=e.width;return{left:0,top:e.height/2,width:n,height:0}}return null},i.convertPathInfo=function(t){if(!t)return[];var e,n=i.model,o=n.type,s=n.width,h=n.height,c=n.controlValues,l=[],u=P(t);try{for(u.s();!(e=u.n()).done;){var f,d=e.value,p="",g=void 0,y=void 0,v=P(d);try{for(v.s();!(f=v.n()).done;){var m=f.value;Array.isArray(m)?Object(a.d)(null==m?void 0:m[1])?console.error("[alloy-graphics] [path-error], shape:".concat(o,", controlValues:").concat(c,", width:").concat(s,", height:").concat(h,", path => ").concat(m)):p+="".concat(A(m,o)," "):(g=null==m?void 0:m.fillMode,y="false"===(null==m?void 0:m.strokeMode))}}catch(t){v.e(t)}finally{v.f()}var _={svgPath:p,fillMode:g,notStroke:y};l.push.apply(l,Object(r.f)(i.getPathWithEnd(_)))}}catch(t){u.e(t)}finally{u.f()}return l},i.initSpreadJS(),i.updateControlValues(),i}return Object(r.g)(e,t),Object(r.a)(e)}(k);function N(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,j()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(j=function(){return!!t})()}var X=function(t){function e(t){return Object(r.b)(this,e),N(this,e,[t])}return Object(r.g)(e,t),Object(r.a)(e,[{key:"svgPathInRect",value:function(){var t=this.model,e=t.width,i=t.height;return[{svgPath:"M 0 0 L ".concat(e," 0 L ").concat(e," ").concat(i," L 0 ").concat(i," Z")}]}},{key:"getControlValuesWhenControlPointChange",value:function(){return[]}}])}(k);function Y(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,W()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function W(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(W=function(){return!!t})()}var U=function(t){function e(t){return Object(r.b)(this,e),Y(this,e,[t])}return Object(r.g)(e,t),Object(r.a)(e,[{key:"svgPathInRect",value:function(){var t=this;if(!this.model.pathList)return[];var e=this.model,i=e.width,o=e.height,a=[];return this.model.pathList.forEach((function(e){if(e&&e.fill!==n.d.NONE){var s=t.getPathObjFromPathList(e,i,o);a.push.apply(a,Object(r.f)(t.getPathWithEnd(s)))}})),this.model.pathList.forEach((function(e){if(e&&e.fill===n.d.NONE){var s=t.getPathObjFromPathList(e,i,o);a.push.apply(a,Object(r.f)(t.getPathWithEnd(s)))}})),a}},{key:"getControlValuesWhenControlPointChange",value:function(){return[]}},{key:"getScaledSegments",value:function(t){var e=this.getScaleInfo(t),i=e.scaleX,n=e.scaleY,r=o.G.parse(t.pathString);return r.forEach((function(t){t.x=Math.round(t.x*i),t.y=Math.round(t.y*n),t.cmd===f?(t.startX=Math.round(t.startX*i),t.startY=Math.round(t.startY*n)):t.cmd===d?(t.x1=Math.round(t.x1*i),t.y1=Math.round(t.y1*n),t.x2=Math.round(t.x2*i),t.y2=Math.round(t.y2*n),t.startX=Math.round(t.startX*i),t.startY=Math.round(t.startY*n)):t.cmd===p?(t.x1=Math.round(t.x1*i),t.y1=Math.round(t.y1*n),t.startX=Math.round(t.startX*i),t.startY=Math.round(t.startY*n)):t.cmd===g&&(t.startX=Math.round(t.startX*i),t.startY=Math.round(t.startY*n))})),r}},{key:"getScaledPath",value:function(t){var e="";return t.forEach((function(t){t.cmd===u||t.cmd===f?e+="".concat(t.cmd," ").concat(t.x," ").concat(t.y," "):t.cmd===d?e+="".concat(t.cmd," ").concat(t.x1," ").concat(t.y1,", ").concat(t.x2," ").concat(t.y2,", ").concat(t.x," ").concat(t.y," "):t.cmd===p?e+="".concat(t.cmd," ").concat(t.x1," ").concat(t.y1,", ").concat(t.x," ").concat(t.y," "):t.cmd===g&&(e+=t.cmd)})),e}},{key:"getScaleInfo",value:function(t){var e,i,n=null!==(e=null==t?void 0:t.width)&&void 0!==e?e:6350*this.model.width,r=null!==(i=null==t?void 0:t.height)&&void 0!==i?i:6350*this.model.height,o=0===n?1:this.model.width/n,a=0===r?o:this.model.height/r;return 0===o&&(o=1/n),0===a&&(a=1/r),{scaleX:o,scaleY:a}}},{key:"getPathObjFromPathList",value:function(t,e,i){var r,o=0===t.stroke,a=null!==(r=t.fill)&&void 0!==r?r:n.d.NORMAL,s=!(0===e&&0===i),h=s?this.getScaledSegments(t):void 0;return{svgPath:s?this.getScaledPath(h):"",segments:h,scaleX:1,scaleY:1,notStroke:o,fillMode:a}}}])}(k);function H(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,V()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(V=function(){return!!t})()}var G=function(t){function e(t){var i;return Object(r.b)(this,e),(i=H(this,e,[t])).getControlValuesWhenControlPointChange=function(t,e){var n=i.model,r=n.width,o=n.height,a=e.y/o;return t%2==0&&(a=e.x/r),i.controlValues.splice(t,1,a)},i.headEnd=new w(i.model.headEnd,i.model.lineWidth||0,1,t.minEndStrokeWidth),i.tailEnd=new S(i.model.tailEnd,i.model.lineWidth||0,1,t.minEndStrokeWidth),i.updateControlValues(),i.updateEndPoints(),i}return Object(r.g)(e,t),Object(r.a)(e,[{key:"update",value:function(t){var i,n,o,a,s;(i=e,n="update",o=this,a=3,s=Object(r.j)(Object(r.h)(1&a?i.prototype:i),n,o),2&a&&"function"==typeof s?function(t){return s.apply(o,t)}:s)([t]),this.updateControlValues(),this.headEnd.update(this.model.headEnd,this.model.lineWidth||0,1,t.minEndStrokeWidth),this.tailEnd.update(this.model.tailEnd,this.model.lineWidth||0,1,t.minEndStrokeWidth),this.updateEndPoints()}},{key:"svgPathInRect",value:function(){var t=this.getLinePath(),e=this.headEnd.getEndPath(t.svgPath),i=this.tailEnd.getEndPath(t.svgPath),n=[];return e&&n.push(e),n.push(t),i&&n.push(i),n}}])}(_);function z(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function q(t,e,i,n,r){var o=J(r-90);return{x:t+i*Math.cos(o),y:e+n*Math.sin(o)}}function J(t){return Math.PI/180*t}function Q(t,e){return function(t,e){return t.x*e.y-e.x*t.y}({x:e.p1.x-t.x,y:e.p1.y-t.y},{x:e.p2.x-t.x,y:e.p2.y-t.y})}function K(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,$()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function $(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($=function(){return!!t})()}var Z=function(t){function e(t){return Object(r.b)(this,e),K(this,e,[t])}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getLinePath",value:function(){return{svgPath:"M".concat(this.headEnd.point.x," ").concat(this.headEnd.point.y," L").concat(this.tailEnd.point.x," ").concat(this.tailEnd.point.y),fillMode:n.d.NONE}}},{key:"updateEndPoints",value:function(){var t,e,i=this.model,n=i.width,r=i.height,o=this.headEnd.getEndStrokeWidth(),a=this.tailEnd.getEndStrokeWidth();if(n<1e-4)t={x:0,y:o},e={x:n,y:r-a};else if(r<1e-4)t={x:o,y:0},e={x:n-a,y:r};else{var s=z({x:0,y:0},{x:n,y:r});t={x:o*n/s,y:o*r/s},e={x:n-a*n/s,y:r-a*r/s}}this.headEnd.updateEndPoint(t.x,t.y),this.tailEnd.updateEndPoint(e.x,e.y)}}])}(G);function tt(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,et()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function et(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(et=function(){return!!t})()}var it=function(t){function e(t){return Object(r.b)(this,e),tt(this,e,[t])}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getLinePath",value:function(){return{svgPath:"M".concat(this.headEnd.point.x," ").concat(this.headEnd.point.y," L").concat(this.tailEnd.point.x," ").concat(this.headEnd.point.y," L").concat(this.tailEnd.point.x," ").concat(this.tailEnd.point.y),fillMode:n.d.NONE}}},{key:"updateEndPoints",value:function(){var t=this.model,e=t.width,i=t.height,n={x:this.headEnd.getEndStrokeWidth(),y:0},r={x:e,y:i-this.tailEnd.getEndStrokeWidth()};this.headEnd.updateEndPoint(n.x,n.y),this.tailEnd.updateEndPoint(r.x,r.y)}}])}(G);function nt(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,rt()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function rt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rt=function(){return!!t})()}var ot=function(t){function e(t){var i;return Object(r.b)(this,e),(i=nt(this,e,[t])).getControlPoints=function(){var t=i.model,e=t.width,n=t.height;return[{x:e*i.controlValues[0],y:n/2}]},i}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getDefaultControlValues",value:function(){return[.5]}},{key:"getLinePath",value:function(){var t=this.getControlPoints(),e=Object(r.d)(t,1)[0];return{svgPath:"M".concat(this.headEnd.point.x," ").concat(this.headEnd.point.y," ")+"L".concat(e.x," ").concat(this.headEnd.point.y," ")+"L".concat(e.x," ").concat(this.tailEnd.point.y," ")+"L".concat(this.tailEnd.point.x," ").concat(this.tailEnd.point.y),fillMode:n.d.NONE}}},{key:"updateEndPoints",value:function(){var t=this.model,e=t.width,i=t.height,n=this.headEnd.getEndStrokeWidth(),r=this.tailEnd.getEndStrokeWidth(),o={x:(this.controlValues[0]<0?-1:1)*n,y:0},a={x:e-(this.controlValues[0]>1?-1:1)*r,y:i};this.headEnd.updateEndPoint(o.x,o.y),this.tailEnd.updateEndPoint(a.x,a.y)}}])}(G);function at(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,st()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function st(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(st=function(){return!!t})()}var ht=function(t){function e(t){var i;return Object(r.b)(this,e),(i=at(this,e,[t])).getControlPoints=function(){var t=i.model,e=t.width,n=t.height;return[{x:e*i.controlValues[0],y:n*i.controlValues[1]/2},{x:e*(1+i.controlValues[0])/2,y:n*i.controlValues[1]}]},i}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getDefaultControlValues",value:function(){return[.5,.5]}},{key:"getLinePath",value:function(){var t=this.getControlPoints(),e=Object(r.d)(t,2),i=e[0],o=e[1];return{svgPath:"M".concat(this.headEnd.point.x," ").concat(this.headEnd.point.y," ")+"L".concat(i.x," ").concat(this.headEnd.point.y," ")+"L".concat(i.x," ").concat(o.y," ")+"L".concat(this.tailEnd.point.x," ").concat(o.y," ")+"L".concat(this.tailEnd.point.x," ").concat(this.tailEnd.point.y),fillMode:n.d.NONE}}},{key:"updateEndPoints",value:function(){var t=this.model,e=t.width,i=t.height,n=this.headEnd.getEndStrokeWidth(),r=this.tailEnd.getEndStrokeWidth(),o={x:(this.controlValues[0]<0?-1:1)*n,y:0},a={x:e,y:i-(this.controlValues[1]>1?-1:1)*r};this.headEnd.updateEndPoint(o.x,o.y),this.tailEnd.updateEndPoint(a.x,a.y)}}])}(G);function ct(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,lt()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function lt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lt=function(){return!!t})()}var ut=function(t){function e(t){var i;return Object(r.b)(this,e),(i=ct(this,e,[t])).getControlPoints=function(){var t=i.model,e=t.width,n=t.height;return[{x:e*i.controlValues[0],y:n*i.controlValues[1]/2},{x:e*(i.controlValues[2]+i.controlValues[0])/2,y:n*i.controlValues[1]},{x:e*i.controlValues[2],y:n*(1+i.controlValues[1])/2}]},i}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getDefaultControlValues",value:function(){return[.5,.5,.5]}},{key:"getLinePath",value:function(){var t=this.getControlPoints(),e=Object(r.d)(t,3),i=e[0],o=e[1],a=e[2];return{svgPath:"M".concat(this.headEnd.point.x," ").concat(this.headEnd.point.y," ")+"L".concat(i.x," ").concat(this.headEnd.point.y," ")+"L".concat(i.x," ").concat(o.y," ")+"L".concat(a.x," ").concat(o.y," ")+"L".concat(a.x," ").concat(this.tailEnd.point.y," ")+"L".concat(this.tailEnd.point.x," ").concat(this.tailEnd.point.y),fillMode:n.d.NONE}}},{key:"updateEndPoints",value:function(){var t=this.model,e=t.width,i=t.height,n=this.headEnd.getEndStrokeWidth(),r=this.tailEnd.getEndStrokeWidth(),o={x:(this.controlValues[0]<0?-1:1)*n,y:0},a={x:e-(this.controlValues[2]>1?-1:1)*r,y:i};this.headEnd.updateEndPoint(o.x,o.y),this.tailEnd.updateEndPoint(a.x,a.y)}}])}(G);function ft(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,dt()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function dt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(dt=function(){return!!t})()}var pt=function(t){function e(){return Object(r.b)(this,e),ft(this,e,arguments)}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getHeadPoint",value:function(t,e,i,n){var r=Math.abs(i.x-e.x),o=Math.abs(i.y-e.y);return 1===n?i.x>=e.x?i.y>=e.y?q(e.x,e.y+o,r,o,t):q(e.x+r,e.y,r,o,270+t):i.y>=e.y?q(e.x-r,e.y,r,o,90+t):q(e.x,e.y-o,r,o,180+t):i.x>=e.x?i.y>=e.y?q(e.x+r,e.y,r,o,270-t):q(e.x,e.y-o,r,o,180-t):i.y>=e.y?q(e.x,e.y+o,r,o,360-t):q(e.x-r,e.y,r,o,90-t)}},{key:"getTailPoint",value:function(t,e,i,n){var r=Math.abs(i.x-e.x),o=Math.abs(i.y-e.y);return 1===n?i.x>=e.x?i.y>=e.y?q(e.x,e.y+o,r,o,90-t):q(e.x+r,e.y,r,o,360-t):i.y>=e.y?q(e.x-r,e.y,r,o,180-t):q(e.x,e.y-o,r,o,270-t):i.x>=e.x?i.y>=e.y?q(e.x+r,e.y,r,o,180+t):q(e.x,e.y-o,r,o,90+t):i.y>=e.y?q(e.x,e.y+o,r,o,270+t):q(e.x-r,e.y,r,o,t)}},{key:"getCrossAngle",value:function(t,e,i){var n=Math.max(e,i)/(Math.min(e,i)>0?Math.min(e,i):1);n>8&&(n=2);for(var r=0,o=90*n,a={x:0,y:i},s=0;r<=o;){s=Math.floor(r+Math.floor(o-r>>1));var h=z({x:e*Math.cos(J(90-s/n)),y:i*Math.sin(J(90-s/n))},a);if(h>t)o=s-1;else{if(!(h<t))break;r=s+1}}return s*n<=1?0:s/n}}])}(G);function gt(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,yt()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yt=function(){return!!t})()}var vt=function(t){function e(t){return Object(r.b)(this,e),gt(this,e,[t])}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getLinePath",value:function(){var t=this.model,e=t.width,i=t.height;return{svgPath:"M".concat(this.headEnd.point.x," ").concat(this.headEnd.point.y," ")+"A".concat(e," ").concat(i," 0 0 1 ").concat(this.tailEnd.point.x," ").concat(this.tailEnd.point.y),fillMode:n.d.NONE}}},{key:"updateEndPoints",value:function(){for(var t=this.model,e=t.width,i=t.height,n=this.headEnd.getEndStrokeWidth(),r=this.tailEnd.getEndStrokeWidth(),o=[{x:0,y:0},{x:e,y:i}],a=[{x:e,y:0}],s=[],h=0;h+1<o.length;h++){var c=Q(a[h],{p1:o[h],p2:o[h+1]});s.push(c>=0?0:1)}var l=this.getCrossAngle(n,e,i),u=this.getHeadPoint(l,o[0],o[1],s[0]),f=this.getCrossAngle(r,i,e),d=this.getTailPoint(f,o[0],o[1],s[0]);this.headEnd.updateEndPoint(u.x,u.y),this.tailEnd.updateEndPoint(d.x,d.y)}}])}(pt);function mt(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,_t()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function _t(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_t=function(){return!!t})()}var xt=function(t){function e(t){var i;return Object(r.b)(this,e),(i=mt(this,e,[t])).getControlPoints=function(){var t=i.model,e=t.width,n=t.height;return[{x:e*i.controlValues[0],y:n/2}]},i}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getDefaultControlValues",value:function(){return[.5]}},{key:"getLinePath",value:function(){var t=this.model.width,e=this.getControlPoints(),i=Object(r.d)(e,1)[0];return{svgPath:"M".concat(this.headEnd.point.x," ").concat(this.headEnd.point.y," ")+"A".concat(i.x," ").concat(i.y," 0 0 ").concat(this.clockwise[0]>0?1:0," ").concat(i.x," ").concat(i.y," ")+"A".concat(t-i.x," ").concat(i.y," 0 0 ").concat(this.clockwise[1]>0?1:0," ").concat(this.tailEnd.point.x," ").concat(this.tailEnd.point.y),fillMode:n.d.NONE}}},{key:"updateEndPoints",value:function(){var t=this.model,e=t.width,i=t.height,n=this.headEnd.getEndStrokeWidth(),o=this.tailEnd.getEndStrokeWidth(),a=Object(r.d)(this.controlValues,1)[0],s=[{x:0,y:0},{x:e*a,y:i/2},{x:e,y:i}],h=[{x:e*a,y:0},{x:e*a,y:i}];this.clockwise=[];for(var c=0;c+1<s.length;c++){var l=Q(h[c],{p1:s[c],p2:s[c+1]});this.clockwise.push(l>=0?0:1)}var u=this.getCrossAngle(n,e*Math.abs(a),i/2),f=this.getHeadPoint(u,s[0],s[1],this.clockwise[0]),d=this.getCrossAngle(o,e*Math.abs(1-a),i/2),p=this.getTailPoint(d,s[1],s[2],this.clockwise[1]);this.headEnd.updateEndPoint(f.x,f.y),this.tailEnd.updateEndPoint(p.x,p.y)}}])}(pt);function bt(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,wt()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function wt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wt=function(){return!!t})()}var Tt=function(t){function e(t){var i;return Object(r.b)(this,e),(i=bt(this,e,[t])).getControlPoints=function(){var t=i.model,e=t.width,n=t.height;return[{x:e*i.controlValues[0],y:n*i.controlValues[1]/2},{x:e*(1+i.controlValues[0])/2,y:n*i.controlValues[1]}]},i}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getDefaultControlValues",value:function(){return[.5,.5]}},{key:"getLinePath",value:function(){var t=this.model,e=t.width,i=t.height,o=this.getControlPoints(),a=Object(r.d)(o,2),s=a[0],h=a[1];return{svgPath:"M".concat(this.headEnd.point.x," ").concat(this.headEnd.point.y," ")+"A".concat(s.x," ").concat(s.y,",0 0 ").concat(this.clockwise[0]>0?1:0," ").concat(s.x," ").concat(s.y," ")+"A".concat((e-s.x)/2," ").concat(s.y,",0 0 ").concat(this.clockwise[1]>0?1:0," ").concat(h.x," ").concat(h.y," ")+"A".concat((e-s.x)/2," ").concat(i-h.y,",0 0 ").concat(this.clockwise[2]>0?1:0," ").concat(this.tailEnd.point.x," ").concat(this.tailEnd.point.y),fillMode:n.d.NONE}}},{key:"updateEndPoints",value:function(){var t=this.model,e=t.width,i=t.height,n=this.headEnd.getEndStrokeWidth(),o=this.tailEnd.getEndStrokeWidth(),a=Object(r.d)(this.controlValues,2),s=a[0],h=a[1],c=[{x:0,y:0},{x:e*s,y:i*h/2},{x:e*(s+1)/2,y:i*h},{x:e,y:i}],l=[{x:e*s,y:0},{x:e*s,y:i*h},{x:e,y:i*h}];this.clockwise=[];for(var u=0;u+1<c.length;u++){var f=Q(l[u],{p1:c[u],p2:c[u+1]});this.clockwise.push(f>=0?0:1)}var d=this.getCrossAngle(n,e*Math.abs(s),i*Math.abs(h)/2),p=this.getHeadPoint(d,c[0],c[1],this.clockwise[0]),g=this.getCrossAngle(o,i*Math.abs(1-h),e*Math.abs(1-s)/2),y=this.getTailPoint(g,c[2],c[3],this.clockwise[2]);this.headEnd.updateEndPoint(p.x,p.y),this.tailEnd.updateEndPoint(y.x,y.y)}}])}(pt);function Ot(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,St()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function St(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(St=function(){return!!t})()}var Ct,Et=function(t){function e(t){var i;return Object(r.b)(this,e),(i=Ot(this,e,[t])).getControlPoints=function(){var t=i.model,e=t.width,n=t.height;return[{x:e*i.controlValues[0],y:n*i.controlValues[1]/2},{x:e*(i.controlValues[2]+i.controlValues[0])/2,y:n*i.controlValues[1]},{x:e*i.controlValues[2],y:n*(1+i.controlValues[1])/2}]},i}return Object(r.g)(e,t),Object(r.a)(e,[{key:"getDefaultControlValues",value:function(){return[.5,.5,.5]}},{key:"getLinePath",value:function(){var t=this.model.width,e=this.getControlPoints(),i=Object(r.d)(e,3),o=i[0],a=i[1],s=i[2];return{svgPath:"M".concat(this.headEnd.point.x," ").concat(this.headEnd.point.y," ")+"A".concat(o.x," ").concat(o.y," 0 0 ").concat(this.clockwise[0]," ").concat(o.x," ").concat(o.y," ")+"A".concat(a.x-o.x," ").concat(o.y," 0 0 ").concat(this.clockwise[1]," ").concat(a.x," ").concat(a.y," ")+"A".concat(a.x-o.x," ").concat(s.y-a.y," 0 0 ").concat(this.clockwise[2]," ").concat(s.x," ").concat(s.y," ")+"A".concat(t-s.x," ").concat(s.y-a.y," 0 0 ").concat(this.clockwise[3]," ").concat(this.tailEnd.point.x," ").concat(this.tailEnd.point.y),fillMode:n.d.NONE}}},{key:"updateEndPoints",value:function(){var t=this.model,e=t.width,i=t.height,n=this.headEnd.getEndStrokeWidth(),o=this.tailEnd.getEndStrokeWidth(),a=Object(r.d)(this.controlValues,3),s=a[0],h=a[1],c=a[2],l=[{x:0,y:0},{x:e*s,y:i*h/2},{x:e*(s+c)/2,y:i*h},{x:e*c,y:i*(1+h)/2},{x:e,y:i}],u=[{x:e*s,y:0},{x:e*s,y:i*h},{x:e*c,y:i*h},{x:e*c,y:i}];this.clockwise=[];for(var f=0;f+1<l.length;f++){var d=Q(u[f],{p1:l[f],p2:l[f+1]});this.clockwise.push(d>=0?0:1)}var p=this.getCrossAngle(n,e*Math.abs(s),i*Math.abs(h)/2),g=this.getHeadPoint(p,l[0],l[1],this.clockwise[0]),y=this.getCrossAngle(o,e*Math.abs(1-c),i*Math.abs(1-h)/2),v=this.getTailPoint(y,l[3],l[4],this.clockwise[3]);this.headEnd.updateEndPoint(g.x,g.y),this.tailEnd.updateEndPoint(v.x,v.y)}}])}(pt),Rt=(Ct={},Object(r.e)(Object(r.e)(Object(r.e)(Object(r.e)(Object(r.e)(Object(r.e)(Object(r.e)(Object(r.e)(Object(r.e)(Object(r.e)(Ct,a.a.CUSTOM,U),a.a.RECT,X),a.a.LINE,Z),a.a.STRAIGHT_CONNECTOR,Z),a.a.BENT_CONNECTOR_0,it),a.a.BENT_CONNECTOR_1,ot),a.a.BENT_CONNECTOR_2,ht),a.a.BENT_CONNECTOR_3,ut),a.a.CURVED_CONNECTOR_0,vt),a.a.CURVED_CONNECTOR_1,xt),Object(r.e)(Object(r.e)(Ct,a.a.CURVED_CONNECTOR_2,Tt),a.a.CURVED_CONNECTOR_3,Et)),kt=Object.keys(Rt);function At(t){return Rt[t.type]?new Rt[t.type](t):new F(t)}function Lt(t,e){if(t===e)return!0;for(var i=kt.length,n=0;n<i;n++){var r=kt[n];if(r===t||r===e)return!1}return!0}function Pt(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,It()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function It(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(It=function(){return!!t})()}var Mt=function(t){function e(t){var i;return Object(r.b)(this,e),(i=Pt(this,e)).promiseImageLoaded=function(){var t,e;return n.k.requestListInfo.isLoading&&((null===(t=i.model.fillStyle)||void 0===t?void 0:t.imageFill)||(null===(e=i.model.fillStyle)||void 0===e?void 0:e.patternFill))?n.k.requestListInfo.requestMap.get(i.getImageUrl()):Promise.resolve()},i.isImageLoaded=function(){var t,e;return!n.k.requestListInfo.isLoading||!(null===(t=i.model.fillStyle)||void 0===t?void 0:t.imageFill)&&!(null===(e=i.model.fillStyle)||void 0===e?void 0:e.patternFill)||!n.k.requestListInfo.requestMap.has(i.getImageUrl())},i.addImageFilter=function(){var t,e=i.model,r=e.filter,o=e.fillStyle;(null==r?void 0:r.imageFilter)&&n.f.isShowImageFilter(null==r?void 0:r.imageFilter)&&(null==o?void 0:o.imageFill)&&n.f.generateImageFilter(r.imageFilter,null!==(t=r.forbidWebgl)&&void 0!==t&&t).forEach((function(t){i.addFilter(t)}))},i.model=t,i.id="canvas-path-render",i.updateStyles(),i}return Object(r.g)(e,t),Object(r.a)(e,[{key:"updateModel",value:function(t){this.model=t,this.updateStyles()}},{key:"applyFullPath",value:function(t){this.applyPath(t)}},{key:"getImageUrl",value:function(){var t,e=this.model,i=e.frame,r=e.path,o=this.model.fillStyle,a=o.patternFill,s=o.imageFill,h="";return a?h=n.g.getPatternSvgUrl(a,{frame:i,fillMode:null!==(t=r.fillMode)&&void 0!==t?t:n.d.NORMAL}):s&&(h=s.src),h}},{key:"updateStyles",value:function(){var t,e=this.model,i=e.frame,r=e.path;r.segments?this.segments=r.segments:this.path=r.svgPath,this.x=i.left,this.y=i.top;var a=r.scaleX,s=void 0===a?1:a,h=r.scaleY,c=void 0===h?1:h;this.scaleX=s,this.scaleY=c,this.fill=o.p.None,this.needFill()&&Object(n.l)(this,this.model.fillStyle,{frame:i,fillMode:null!==(t=r.fillMode)&&void 0!==t?t:n.d.NORMAL,scaleX:s,scaleY:c,type:this.model.type}),this.generateLineStyle(),this.filters=[],this.addImageFilter()}},{key:"needFill",value:function(){var t=this.model,e=t.path,i=t.type,r=this.segments.length,o=this.segments[0],s=this.segments[r-1],h=-1!==e.svgPath.toLowerCase().indexOf("z")||r>1&&o.x===s.x&&o.y===s.y;return e.fillMode!==n.d.NONE&&(h||!!e.isLineEndPath||i===a.a.CUSTOM)}},{key:"generateLineStyle",value:function(){var t=this.model,e=t.strokeStyle,i=t.path,r=t.frame;if(!e)return this.stroke=o.p.None,this.strokeWidth=0,void(this.hitStrokeWidth=0);var a=new n.h(e,i,r);this.hitStrokeWidth=a.hitStrokeWidth,this.strokeWidth=a.strokeWidth,this.stroke=a.strokeFill,this.strokeLineCap=a.lineCap,this.strokeLineJoin=a.lineJoin,this.strokeDash=a.lineDash}}])}(o.N);function Bt(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,Dt()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function Dt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Dt=function(){return!!t})()}var Ft=function(t){function e(t){var i;return Object(r.b)(this,e),(i=Bt(this,e)).getTextRect=function(){if(!i.isLineType())return i.parser.getTextRect()},i.promiseImageLoaded=function(){return Object(r.k)(i,void 0,void 0,r.l.mark((function t(){var e;return r.l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],this.graphicChildren.forEach((function(t){var i=t.promiseImageLoaded();i&&e.push(i.catch((function(t){console.error("[alloy-graphics]image-cache requestMap error",t)})))})),t.abrupt("return",Promise.all(e));case 3:case"end":return t.stop()}}),t,this)})))},i.isImageLoaded=function(){var t=!0;return i.graphicChildren.forEach((function(e){e.isImageLoaded()||(t=!1)})),t},i.hasFillOrStroke=function(){var t=i.model,e=t.fillStyle,n=t.strokeStyle;return!(null==e?void 0:e.noFill)||!!n},t?(i.model=t,i.prevModel=t,i.id="canvas-graphics-render",i.graphicChildren=[],i.updateParser(),i.updatePathRender(),i.addEffectFilters(),i):Object(r.i)(i)}return Object(r.g)(e,t),Object(r.a)(e,[{key:"updateModel",value:function(t){var e=this;if(t){this.prevModel=this.model,this.model=t,this.updateParser();var i=this.graphicChildren.length-this.pathArray.length;if(i>0)for(var n=0;n<Math.abs(i);n++){var r=this.graphicChildren[this.graphicChildren.length-1];this.removeChild(r),r.dispose(),this.graphicChildren.pop()}else if(i<0)for(var o=this.graphicChildren.length,a=0;a<Math.abs(i);a++){var s=this.pathArray[o+a],h=new Mt({path:s,frame:this.model.frame,filter:this.model.filter,fillStyle:this.getFillStyle(s),strokeStyle:this.model.strokeStyle,type:this.model.path.type});this.addChild(h),this.graphicChildren.push(h)}this.pathArray.forEach((function(t,i){e.graphicChildren[i].updateModel({path:t,frame:e.model.frame,filter:e.model.filter,fillStyle:e.getFillStyle(t),strokeStyle:e.getStorkeStyle(t),type:e.model.path.type})})),this.addEffectFilters()}}},{key:"addEffectFilters",value:function(){var t,e=this;if((null===(t=this.model.filter)||void 0===t?void 0:t.effect)&&this.hasFillOrStroke()){var i=this.model.fillStyle,r=!!(null==i?void 0:i.imageFill),o=this.model.filter,a=o.effect,s=o.filterDisplayOptions,h=void 0===s?n.b:s,c=o.forbidWebgl,l=void 0!==c&&c,u=Object(n.j)(a,{forbidWebgl:l,isPicture:r,filterDisplayOptions:h});this.filters=[],u.forEach((function(t){e.addFilter(t)}))}else this.filters.forEach((function(t){e.removeFilter(t)}))}},{key:"updateParser",value:function(){var t,e,i,n,r=this.model.path.type,o=this.prevModel.path.type,a=Object.assign(Object.assign({},this.model.path),{width:this.model.frame.width,height:this.model.frame.height,lineWidth:null===(t=this.model.strokeStyle)||void 0===t?void 0:t.lineWidth,headEnd:null===(e=this.model.strokeStyle)||void 0===e?void 0:e.headEnd,tailEnd:null===(i=this.model.strokeStyle)||void 0===i?void 0:i.tailEnd,minEndStrokeWidth:null===(n=this.model.strokeStyle)||void 0===n?void 0:n.minEndStrokeWidth});this.parser&&r===o?this.parser.update(a):this.parser=At(a),this.updateSvgArray()}},{key:"updatePathRender",value:function(){var t=this;this.pathArray.forEach((function(e){var i={path:e,frame:t.model.frame,filter:t.model.filter,fillStyle:t.getFillStyle(e),strokeStyle:t.getStorkeStyle(e),type:t.model.path.type},n=new Mt(i);t.addChild(n),t.graphicChildren.push(n)}))}},{key:"getFillStyle",value:function(t){var e;return t.isLineEndPath?null===(e=this.model.strokeStyle)||void 0===e?void 0:e.fillStyle:t.isCompoundPath&&!t.needFill?{noFill:!0}:this.model.fillStyle}},{key:"getStorkeStyle",value:function(t){return t.isCompoundPath?Object.assign(Object.assign({},this.model.strokeStyle),{lineWidth:t.widthPercent*(this.model.strokeStyle.lineWidth||this.model.strokeStyle.minStrokeWidth||0),fillStyle:t.widthPercent?this.model.strokeStyle.fillStyle:{noFill:!0}}):this.model.strokeStyle}},{key:"isLineType",value:function(){var t=this;return 1===Object.values(a.b).filter((function(e){return e===t.model.path.type})).length}},{key:"updateSvgArray",value:function(){var t,e,i=this.model,n=i.frame,r=i.path,o=i.strokeStyle;this.pathArray&&n.width===this.prevModel.frame.width&&n.height===this.prevModel.frame.height&&r.type===this.prevModel.path.type&&this.judgeControlValuesSame(r.controlValues,this.prevModel.path.controlValues)&&!this.lineEndChange(o)&&!this.pathListChange(r)&&(null==o?void 0:o.compoundType)===(null===(t=this.prevModel.strokeStyle)||void 0===t?void 0:t.compoundType)&&(null==o?void 0:o.isOutsizeBorder)===(null===(e=this.prevModel.strokeStyle)||void 0===e?void 0:e.isOutsizeBorder)||(this.pathArray=this.parser.svgPathInRect(),o&&(this.pathArray=this.parser.getPathWithCompoundType(this.pathArray,o)))}},{key:"pathListChange",value:function(t){var e,i=this.prevModel.path.pathList;if(!i&&!t.pathList)return!1;if((null==i?void 0:i.length)!==(null===(e=t.pathList)||void 0===e?void 0:e.length))return!0;var n=!1;return t.pathList.forEach((function(t,e){if(t&&(null==i?void 0:i[e])){var r=Object.keys(t).filter((function(n){var r;return t[n]!==(null===(r=null==i?void 0:i[e])||void 0===r?void 0:r[n])}));r.length>0&&(n=!0)}else n=!0})),n}},{key:"lineEndChange",value:function(t){var e,i,n,r,o,a,s=this.prevModel.strokeStyle||{},h=s.lineWidth,c=s.headEnd,l=s.tailEnd;return(null==t?void 0:t.lineWidth)!==h||(null===(e=null==t?void 0:t.headEnd)||void 0===e?void 0:e.lineEndType)!==(null==c?void 0:c.lineEndType)||(null===(i=null==t?void 0:t.headEnd)||void 0===i?void 0:i.lengthType)!==(null==c?void 0:c.lengthType)||(null===(n=null==t?void 0:t.headEnd)||void 0===n?void 0:n.widthType)!==(null==c?void 0:c.widthType)||(null===(r=null==t?void 0:t.tailEnd)||void 0===r?void 0:r.lineEndType)!==(null==l?void 0:l.lineEndType)||(null===(o=null==t?void 0:t.tailEnd)||void 0===o?void 0:o.lengthType)!==(null==l?void 0:l.lengthType)||(null===(a=null==t?void 0:t.tailEnd)||void 0===a?void 0:a.widthType)!==(null==l?void 0:l.widthType)}},{key:"judgeControlValuesSame",value:function(t,e){if(!e&&!t)return!0;if(t&&e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(Math.abs(t[i]-e[i])>1e-4)return!1;return!0}return!1}}])}(o.k);function Nt(t,e,i){return e=Object(r.h)(e),Object(r.i)(t,jt()?Reflect.construct(e,i||[],Object(r.h)(t).constructor):e.apply(t,i))}function jt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jt=function(){return!!t})()}o.k},"3df6907cce":function(t,e,i){"use strict";i.d(e,"a",(function(){return Ne})),i.d(e,"b",(function(){return de})),i.d(e,"c",(function(){return re})),i.d(e,"d",(function(){return I})),i.d(e,"e",(function(){return at})),i.d(e,"f",(function(){return fe})),i.d(e,"g",(function(){return ut})),i.d(e,"h",(function(){return Ye})),i.d(e,"i",(function(){return Me})),i.d(e,"j",(function(){return Fe})),i.d(e,"k",(function(){return lt})),i.d(e,"l",(function(){return ne}));var n=i("516fa97df2");function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function h(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,a,s=[],h=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;h=!1}else for(;!(h=(n=o.call(i)).done)&&(s.push(n.value),s.length!==e);h=!0);}catch(t){c=!0,r=t}finally{try{if(!h&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d={exports:{}},p={exports:{}};!function(t){function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(p);var g=p.exports;!function(t){var e=g.default;function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=i=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var n,r={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(t,e,i){t[e]=i.value},h="function"==typeof Symbol?Symbol:{},c=h.iterator||"@@iterator",l=h.asyncIterator||"@@asyncIterator",u=h.toStringTag||"@@toStringTag";function f(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(n){f=function(t,e,i){return t[e]=i}}function d(t,e,i,n){var r=e&&e.prototype instanceof x?e:x,o=Object.create(r.prototype),a=new I(n||[]);return s(o,"_invoke",{value:k(t,i,a)}),o}function p(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=d;var g="suspendedStart",y="suspendedYield",v="executing",m="completed",_={};function x(){}function b(){}function w(){}var T={};f(T,c,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(M([])));S&&S!==o&&a.call(S,c)&&(T=S);var C=w.prototype=x.prototype=Object.create(T);function E(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function R(t,i){function n(r,o,s,h){var c=p(t[r],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==e(u)&&a.call(u,"__await")?i.resolve(u.__await).then((function(t){n("next",t,s,h)}),(function(t){n("throw",t,s,h)})):i.resolve(u).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,h)}))}h(c.arg)}var r;s(this,"_invoke",{value:function(t,e){function o(){return new i((function(i,r){n(t,e,i,r)}))}return r=r?r.then(o,o):o()}})}function k(t,e,i){var r=g;return function(o,a){if(r===v)throw Error("Generator is already running");if(r===m){if("throw"===o)throw a;return{value:n,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var h=A(s,i);if(h){if(h===_)continue;return h}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===g)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=v;var c=p(t,e,i);if("normal"===c.type){if(r=i.done?m:y,c.arg===_)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function A(t,e){var i=e.method,r=t.iterator[i];if(r===n)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=n,A(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),_;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,_;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,_):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function M(t){if(t||""===t){var i=t[c];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}throw new TypeError(e(t)+" is not iterable")}return b.prototype=w,s(C,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:b,configurable:!0}),b.displayName=f(w,u,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,f(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},r.awrap=function(t){return{__await:t}},E(R.prototype),f(R.prototype,l,(function(){return this})),r.AsyncIterator=R,r.async=function(t,e,i,n,o){void 0===o&&(o=Promise);var a=new R(d(t,e,i,n),o);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),f(C,u,"Generator"),f(C,c,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=M,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return s.type="throw",s.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var h=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(h&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(h){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),P(i),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;P(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:M(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),_}},r}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(d);var y=(0,d.exports)(),v=y;try{regeneratorRuntime=y}catch(t){"object"===("undefined"==typeof globalThis?"undefined":o(globalThis))?globalThis.regeneratorRuntime=y:Function("r","regeneratorRuntime = r")(y)}var m=f(v);function _(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},w.apply(null,arguments)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}function S(t,e,i){return(e=a(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var C=i("d3ae7a7031"),E=i.n(C),R=i("1068873c4f"),k=i("a04ac707c7"),A=i("402349bbbb"),L={pct5:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <circle cx="6" cy="6" r="1" fill="').concat(t,'"/>\n        <circle cx="14" cy="14" r="1" fill="').concat(t,'"/></g>')},pct10:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="7" width="13"/>\n        <circle cx="1" cy="3" r="1" fill="').concat(t,'"/>\n        <circle cx="7" cy="1" r="1" fill="').concat(t,'"/>\n    </g>')},pct20:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="8" width="8"/>\n        <rect x="2" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="6" width="2" height="2" fill="').concat(t,'"/>\n    </g>')},pct25:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="4" width="8"/>\n        <rect x="2" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="2" width="2" height="2" fill="').concat(t,'"/>\n    </g>')},pct30:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="8" width="8"/>\n        <rect x="0" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="2" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="6" width="2" height="2" fill="').concat(t,'"/>\n    </g>')},pct40:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(t,'" height="16" width="16"/>\n        <rect x="2" y="0" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="6" y="0" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="10" y="0" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="14" y="0" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="0" y="2" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="4" y="2" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="8" y="2" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="12" y="2" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="2" y="4" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="6" y="4" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="10" y="4" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="12" y="4" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="14" y="4" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="0" y="6" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="4" y="6" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="8" y="6" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="12" y="6" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="2" y="8" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="6" y="8" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="10" y="8" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="14" y="8" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="0" y="10" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="4" y="10" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="8" y="10" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="12" y="10" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="2" y="12" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="4" y="12" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="6" y="12" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="10" y="12" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="14" y="12" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="0" y="14" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="4" y="14" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="8" y="14" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="12" y="14" width="2" height="2" fill="').concat(e,'"/>\n    </g>')},pct50:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(t,'" height="4" width="4"/>\n        <rect x="0" y="0" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="2" y="2" width="2" height="2" fill="').concat(e,'"/>\n    </g>')},pct60:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(t,'" height="10" width="8"/>\n        <rect x="2" y="0" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="6" y="0" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="4" y="2" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="2" y="4" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="6" y="4" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="0" y="6" width="2" height="2" fill="').concat(e,'"/>\n    </g>')},pct70:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(t,'" height="4" width="8"/>\n        <rect x="2" y="0" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="6" y="2" width="2" height="2" fill="').concat(e,'"/>\n    </g>')},pct75:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(t,'" height="8" width="8"/>\n        <rect x="2" y="2" width="2" height="2" fill="').concat(e,'"/>\n        <rect x="6" y="6" width="2" height="2" fill="').concat(e,'"/>\n    </g>')},pct80:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(t,'" height="7" width="13"/>\n        <circle cx="1" cy="3" r="1" fill="').concat(e,'"/>\n        <circle cx="7" cy="1" r="1" fill="').concat(e,'"/>\n    </g>')},pct90:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(t,'" height="8" width="8"/>\n        <circle cx="1" cy="4" r="1" fill="').concat(e,'"/>\n        <circle cx="5" cy="1" r="1" fill="').concat(e,'"/>\n    </g>')},ltDnDiag:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="10" width="10"/>\n        <rect x="1" y="0" width="2" height="1" fill="').concat(t,'"/>\n        <rect x="3" y="1" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="5" y="3" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="7" y="5" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="9" y="7" width="1" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="7" width="1" height="2" fill="').concat(t,'"/>\n        <rect x="1" y="9" width="2" height="1" fill="').concat(t,'"/>\n    </g>')},ltUpDiag:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="10" width="10"/>\n        <rect x="7" y="0" width="2" height="1" fill="').concat(t,'"/>\n        <rect x="5" y="1" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="3" y="3" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="1" y="5" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="7" width="1" height="2" fill="').concat(t,'"/>\n        <rect x="9" y="7" width="1" height="2" fill="').concat(t,'"/>\n        <rect x="7" y="9" width="2" height="1" fill="').concat(t,'"/>\n    </g>')},dkDnDiag:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="10" width="10"/>\n        <rect x="0" y="0" width="4" height="1" fill="').concat(t,'"/>\n        <rect x="2" y="1" width="4" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="3" width="4" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="5" width="4" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="7" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="7" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="9" width="4" height="1" fill="').concat(t,'"/>\n    </g>')},dkUpDiag:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="10" width="10"/>\n        <rect x="6" y="0" width="4" height="1" fill="').concat(t,'"/>\n        <rect x="4" y="1" width="4" height="2" fill="').concat(t,'"/>\n        <rect x="2" y="3" width="4" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="5" width="4" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="7" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="7" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="9" width="4" height="1" fill="').concat(t,'"/>\n    </g>')},wdDnDiag:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="10" width="10"/>\n        <rect x="0" y="0" width="2" height="1" fill="').concat(t,'"/>\n        <rect x="1" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="2" y="1" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="3" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="3" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="5" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="5" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="7" y="6" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="7" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="9" y="8" width="1" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="8" width="1" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="9" width="2" height="1" fill="').concat(t,'"/>\n    </g>')},wdUpDiag:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="10" width="10"/>\n        <rect x="8" y="0" width="2" height="1" fill="').concat(t,'"/>\n        <rect x="7" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="1" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="5" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="3" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="3" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="2" y="5" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="1" y="6" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="7" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="8" width="1" height="2" fill="').concat(t,'"/>\n        <rect x="9" y="8" width="1" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="9" width="2" height="1" fill="').concat(t,'"/>\n    </g>')},ltVert:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="10" width="5"/>\n        <line stroke="').concat(t,'" y2="10" x2="5" y1="0" x1="5" strokeWidth="1"/>\n    </g>')},ltHorz:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="5" width="10"/>\n        <line stroke="').concat(t,'" y2="5" x2="10" y1="5" x1="0" strokeWidth="1" />\n    </g>')},narVert:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="8" width="8"/>\n        <line stroke="').concat(t,'" y2="8" x2="4" y1="0" x1="4" strokeWidth="1"/>\n    </g>')},narHorz:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="8" width="8"/>\n        <line stroke="').concat(t,'" y2="4" x2="8" y1="4" x1="0" strokeWidth="1"/>\n    </g>')},dkVert:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="10" width="5"/>\n        <line stroke="').concat(t,'" y2="10" x2="0" y1="0" x1="0" strokeWidth="2"/>\n    </g>')},dkHorz:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="5" width="10"/>\n        <line stroke="').concat(t,'" y2="0" x2="10" y1="0" x1="0" strokeWidth="2"/>\n    </g>')},dashDnDiag:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="26" width="16"/>\n        <rect x="0" y="16" width="4" height="4" fill="').concat(t,'"/>\n        <rect x="4" y="18" width="4" height="4" fill="').concat(t,'"/>\n        <rect x="8" y="20" width="4" height="4" fill="').concat(t,'"/>\n        <rect x="12" y="22" width="4" height="4" fill="').concat(t,'"/>\n    </g>')},dashUpDiag:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="26" width="16"/>\n        <rect x="0" y="22" width="4" height="4" fill="').concat(t,'"/>\n        <rect x="4" y="20" width="4" height="4" fill="').concat(t,'"/>\n        <rect x="8" y="18" width="4" height="4" fill="').concat(t,'"/>\n        <rect x="12" y="16" width="4" height="4" fill="').concat(t,'"/>\n    </g>')},dashHorz:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="20" width="10"/>\n        <rect x="0" y="18" width="5" height="2" fill="').concat(t,'"/>\n        <rect x="5" y="8" width="5" height="2" fill="').concat(t,'"/>\n    </g>')},dashVert:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="20" width="10"/>\n        <rect x="0" y="10" width="2" height="10" fill="').concat(t,'"/>\n        <rect x="8" y="0" width="2" height="10" fill="').concat(t,'"/>\n    </g>')},smConfetti:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect x="0" y="14" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="2" y="10" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="6" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="12" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="10" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="8" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="14" y="4" width="2" height="2" fill="').concat(t,'"/>\n    </g>')},lgConfetti:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect x="2" y="2" width="4" height="4" fill="').concat(t,'"/>\n        <rect x="0" y="12" width="4" height="4" fill="').concat(t,'"/>\n        <rect x="4" y="8" width="4" height="4" fill="').concat(t,'"/>\n        <rect x="8" y="0" width="4" height="4" fill="').concat(t,'"/>\n        <rect x="12" y="4" width="4" height="4" fill="').concat(t,'"/>\n        <rect x="10" y="10" width="4" height="4" fill="').concat(t,'"/>\n    </g>')},zigZag:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="8" width="16"/>\n        <rect x="2" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="0" width="4" height="2" fill="').concat(t,'"/>\n        <rect x="10" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="14" y="6" width="2" height="2" fill="').concat(t,'"/>\n    </g>')},wave:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="6" width="16"/>\n        <rect x="0" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="2" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="14" y="0" width="2" height="2" fill="').concat(t,'"/>\n    </g>')},diagBrick:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect x="0" y="12" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="2" y="10" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="8" width="4" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="6" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="10" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="10" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="10" y="12" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="14" width="2" height="2" fill="').concat(t,'"/>\n    </g>')},horzBrick:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect x="7" y="0" width="2" height="6" fill="').concat(t,'"/>\n        <rect x="0" y="6" width="16" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="8" width="2" height="6" fill="').concat(t,'"/>\n        <rect x="0" y="14" width="16" height="2" fill="').concat(t,'"/>\n    </g>')},weave:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect fill="').concat(t,'" x="3" y="0" width="2" height="1"/>\n        <rect fill="').concat(t,'" x="5" y="1" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="11" y="0" width="2" height="1"/>\n        <rect fill="').concat(t,'" x="9" y="1" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="13" y="1" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="0" y="3" width="1" height="2"/>\n        <rect fill="').concat(t,'" x="7" y="3" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="15" y="3" width="1" height="2"/>\n        <rect fill="').concat(t,'" x="1" y="5" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="5" y="5" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="13" y="5" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="3" y="7" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="11" y="7" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="0" y="11" width="1" height="2"/>\n        <rect fill="').concat(t,'" x="5" y="1" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="9" y="9" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="13" y="9" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="13" y="9" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="7" y="11" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="15" y="11" width="1" height="2"/>\n        <rect fill="').concat(t,'" x="1" y="13" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="5" y="13" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="9" y="13" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="3" y="15" width="2" height="1"/>\n        <rect fill="').concat(t,'" x="11" y="15" width="2" height="1"/>\n    </g>')},plaid:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect x="8" y="0" width="8" height="8" fill="').concat(t,'"/>\n        <rect x="0" y="8" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="8" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="8" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="8" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="2" y="10" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="10" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="10" y="10" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="14" y="10" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="12" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="12" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="12" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="12" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="2" y="14" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="14" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="10" y="14" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="14" y="14" width="2" height="2" fill="').concat(t,'"/>\n    </g>')},divot:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect x="2" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="2" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="10" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="14" y="12" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="14" width="2" height="2" fill="').concat(t,'"/>\n    </g>')},dotGrid:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect x="0" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="8" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="12" width="2" height="2" fill="').concat(t,'"/>\n    </g>')},dotDmnd:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect x="0" y="0" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="8" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="4" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="12" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="12" width="2" height="2" fill="').concat(t,'"/>\n    </g>')},shingle:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect x="0" y="4" width="4" height="2" fill="').concat(t,'"/>\n        <rect x="4" y="2" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="6" y="4" width="2" height="4" fill="').concat(t,'"/>\n        <rect x="4" y="8" width="4" height="2" fill="').concat(t,'"/>\n        <rect x="0" y="12" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="2" y="10" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="8" y="10" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="10" y="12" width="2" height="2" fill="').concat(t,'"/>\n        <rect x="12" y="14" width="4" height="2" fill="').concat(t,'"/>\n    </g>')},trellis:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect x="0" y="0" width="8" height="11" fill="').concat(t,'"/>\n        <rect x="8" y="5" width="8" height="11" fill="').concat(t,'"/>\n    </g>')},sphere:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect fill="').concat(t,'" x="1" y="0" width="7" height="1"/>\n        <rect fill="').concat(t,'" x="9" y="0" width="7" height="1"/>\n        <rect fill="').concat(t,'" x="4" y="1" width="4" height="2"/>\n        <rect fill="').concat(t,'" x="0" y="1" width="1" height="7"/>\n        <rect fill="').concat(t,'" x="8" y="1" width="1" height="7"/>\n        <rect fill="').concat(t,'" x="1" y="3" width="7" height="6"/>\n        <rect fill="').concat(t,'" x="0" y="9" width="1" height="7"/>\n        <rect fill="').concat(t,'" x="8" y="9" width="1" height="7"/>\n        <rect fill="').concat(t,'" x="9" y="8" width="7" height="1"/>\n        <rect fill="').concat(t,'" x="12" y="9" width="4" height="2"/>\n        <rect fill="').concat(t,'" x="9" y="11" width="7" height="6"/>\n    </g>')},smGrid:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="8" width="8"/>\n        <rect fill="').concat(t,'" x="0" y="0" width="8" height="2"/>\n        <rect fill="').concat(t,'" x="0" y="2" width="2" height="6"/>\n    </g>')},lgGrid:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect fill="').concat(t,'" x="0" y="0" width="16" height="2"/>\n        <rect fill="').concat(t,'" x="0" y="2" width="2" height="14"/>\n    </g>')},smCheck:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="8" width="8"/>\n        <rect fill="').concat(t,'" x="0" y="0" width="4" height="4"/>\n        <rect fill="').concat(t,'" x="4" y="4" width="4" height="4"/>\n    </g>')},lgCheck:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect fill="').concat(t,'" x="0" y="0" width="8" height="8"/>\n        <rect fill="').concat(t,'" x="8" y="8" width="8" height="8"/>\n    </g>')},openDmnd:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect fill="').concat(t,'" x="0" y="0" width="1" height="1"/>\n        <rect fill="').concat(t,'" x="15" y="0" width="1" height="1"/>\n        <rect fill="').concat(t,'" x="0" y="15" width="1" height="1"/>\n        <rect fill="').concat(t,'" x="15" y="15" width="1" height="1"/>\n        <rect fill="').concat(t,'" x="1" y="1" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="3" y="3" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="5" y="5" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="7" y="7" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="9" y="5" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="11" y="3" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="13" y="1" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="5" y="9" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="3" y="11" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="1" y="13" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="9" y="9" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="11" y="11" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="13" y="13" width="2" height="2"/>\n    </g>')},solidDmnd:function(t,e,i,n){return'<g transform="scale('.concat(1/i,", ").concat(1/n,')">\n        <rect fill="').concat(e,'" height="16" width="16"/>\n        <rect fill="').concat(t,'" x="7" y="1" width="2" height="2"/>\n        <rect fill="').concat(t,'" x="5" y="3" width="6" height="2"/>\n        <rect fill="').concat(t,'" x="3" y="5" width="10" height="2"/>\n        <rect fill="').concat(t,'" x="1" y="7" width="14" height="2"/>\n        <rect fill="').concat(t,'" x="3" y="9" width="10" height="2"/>\n        <rect fill="').concat(t,'" x="5" y="11" width="6" height="2"/>\n        <rect fill="').concat(t,'" x="7" y="13" width="2" height="2"/>\n    </g>')}};function P(t,e){var i,n,r,o,a,s=(i=t.preset,n=t.fgColor,r=t.bgColor,o=e,a=e,L[i]?L[i](null==n?void 0:n.rgba,null==r?void 0:r.rgba,o,a):L.pct5(null==n?void 0:n.rgba,null==r?void 0:r.rgba,o,a)),h=M[t.preset];return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'.concat(h.width/e,'" height="').concat(h.height/e,'">').concat(s,"</svg>")}var I,M={pct5:{height:16,width:16},pct10:{height:7,width:13},pct20:{height:8,width:8},pct25:{height:4,width:8},pct30:{height:8,width:8},pct40:{height:16,width:16},pct50:{height:4,width:4},pct60:{height:10,width:8},pct70:{height:4,width:8},pct75:{height:8,width:8},pct80:{height:7,width:13},pct90:{height:8,width:8},ltDnDiag:{height:10,width:10},ltUpDiag:{height:10,width:10},dkDnDiag:{height:10,width:10},dkUpDiag:{height:10,width:10},wdDnDiag:{height:10,width:10},wdUpDiag:{height:10,width:10},ltVert:{height:10,width:5},ltHorz:{height:5,width:10},narVert:{height:8,width:8},narHorz:{height:8,width:8},dkVert:{height:10,width:5},dkHorz:{height:5,width:10},dashDnDiag:{height:26,width:16},dashUpDiag:{height:26,width:16},dashHorz:{height:20,width:10},dashVert:{height:20,width:10},smConfetti:{height:16,width:16},lgConfetti:{height:16,width:16},zigZag:{height:8,width:16},wave:{height:6,width:16},diagBrick:{height:16,width:16},horzBrick:{height:16,width:16},weave:{height:16,width:16},plaid:{height:16,width:16},divot:{height:16,width:16},dotGrid:{height:16,width:16},dotDmnd:{height:16,width:16},shingle:{height:16,width:16},trellis:{height:16,width:16},sphere:{height:16,width:16},smGrid:{height:8,width:8},lgGrid:{height:16,width:16},smCheck:{height:8,width:8},lgCheck:{height:16,width:16},openDmnd:{height:16,width:16},solidDmnd:{height:16,width:16}};!function(t){t.NONE="none",t.NORMAL="normal",t.BRIGHT="lightenLess",t.BRIGHTER="lighten",t.DARK="darkenLess",t.DARKER="darken"}(I||(I={}));var B=.193,D=.398;function F(t,e){var i=t;switch(e){case I.NONE:i="#ffffff00";break;case I.NORMAL:break;case I.BRIGHT:i=N(t,"rgb(255,255,255)",B);break;case I.BRIGHTER:i=N(t,"rgb(255,255,255)",D);break;case I.DARK:i=N(t,"rgb(0,0,0)",B);break;case I.DARKER:i=N(t,"rgb(0,0,0)",D)}return i}function N(t,e,i){var n=j(t),r=n[0],o=n[1],a=n[2],s=n[3],h=(n=j(e))[0]-r,c=n[1]-o,l=n[2]-a,u=Math.round(r+i*h),f=Math.round(o+i*c),d=Math.round(a+i*l),p=s;return"rgb(".concat(u,",").concat(f,",").concat(d,",").concat(p,")")}function j(t){var e=function(t){var e=t.toLowerCase(),i=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/;if(e&&i.test(e)){if(4===e.length){for(var n="#",r=1;r<4;r+=1)n+=e.slice(r,r+1).concat(e.slice(r,r+1));e=n}for(var o=[],a=1;a<e.length;a+=2){var s=e.slice(a,a+2);o.push(parseInt("0x".concat(s),16))}return 4===o.length?o[3]=o[3]/255:o.push(1),o}return e}(t);if(e===t&&t.startsWith("rgb")){var i=t.indexOf("(")+1;3===(e=(e=t.substring(i,t.length-1).split(",")).map((function(t){return Number(t)}))).length&&e.push(1)}return e}var X=function(t){return 1-t/100};function Y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/;if(!(null==i?void 0:i.test(t)))return"";var n=u(t.match(/\w\w/g).map((function(t){return parseInt(t,16)})),3),r=n[0],o=n[1],a=n[2];return"rgba(".concat(r,",").concat(o,",").concat(a,",").concat(e,")")}function W(t){if("none"===t||!t)return null;var e=function(t){if(!t)return{colorValue:t,alpha:1};if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t)){if(4===t.length){for(var e="#",i=1;i<4;i+=1)e+=t.slice(i,i+1).concat(t.slice(i,i+1));return{colorValue:e,alpha:1}}if(7===t.length)return{colorValue:t.substring(1,7),alpha:1};if(9===t.length){var n=parseInt(t.substring(7,9),16)/255;return{colorValue:t.substring(1,7),alpha:n}}}else if(t.toLowerCase().startsWith("rgb")){var r=t.indexOf("(")+1,o=t.substring(r,t.length-1).split(",");if(o.length>=3)return function(t){for(var e="",i=1,n=0;n<t.length;n++)if(3===n)i=parseFloat(t[n]);else{var r=parseInt(t[n],10).toString(16);e+=r=1===r.length?"0".concat(r):r}return{colorValue:e,alpha:i}}(o)}return{colorValue:t,alpha:1}}(t);return n.h.fromHex("#".concat(e.colorValue),e.alpha)}var U,H={isPC:(U=window.navigator.userAgent,!/mobile|SymbianOS|iphone|android|iPad/i.test(U)),isChrome:function(){var t=window.navigator.userAgent;return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(t)}(),isAndroid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return/android|adr/i.test(t)}(),isFirefox:function(){var t=window.navigator.userAgent;return/(Firefox|Focus|FxiOS)\//i.test(t)}(),isTencentDocDesktopApp:function(){var t=window.navigator.userAgent;return/TDAppDesktop/i.test(t)}(),isWindows:V(),isChromiumEdge:function(){var t=window.navigator.userAgent;return/Edg\//i.test(t)}(),isWindowWxMiniProgram:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return/MicroMessenger/i.test(t)&&(/miniprogram|miniapp(?!enable)/i.test(t)||window.location.href.indexOf("__wxjs_environment=miniprogram")>-1)}()&&V(),isQQBrowser:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return/QQBrowser/i.test(t)}()};function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return/windows/i.test(t)}function G(t){return Math.PI/180*t}function z(t,e){var i=t.transform,n=e.left,r=void 0===n?0:n,o=e.top,a=void 0===o?0:o,s=e.rotate,h=void 0===s?0:s,c=e.scaleX,l=e.scaleY,u=e.realWidth,f=e.realHeight;i.rotation=h*Math.PI/180,i.scaleX=c,i.scaleY=l;var d=Math.sin(-i.rotation),p=Math.cos(-i.rotation);h>=270&&h<360?(i.translateX=-f*d*p,i.translateY=f*d*d):h>=180&&h<270?(i.translateX=u*p*p,i.translateY=-u*p*d+f):h>=90&&h<180?(i.translateX=f*p*d+u,i.translateY=f*p*p):(i.translateX=u*d*d,i.translateY=u*d*p),i.translateX+=r,i.translateY+=a}function q(t,e){var i,r=t,o=e.width,a=e.height,s=e.flipH,h=e.flipV,c=e.scaleX,l=void 0===c?1:c,u=e.scaleY,f=void 0===u?1:u,d=e.pathScaleX,p=void 0===d?1:d,g=e.pathScaleY,y=void 0===g?1:g,v=e.translateX,m=e.translateY,_=e.offsetFrame;r.transform.pivotX=Math.floor(o/2),r.transform.pivotY=Math.floor(a/2),r.transform.translateX=Math.floor(o/2),r.transform.translateY=Math.floor(a/2),r.transform.scaleX=s?-1:1,r.transform.scaleY=h?-1:1,it(r.transform,_);var x=e.rotate,b=void 0===x?0:x;if(b=null!==(i=null==_?void 0:_.offsetRotate)&&void 0!==i?i:b,r.transform.rotation=b*Math.PI/180,1!==p||1!==y){var w=new n.T;w.scaleX=p,w.scaleY=y,r.transform.matrix.append(w.matrix).invert()}else r.transform.matrix.invert();var T=new n.T;T.scaleX=l,T.scaleY=f,T.translateX=v,T.translateY=m,r.transform.matrix.append(T.matrix)}function J(t,e){var i,r=e.scaleW,o=e.scaleH,a=e.imgW,s=e.imgH,h=e.width,c=e.height,l=e.imageScaleX,u=e.imageScaleY,f=h/r,d=c/o,p=0,g=0,y=0;if(!t.rotateWithShape){var v=e.offsetFrame;if(v)p=v.offsetX,g=v.offsetY,f=v.offsetWidth,d=v.offsetHeight,y=null!==(i=null==v?void 0:v.offsetRotate)&&void 0!==i?i:y;else if(e.rotate>0){y=360-(y=e.rotate)%360;var m=K({left:0,top:0,width:f,height:d},e.rotate);p=m.left,g=m.top,f=m.width,d=m.height}}var _=a*l/r,x=s*u/o,b=function(t,e,i){var r=t.flip,o=t.algn,a=2*e,s=2*i,h={pattern:{width:e,height:i,translateX:0,translateY:0},imageArray:[{w:e,h:i,x:0,y:0,transform:""}]},c=h.imageArray,l=h.pattern;switch(r){case n.R.Horizontal:l.width=a,Z(l,o,e),c.push({w:e+1,h:i,x:-a,y:0,transform:"scale(-1,1)"});break;case n.R.Vertical:l.height=s,tt(l,o,i),c.push({w:e,h:i+1,x:0,y:-s,transform:"scale(1,-1)"});break;case n.R.Both:l.width=a,l.height=s,function(t,e,i,n){Z(t,e,i),tt(t,e,n)}(l,o,e,i),c.push({w:e+1,h:i,x:-a,y:0,transform:"scale(-1,1)"}),c.push({w:e,h:i+1,x:0,y:-s,transform:"scale(1,-1)"}),c.push({w:e+1,h:i+1,x:-a,y:-s,transform:"scale(-1,-1)"})}return h}(t.tile,_,x),w=b.pattern,T=function(t,e,i,n,r){var o=0,a=0,s=t.algn||"tl";if(0===e||0===i||0===n||0===r)return{x:o,y:a};var h=e>n?n-e:n%e,c=i>r?r-i:r%i,l=function(t,e){var i=0;if(t>e)i=(e-t)/2;else{for(var n=1;n*t<e;)n+=2;i=(e-n*t)/2}return i}(e,n),u=function(t,e){var i=0;if(t>e)i=(e-t)/2;else{for(var n=1;n*t<e;)n+=2;i=(e-n*t)/2}return i}(i,r),f=function(t,e,i,n,r){var o=0,a=0;switch(t){case"tl":break;case"tr":o=e;break;case"bl":a=i;break;case"br":o=e,a=i;break;case"t":o=n;break;case"b":o=n,a=i;break;case"l":a=r;break;case"r":o=e,a=r;break;case"ctr":o=n,a=r}return{x:o,y:a}}(s,h,c,l,u);o=f.x,a=f.y,t.tx&&(o+=t.tx);t.ty&&(a+=t.ty);return{x:o,y:a}}(t.tile,_,x,f,d);return{width:_,height:x,left:Math.round(T.x+p+(w?w.translateX:0)),top:Math.round(T.y+g+(w?w.translateY:0)),rotate:y}}function Q(t,e,i){var n=0,r=0,o=0,a=0;if(!t.stretch)return{pl:n,pt:r,width:e,height:i};if(t.stretch.srcRect){var s=function(t,e,i){var n=t.l,r=void 0===n?0:n,o=t.r,a=void 0===o?0:o,s=t.b,h=void 0===s?0:s,c=t.t,l=void 0===c?0:c,u=Math.round(100*(1-r-a))/100==0,f=u?-e/2:e*r/(1-r-a),d=u?-e/2:e*a/(1-r-a),p=Math.round(100*(1-l-h))/100==0;return{l:f,r:d,t:p?-i/2:i*l/(1-l-h),b:p?-i/2:i*h/(1-l-h)}}(t.stretch.srcRect,e,i),h=s.l,c=s.r,l=s.b;n=h,o=c,r=s.t,a=l}else if(t.stretch.fillRect){var u=t.stretch.fillRect,f=u.l,d=void 0===f?0:f,p=u.r,g=void 0===p?0:p,y=u.b,v=void 0===y?0:y,m=u.t;n=e*d,o=e*g,r=i*(void 0===m?0:m),a=i*v}var _=e+n+o,x=i+r+a;if(t.stretch.fillRect){var b=t.stretch.fillRect,w=b.l,T=void 0===w?0:w,O=b.r,S=void 0===O?0:O,C=b.b,E=void 0===C?0:C,R=b.t;T+S<-1&&(_=0),E+(void 0===R?0:R)<-1&&(x=0)}return{pl:n=-n,pt:r=-r,width:_,height:x}}function K(t,e){var i=function(t,e){for(var i=[{x:t.left,y:t.top},{x:t.left+t.width,y:t.top},{x:t.left+t.width,y:t.top+t.height},{x:t.left,y:t.top+t.height}],n={x:(t.left+t.left+t.width)/2,y:(t.top+t.top+t.height)/2},r=[],o=0;o<i.length;o++)r.push($(i[o],e,n.x,n.y));return r}(t,e),n=Math.min(i[0].x,i[1].x,i[2].x,i[3].x),r=Math.min(i[0].y,i[1].y,i[2].y,i[3].y);return{left:n,top:r,width:Math.max(i[0].x,i[1].x,i[2].x,i[3].x)-n,height:Math.max(i[0].y,i[1].y,i[2].y,i[3].y)-r}}function $(t,e,i,n){return{x:(t.x-i)*Math.cos(G(e))-(t.y-n)*Math.sin(G(e))+i,y:(t.y-n)*Math.cos(G(e))+(t.x-i)*Math.sin(G(e))+n}}function Z(t,e,i){"tr"===e||"br"===e||"r"===e?t.translateX=i:"t"!==e&&"b"!==e&&"ctr"!==e||(t.translateX=i/2)}function tt(t,e,i){"bl"===e||"br"===e||"b"===e?t.translateY=i:"l"!==e&&"r"!==e&&"ctr"!==e||(t.translateY=i/2)}function et(t,e){var i,r=e.left,o=e.top,a=e.width,s=e.height,h=e.flipH,c=e.flipV,l=e.scaleX,u=void 0===l?1:l,f=e.scaleY,d=void 0===f?1:f,p=e.offsetFrame,g=e.rotate,y=void 0===g?0:g;if(function(t){var e=t.flipH,i=t.flipV,n=t.offsetFrame,r=t.rotate,o=void 0===r?0:r,a=t.scaleX&&1!==t.scaleX,s=t.scaleY&&1!==t.scaleY;return e||i||o||(null==n?void 0:n.offsetFlipH)||(null==n?void 0:n.offsetFlipV)||a||s}(e))if(y=null!==(i=null==p?void 0:p.offsetRotate)&&void 0!==i?i:y,t.transform.rotation=y*(Math.PI/180),t.transform.translateX=Math.floor(r)+Math.floor(a/2),t.transform.translateY=Math.floor(o)+Math.floor(s/2),t.transform.pivotX=Math.floor(a/2),t.transform.pivotY=Math.floor(s/2),t.transform.scaleX=h?-1:1,t.transform.scaleY=c?-1:1,it(t.transform,p),1!==u||1!==d){var v=new n.T;v.scaleX=u,v.scaleY=d,t.transform.matrix.append(v.matrix).invert()}else t.transform.matrix.invert()}function it(t,e){(null==e?void 0:e.offsetFlipH)&&(t.scaleX*=-1),(null==e?void 0:e.offsetFlipV)&&(t.scaleY*=-1)}function nt(t){var e=t.offsetFrame;return e?{left:e.offsetX,top:e.offsetY,width:e.offsetWidth,height:e.offsetHeight}:t.rotate?K(t,t.rotate):t}var rt=function(){return h((function t(e,i){r(this,t),this.cache=new Map,this.capacity=e,this.deleteCallback=i}),[{key:"get",value:function(t){if(this.cache.has(t)){var e=this.cache.get(t);return this.cache.delete(t),this.cache.set(t,e),e}return null}},{key:"put",value:function(t,e){this.cache.has(t)&&this.cache.delete(t),this.cache.size>=this.capacity&&this.delete(this.cache.keys().next().value),this.cache.set(t,e)}},{key:"delete",value:function(t){var e;this.cache.has(t)&&(this.cache.delete(t),null===(e=this.deleteCallback)||void 0===e||e.call(this,t))}}])}();function ot(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{h(n.next(t))}catch(t){o(t)}}function s(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}h((n=n.apply(t,e||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;var at,st,ht=function(){return h((function t(e){r(this,t),this.delayMap=new Map,this.maxDelayTime=2e3,this.slideTimerMap=new Map,this.getTexture=e}),[{key:"addDelayItem",value:function(t){var e=t.alloyParams,i=t.customParams,n=e.urlOrImage;if(null==i?void 0:i.slideKey){var r=this.getTexture(t);if(!(null==r?void 0:r.isComplete)&&(!r||(null==r?void 0:r.isComplete)||this.delayMap.has(n))){var o=this.delayMap.get(n);return o||((o={belongToSlides:new Set,downloadComplete:!1,delayPromise:void 0,delayResolve:void 0}).delayPromise=new Promise((function(t){o&&(o.delayResolve=t)})),this.delayMap.set(n,o)),o.belongToSlides.add(i.slideKey),o}}}},{key:"wrapWithDelay",value:function(t,e){var i=this;return new Promise((function(n,r){return ot(i,void 0,void 0,m.mark((function i(){var o,a,s,h;return m.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=this.addDelayItem(t),s=!1,i.prev=2,i.next=5,e;case 5:a=i.sent,s=!0,i.next=12;break;case 9:i.prev=9,i.t0=i.catch(2),a=i.t0;case 12:if(!o){i.next=18;break}return o.downloadComplete=!0,this.countSlideComplete(),this.countSlideTimer(),i.next=18,o.delayPromise;case 18:s?n(a):r(a),(h=this.getTexture(t))&&(h.isComplete=!0);case 21:case"end":return i.stop()}}),i,this,[[2,9]])})))}))}},{key:"countSlideComplete",value:function(){var t=this,e=new Map;this.delayMap.forEach((function(t){var i=t.belongToSlides,n=t.downloadComplete;i.forEach((function(t){var i=e.get(t);i||(i={loading:0,complete:0},e.set(t,i)),n?i.complete+=1:i.loading+=1}))})),e.forEach((function(e,i){if(!(e.loading>0)){t.delayMap.forEach((function(e,n){var r=e.belongToSlides,o=e.delayResolve;r.has(i)&&(o(),t.delayMap.delete(n))}));var n=t.slideTimerMap.get(i);n&&(clearTimeout(n),t.slideTimerMap.delete(i))}}))}},{key:"countSlideTimer",value:function(){var t=this;this.delayMap.forEach((function(e){var i=e.belongToSlides;e.downloadComplete&&i.forEach((function(e){t.slideTimerMap.has(e)||t.slideTimerMap.set(e,window.setTimeout((function(){t.delayMap.forEach((function(i,n){var r=i.belongToSlides,o=i.delayResolve;r.has(e)&&(o(),t.delayMap.delete(n))})),t.slideTimerMap.delete(e)}),t.maxDelayTime))}))}))}}])}(),ct=function(){return h((function t(e,i,n){r(this,t),this.retryTime=0,this.url=e,this.options=i,this.svgLoadedCallback=n}),[{key:"request",value:function(){var t=this;return new Promise((function(e,i){(/\.svg/i.test(t.url)?t.svgLoad(t.url,t.options):t.baseLoad(t.url,t.options)).then((function(t){return e(t)})).catch((function(){t.retryTime+=1,t.retryTime<=3?t.request().then((function(t){return e(t)})).catch((function(){return i()})):i()}))}))}},{key:"baseLoad",value:function(t,e){return new Promise((function(i,n){var r=new Image;void 0!==(null==e?void 0:e.crossOrigin)?r.crossOrigin=e.crossOrigin:r.crossOrigin="Anonymous",(null==t?void 0:t.startsWith("blob:"))?r.src=t.replace(/[#?].*$/,""):r.src=t,r.onload=function(){i(r)},r.onerror=function(){return n()}}))}},{key:"svgLoad",value:function(t,e){var i=this;return new Promise((function(n,r){var o=new XMLHttpRequest;o.open("GET",t,!0),o.onerror=r,o.onreadystatechange=function(){var a;if(4===o.readyState){200!==o.status&&r(new RangeError("The image response with code ".concat(o.status)));var s=document.createElement("div");s.innerHTML=E.a.sanitize(o.responseText,{USE_PROFILES:{svg:!0,svgFilters:!0},ADD_TAGS:["use","foreignobject"]});var h=s.querySelector(":scope > svg");if(!h)return r(new TypeError("The requested resource is not a valid SVG."));if(h.querySelector("foreignObject")){var c=unescape(encodeURIComponent(o.responseText)),l="data:image/svg+xml;base64,".concat(window.btoa(c));return n(i.baseLoad(l,e)),void(null===(a=i.svgLoadedCallback)||void 0===a||a.call(i,t,o.responseText))}if(h.hasAttribute("width")&&h.hasAttribute("height"))n(i.baseLoad(t,e));else{s.style.cssText="position: absolute; width: 0; height: 0",document.body.appendChild(s);var u=h.getBBox(),f=u.width,d=u.height;h.setAttribute("width",String(f)),h.setAttribute("height",String(d)),document.body.removeChild(s),h.setAttribute("preserveAspectRatio","none");var p=encodeURIComponent(h.outerHTML).replace(/'/g,"%27").replace(/"/g,"%22");n(i.baseLoad("data:image/svg+xml,".concat(p),e))}}},o.send()}))}}])}(),lt=new(function(){return h((function t(){var e=this;r(this,t),this.requestListInfo={requestMap:new Map,isLoading:!1},this.cacheCapacity=1e3,this.loadRetryMaxTime=2,this.failedImageMaxSize=500,this.defaultFailImage=new Image,this.keyDeleteCallBackMap=new Map,this.get=function(t){var i=t.alloyParams,n=t.cacheLoseCallback,r=t.customParams,o=e.generatePoolKey(i);if(!o)return e.loadImage(t);var a=e.cachePool.get(o);return a?e.delayToBatchRender.addDelayItem(t):(a=e.loadImage(t),e.cachePool.put(o,a)),e.dealLoadFail(a,r),e.setCacheLoseCallBack(o,n),a},this.getTexture=function(t){var i=t.alloyParams,n=e.generatePoolKey(i);return e.cachePool.get(n)},this.updateFailImage=function(t){e.defaultFailImage.src=t},this.setSVGLoadedCallback=function(t){e.svgLoadedCallback=t},this.generatePoolKey=function(t){return"string"!=typeof t.urlOrImage?null:t.urlOrImage},this.setCacheLoseCallBack=function(t,i){"function"==typeof i&&(e.keyDeleteCallBackMap.has(t)||e.keyDeleteCallBackMap.set(t,new Set),e.keyDeleteCallBackMap.get(t).add(i))},this.runCacheLoseCallBack=function(t){e.keyDeleteCallBackMap.has(t)&&(e.keyDeleteCallBackMap.get(t).forEach((function(e){"function"==typeof e&&e({urlOrImage:t})})),e.keyDeleteCallBackMap.delete(t))},this.cachePool=new rt(this.cacheCapacity,this.runCacheLoseCallBack),this.delayToBatchRender=new ht(this.getTexture.bind(this))}),[{key:"dealLoadFail",value:function(t,e){var i=this;t.onImageErrored((function(){t.hasLoadFailed=!0,t.onImageLoaded=function(){},i.showFailImg(e)})),t.hasLoadFailed&&this.showFailImg(e)}},{key:"showFailImg",value:function(t){var e=null!=t?t:{},i=e.svgGraphics,r=e.alpha,o=new n.x(this.defaultFailImage);if(i){var a=new n.w(o),s=i.width,h=i.height,c=Math.min(s,h),l=Math.min(this.failedImageMaxSize,c);a.transform.translateX=s/2-l/2,a.transform.translateY=h/2-l/2,a.transform.scaleX=l/s,a.transform.scaleY=l/h,a.alpha=null!=r?r:1,i.fill=a}return o}},{key:"loadImage",value:function(t){var e=t.alloyParams,i=e.options,r=e.urlOrImage;if("string"!=typeof r)return new n.x(r);var o=new ct(r,i,this.svgLoadedCallback).request();return o=this.delayToBatchRender.wrapWithDelay(t,o),this.listenRequestComplete(o,e),new n.x(o)}},{key:"listenRequestComplete",value:function(t,e){var i=this;this.requestListInfo.requestMap.set(e.urlOrImage,t),this.requestListInfo.isLoading=!0,t.catch((function(){})).then((function(){t.isComplete=!0,i.requestListInfo.isLoading=Array.from(i.requestListInfo.requestMap.values()).some((function(t){return!t.isComplete})),i.requestListInfo.isLoading||i.requestListInfo.requestMap.clear()}))}}])}()),ut=function(){function t(){r(this,t)}return h(t,null,[{key:"setPatternFillStyle",value:function(e,i,r){if(i){var o=e,a=t.getPatternSvgUrl(i,r),s=lt.get({alloyParams:{urlOrImage:a},cacheLoseCallback:this.getCacheLoseCallback(a)}),h=H.isChrome||H.isFirefox||H.isTencentDocDesktopApp||H.isWindowWxMiniProgram||H.isAndroid,c=new n.Q(s,n.S.Both,n.R.None,h);s.onImageLoaded((function(){var t,e,i=nt(r.frame);et(c,Object.assign(Object.assign({},r.frame),{left:-i.left,top:-i.top,scaleX:null!==(t=r.scaleX)&&void 0!==t?t:1,scaleY:null!==(e=r.scaleY)&&void 0!==e?e:1})),o.fill=c}))}}},{key:"getPatternSvgUrl",value:function(e,i){var n,r=F(e.bgColor,i.fillMode),o=F(e.fgColor,i.fillMode),a={preset:e.preset,bgColor:W(r),fgColor:W(o)},s=e.pageScale,h=void 0===s?1:s,c=t.generateUniqueKey(a,h);if(t.patternSvgUrlMap.has(c))n=t.patternSvgUrlMap.get(c);else{var l=P(a,h);n="data:image/svg+xml;base64,".concat(window.btoa(l)),t.patternSvgUrlMap.set(c,n)}return n}},{key:"getCacheLoseCallback",value:function(e){return function(){t.patternSvgUrlMap.delete(e)}}},{key:"generateUniqueKey",value:function(t,e){var i=t.preset,n=t.fgColor,r=t.bgColor;return"".concat(i,"_").concat(null==n?void 0:n.hex,"_").concat(null==r?void 0:r.hex,"_").concat(e)}}])}();function ft(t,e,i){var n=u(t,6),r=n[0],o=n[1],a=n[2],s=n[3],h=n[4],c=n[5],l=1/3*(r+a+h),f=1/3*(o+s+c);t[0]=e*(r-l)+l,t[1]=i*(o-f)+f,t[2]=e*(a-l)+l,t[3]=i*(s-f)+f,t[4]=e*(h-l)+l,t[5]=i*(c-f)+f}function dt(t,e,i){for(var n=[],r=t.length,o=1;o<r-1;o++){var a=o+1,s=[];s.push(t[0][0],t[0][1],t[o][0],t[o][1],t[a][0],t[a][1]),ft(s,e,i),n.push(s)}return n}function pt(t){var e,i,n=u(t,6),r=n[0],o=n[1],a=n[2],s=n[3],h=n[4],c=n[5];if(a===h)e=a,i=o;else if(s===c)e=r,i=s;else{var l=(c-s)/(h-a),f=s-l*a,d=-1/l;i=l*(e=(o-d*r-f)/(l-d))+f}return[{x:r,y:o},{x:e,y:i}]}ut.patternSvgUrlMap=new Map,function(t){t.Linear="linear",t.Radial="circle",t.Rect="rect",t.Shape="shape"}(at||(at={})),function(t){t.LINE="line",t.STRAIGHT_CONNECTOR="straightConnector1",t.BENT_CONNECTOR_0="bentConnector2",t.BENT_CONNECTOR_1="bentConnector3",t.BENT_CONNECTOR_2="bentConnector4",t.BENT_CONNECTOR_3="bentConnector5",t.CURVED_CONNECTOR_0="curvedConnector2",t.CURVED_CONNECTOR_1="curvedConnector3",t.CURVED_CONNECTOR_2="curvedConnector4",t.CURVED_CONNECTOR_3="curvedConnector5",t.CUSTOM="custom",t.RECT="rect",t.ROUND_RECT="roundRect",t.SNIP_SINGLE_RECT="snip1Rect",t.SNIP_SAME_SIDE_RECT="snip2SameRect",t.SNIP_DIAG_RECT="snip2DiagRect",t.SNIP_ROUND_RECT="snipRoundRect",t.ROUND_SINGLE_RECT="round1Rect",t.ROUND_SAME_SIDE_RECT="round2SameRect",t.ROUND_DIAG_RECT="round2DiagRect",t.ELLIPSE="ellipse",t.TRIANGLE="triangle",t.RIGHT_TRIANGLE="rtTriangle",t.PARALLELOGRAM="parallelogram",t.DIAMOND="diamond",t.TRAPEZOID="trapezoid",t.PENTAGON="pentagon",t.HEXAGON="hexagon",t.HEPTAGON="heptagon",t.OCTAGON="octagon",t.DECAGON="decagon",t.DODECAGON="dodecagon",t.PIE="pie",t.CHORD="chord",t.TEARDROP="teardrop",t.FRAME="frame",t.HALF_FRAME="halfFrame",t.CORNER="corner",t.DIAG_STRIPE="diagStripe",t.PLUS="plus",t.PLAQUE="plaque",t.CUBE="cube",t.CAN="can",t.BEVEL="bevel",t.DONUT="donut",t.NOT_ALLOWED="noSmoking",t.BLOCK_ARC="blockArc",t.FOLDED_CORNER="foldedCorner",t.SMILEY_FACE="smileyFace",t.HEART="heart",t.LIGHTNING_BOLT="lightningBolt",t.SUN="sun",t.MOON="moon",t.CLOUD="cloud",t.ARC="arc",t.LEFT_BRACKET="leftBracket",t.RIGHT_BRACKET="rightBracket",t.LEFT_BRACE="leftBrace",t.RIGHT_BRACE="rightBrace",t.BRACKET_PAIR="bracketPair",t.BRACE_PAIR="bracePair",t.RIGHT_ARROW="rightArrow",t.LEFT_ARROW="leftArrow",t.UP_ARROW="upArrow",t.DOWN_ARROW="downArrow",t.STRIPED_RIGHT_ARROW="stripedRightArrow",t.NOTCHED_RIGHT_ARROW="notchedRightArrow",t.BENT_UP_ARROW="bentUpArrow",t.LEFT_RIGHT_ARROW="leftRightArrow",t.UP_DOWN_ARROW="upDownArrow",t.LEFT_UP_ARROW="leftUpArrow",t.LEFT_RIGHT_UP_ARROW="leftRightUpArrow",t.QUAD_ARROW="quadArrow",t.BENT_ARROW="bentArrow",t.U_TURN_ARROW="uturnArrow",t.CURVED_RIGHT_ARROW="curvedRightArrow",t.CURVED_LEFT_ARROW="curvedLeftArrow",t.CURVED_UP_ARROW="curvedUpArrow",t.CURVED_DOWN_ARROW="curvedDownArrow",t.MATH_PLUS="mathPlus",t.MATH_MINUS="mathMinus",t.MATH_MULTIPLY="mathMultiply",t.MATH_DIVIDE="mathDivide",t.MATH_EQUAL="mathEqual",t.MATH_NOT_EQUAL="mathNotEqual",t.IRREGULAR_SEAL_1="irregularSeal1",t.IRREGULAR_SEAL_2="irregularSeal2",t.STAR_4="star4",t.STAR_5="star5",t.STAR_6="star6",t.STAR_7="star7",t.STAR_8="star8",t.STAR_10="star10",t.STAR_12="star12",t.STAR_16="star16",t.STAR_24="star24",t.STAR_32="star32",t.RIBBON="ribbon",t.RIBBON_2="ribbon2",t.ELLIPSE_RIBBON="ellipseRibbon",t.ELLIPSE_RIBBON_2="ellipseRibbon2",t.LEFT_RIGHT_RIBBON="leftRightRibbon",t.VERTICAL_SCROLL="verticalScroll",t.HORIZONTAL_SCROLL="horizontalScroll",t.WAVE="wave",t.DOUBLE_WAVE="doubleWave",t.CALLOUT_1="callout1",t.CALLOUT_2="callout2",t.CALLOUT_3="callout3",t.ACCENT_CALLOUT_1="accentCallout1",t.ACCENT_CALLOUT_2="accentCallout2",t.ACCENT_CALLOUT_3="accentCallout3",t.BORDER_CALLOUT_1="borderCallout1",t.BORDER_CALLOUT_2="borderCallout2",t.BORDER_CALLOUT_3="borderCallout3",t.ACCENT_BORDER_CALLOUT_1="accentBorderCallout1",t.ACCENT_BORDER_CALLOUT_2="accentBorderCallout2",t.ACCENT_BORDER_CALLOUT_3="accentBorderCallout3",t.WEDGE_RECT_CALLOUT="wedgeRectCallout",t.WEDGE_ROUND_RECT_CALLOUT="wedgeRoundRectCallout",t.WEDGE_ELLIPSE_CALLOUT="wedgeEllipseCallout",t.CLOUD_CALLOUT="cloudCallout",t.FLOW_CHART_PROCESS="flowChartProcess",t.FLOW_CHART_DECISION="flowChartDecision",t.FLOW_CHART_INPUT_OUTPUT="flowChartInputOutput",t.FLOW_CHART_PREDEFINED_PROCESS="flowChartPredefinedProcess",t.FLOW_CHART_INTERNAL_STORAGE="flowChartInternalStorage",t.FLOW_CHART_DOCUMENT="flowChartDocument",t.FLOW_CHART_MULTI_DOCUMENT="flowChartMultidocument",t.FLOW_CHART_TERMINATOR="flowChartTerminator",t.FLOW_CHART_PREPARATION="flowChartPreparation",t.FLOW_CHART_MANUAL_INPUT="flowChartManualInput",t.FLOW_CHART_MANUAL_OPERATION="flowChartManualOperation",t.FLOW_CHART_CONNECTOR="flowChartConnector",t.FLOW_CHART_PUNCHED_CARD="flowChartPunchedCard",t.FLOW_CHART_PUNCHED_TAPE="flowChartPunchedTape",t.FLOW_CHART_SUMMING_JUNCTION="flowChartSummingJunction",t.FLOW_CHART_OR="flowChartOr",t.FLOW_CHART_COLLATE="flowChartCollate",t.FLOW_CHART_SORT="flowChartSort",t.FLOW_CHART_EXTRACT="flowChartExtract",t.FLOW_CHART_MERGE="flowChartMerge",t.FLOW_CHART_OFFLINE_STORAGE="flowChartOfflineStorage",t.FLOW_CHART_ONLINE_STORAGE="flowChartOnlineStorage",t.FLOW_CHART_MAGNETIC_TAPE="flowChartMagneticTape",t.FLOW_CHART_MAGNETIC_DISK="flowChartMagneticDisk",t.FLOW_CHART_MAGNETIC_DRUM="flowChartMagneticDrum",t.FLOW_CHART_DISPLAY="flowChartDisplay",t.FLOW_CHART_DELAY="flowChartDelay",t.FLOW_CHART_ALTERNATE_PROCESS="flowChartAlternateProcess",t.FLOW_CHART_OFF_PAGE_CONNECTOR="flowChartOffpageConnector",t.ACTION_BUTTON_HOME="actionButtonHome",t.ACTION_BUTTON_HELP="actionButtonHelp",t.ACTION_BUTTON_INFORMATION="actionButtonInformation",t.ACTION_BUTTON_FORWARD_NEXT="actionButtonForwardNext",t.ACTION_BUTTON_BACK_PREVIOUS="actionButtonBackPrevious",t.ACTION_BUTTON_END="actionButtonEnd",t.ACTION_BUTTON_BEGINNING="actionButtonBeginning",t.ACTION_BUTTON_RETURN="actionButtonReturn",t.ACTION_BUTTON_DOCUMENT="actionButtonDocument",t.ACTION_BUTTON_SOUND="actionButtonSound",t.ACTION_BUTTON_MOVIE="actionButtonMovie",t.ACTION_BUTTON_BLANK="actionButtonBlank",t.HOME_PLATE="homePlate",t.GEAR_6="gear6",t.GEAR_9="gear9",t.FUNNEL="funnel",t.CORNER_TABS="cornerTabs",t.SQUARE_TABS="squareTabs",t.PLAQUE_TABS="plaqueTabs",t.CHART_X="chartX",t.CHART_STAR="chartStar",t.CHART_PLUS="chartPlus",t.CHEVRON="chevron",t.PIE_WEDGE="pieWedge",t.LEFT_ARROW_CALLOUT="leftArrowCallout",t.RIGHT_ARROW_CALLOUT="rightArrowCallout",t.UP_ARROW_CALLOUT="upArrowCallout",t.DOWN_ARROW_CALLOUT="downArrowCallout",t.LEFT_RIGHT_ARROW_CALLOUT="leftRightArrowCallout",t.UP_DOWN_ARROW_CALLOUT="upDownArrowCallout",t.QUAD_ARROW_CALLOUT="quadArrowCallout",t.LINE_INV="lineInv",t.NON_ISOSCELES_TRAPEZOID="nonIsoscelesTrapezoid",t.SWOOSH_ARROW="swooshArrow",t.CIRCULAR_ARROW="circularArrow",t.LEFT_CIRCULAR_ARROW="leftCircularArrow",t.LEFT_RIGHT_CIRCULAR_ARROW="leftRightCircularArrow"}(st||(st={}));var gt,yt=[st.ACTION_BUTTON_HOME,st.ACTION_BUTTON_HELP,st.ACTION_BUTTON_INFORMATION,st.ACTION_BUTTON_FORWARD_NEXT,st.ACTION_BUTTON_BACK_PREVIOUS,st.ACTION_BUTTON_END,st.ACTION_BUTTON_BEGINNING,st.ACTION_BUTTON_RETURN,st.ACTION_BUTTON_DOCUMENT,st.ACTION_BUTTON_SOUND,st.ACTION_BUTTON_MOVIE,st.CUBE,st.FRAME,st.BEVEL],vt=[st.DONUT,st.NOT_ALLOWED,st.BLOCK_ARC,st.SMILEY_FACE,st.LIGHTNING_BOLT,st.SUN,st.MOON,st.LEFT_BRACE,st.RIGHT_BRACE,st.BRACE_PAIR,st.RIGHT_ARROW,st.LEFT_ARROW,st.UP_ARROW,st.DOWN_ARROW,st.STRIPED_RIGHT_ARROW,st.NOTCHED_RIGHT_ARROW,st.BENT_UP_ARROW,st.LEFT_RIGHT_ARROW,st.UP_DOWN_ARROW,st.LEFT_UP_ARROW,st.LEFT_RIGHT_UP_ARROW,st.QUAD_ARROW,st.BENT_ARROW,st.U_TURN_ARROW,st.CURVED_RIGHT_ARROW,st.CURVED_LEFT_ARROW,st.CURVED_UP_ARROW,st.CURVED_DOWN_ARROW,st.MATH_DIVIDE,st.MATH_NOT_EQUAL,st.FLOW_CHART_DOCUMENT,st.FLOW_CHART_MULTI_DOCUMENT,st.FLOW_CHART_PUNCHED_TAPE,st.FLOW_CHART_MAGNETIC_DISK,st.FLOW_CHART_DISPLAY,st.RIBBON,st.RIBBON_2,st.ELLIPSE_RIBBON,st.ELLIPSE_RIBBON_2,st.LEFT_RIGHT_RIBBON,st.VERTICAL_SCROLL,st.HORIZONTAL_SCROLL,st.WAVE,st.DOUBLE_WAVE,st.WEDGE_RECT_CALLOUT,st.WEDGE_ROUND_RECT_CALLOUT,st.WEDGE_ELLIPSE_CALLOUT,st.CLOUD_CALLOUT,st.GEAR_6,st.GEAR_9,st.FUNNEL,st.CORNER_TABS,st.SQUARE_TABS,st.PLAQUE_TABS,st.CHART_X,st.CHART_STAR,st.CHART_PLUS,st.CHEVRON,st.PIE_WEDGE,st.LEFT_ARROW_CALLOUT,st.RIGHT_ARROW_CALLOUT,st.UP_ARROW_CALLOUT,st.DOWN_ARROW_CALLOUT,st.LEFT_RIGHT_ARROW_CALLOUT,st.UP_DOWN_ARROW_CALLOUT,st.QUAD_ARROW_CALLOUT,st.LINE_INV,st.NON_ISOSCELES_TRAPEZOID,st.SWOOSH_ARROW,st.CIRCULAR_ARROW,st.LEFT_CIRCULAR_ARROW,st.LEFT_RIGHT_CIRCULAR_ARROW,st.CUSTOM],mt=[st.FLOW_CHART_DELAY,st.ELLIPSE,st.PIE,st.FLOW_CHART_CONNECTOR,st.CHORD,st.FLOW_CHART_SUMMING_JUNCTION,st.FLOW_CHART_OR,st.FLOW_CHART_MAGNETIC_TAPE],_t=[st.ROUND_RECT,st.SNIP_ROUND_RECT,st.ROUND_SAME_SIDE_RECT,st.ROUND_SINGLE_RECT,st.ROUND_DIAG_RECT,st.FLOW_CHART_ALTERNATE_PROCESS,st.CAN,st.LEFT_BRACKET,st.RIGHT_BRACKET],xt=[st.TEARDROP,st.HEART,st.CLOUD,st.ARC,st.BRACKET_PAIR,st.FLOW_CHART_TERMINATOR,st.FLOW_CHART_ONLINE_STORAGE,st.FLOW_CHART_MAGNETIC_DRUM];function bt(){return void 0!==gt?gt:gt=!!document.createElement("canvas").getContext("webgl")}function wt(t,e){for(var i=1;e[i][0]<t;)i+=1;var n=e[i-1][0],r=e[i][0];if(e[i][1]===e[i-1][1]&&e[i][2]===e[i-1][2]&&e[i][3]===e[i-1][3]&&e[i][4]===e[i-1][4])return e[i].slice(1);for(var o=(t-n)/(r-n),a=[],s=1;s<5;s++){var h=e[i-1][s],c=e[i][s],l=Math.round(h+o*(c-h));a.push(l)}return a}function Tt(t,e){var i=t.gl,n=e.positions,r=e.colorStops,o=e.mode,a=e.width,s=void 0===a?t.width:a,h=e.height,c=void 0===h?t.height:h;i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT);var l=t.getShader("gradientVertex",i.VERTEX_SHADER,"\n  attribute vec2 a_position;\n  attribute vec2 a_texCoord;\n  attribute vec2 a_canvasSize;\n  varying vec2 v_texCoord;\n  void main() {\n    // 将 canvas 的坐标值 转换为 [-1.0, 1.0]的范围。\n    vec2 position = (a_position / a_canvasSize) * 2.0 - 1.0;\n    // canvas的 Y 轴坐标方向和设备坐标系的相反。\n    position = position * vec2(1.0, -1.0);\n    // 最终的顶点坐标。\n    gl_Position = vec4(position, 0.0, 1.0);\n    v_texCoord = a_texCoord;\n  }\n"),u=t.getShader("gradientFragment",i.FRAGMENT_SHADER,"\n  precision mediump float;\n  uniform sampler2D u_texture;\n  varying vec2 v_texCoord;\n  void main() {\n    gl_FragColor = texture2D(u_texture, v_texCoord);\n  }\n"),f=t.useProgram("gradient",l,u),d=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,d),i.bufferData(i.ARRAY_BUFFER,new Float32Array(n),i.STATIC_DRAW);var p=i.getAttribLocation(f,"a_position");i.enableVertexAttribArray(p),i.vertexAttribPointer(p,2,i.FLOAT,!1,16,0);var g=i.getAttribLocation(f,"a_texCoord");i.enableVertexAttribArray(g),i.vertexAttribPointer(g,2,i.FLOAT,!1,16,8);var y=i.getAttribLocation(f,"a_canvasSize");i.vertexAttrib2f(y,s,c),function(t,e){var i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);var n=new Uint8Array(function(t){var e=[],i=[];t.forEach((function(t){var e=t.offset,n=t.color,r=100*Number(e);i.push([r,n.red,n.green,n.blue,n.alpha])}));var n=i[0];0!==n[0]&&i.unshift([0,n[1],n[2],n[3],n[4]]);var r=i[i.length-1];100!==r[0]&&i.push([100,r[1],r[2],r[3],r[4]]);for(var o=0;o<=100;o++){var a=wt(o,i);e.push.apply(e,_(a))}return e}(e));t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.length/4,1,0,t.RGBA,t.UNSIGNED_BYTE,n)}(i,r),i.drawArrays(o,0,n.length/4)}var Ot=function(){function t(){r(this,t),this.cacheCapacity=500,this.cachePool=new rt(this.cacheCapacity)}return h(t,[{key:"generateSource",value:function(t,e){var i=this.generateKey(e),n=this.cachePool.get(i);if(n)return n;Tt(t,{width:e.width,height:e.height,mode:e.mode,positions:e.positions,colorStops:e.colorStops});var r=t.native.toDataURL(),o=lt.get({alloyParams:{urlOrImage:r}});return this.cachePool.put(i,o),o}},{key:"renderBuffer",value:function(t,e){Tt(t,{width:e.width,height:e.height,mode:e.mode,positions:e.positions,colorStops:e.colorStops})}},{key:"generateKey",value:function(t){var e=t||{},i=e.originX,n=e.originY,r=e.gsList,o=e.tileRect;return"".concat(i,"_").concat(n,"_").concat(JSON.stringify(r),"_").concat(JSON.stringify(o))}}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}])}();function St(t,e,i){return e=b(e),x(t,Ct()?Reflect.construct(e,i||[],b(t).constructor):e.apply(t,i))}function Ct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ct=function(){return!!t})()}var Et=function(t){function e(t){var i;return r(this,e),(i=St(this,e)).initialWidth=t.width,i.initialHeight=t.height,i.originX=t.originX,i.originY=t.originY,i.gsList=t.gsList,i.centerFrame=t.centerFrame,i}return O(e,t),h(e,[{key:"getGradient",value:function(){return null}},{key:"renderWithClip",value:function(t,e){this.updateSize(e),bt()?this.renderWidthWebgl(t,e):this.renderWithCanvas2D(t,e)}},{key:"updateInitialSize",value:function(t,e){this.initialWidth=t,this.initialHeight=e}},{key:"updateSize",value:function(t){this.updateParentScale(t),this.updatedCenterPoints(),this.width=this.initialWidth*this.parentScale,this.height=this.initialHeight*this.parentScale}},{key:"updatedCenterPoints",value:function(){var t=[this.originX*this.initialWidth*this.parentScale,this.originY*this.initialHeight*this.parentScale,0,0];this.center=[t]}},{key:"updateParentScale",value:function(t){if(this.parentScale=1,bt()&&t)for(var e=t.parent;e;)this.parentScale*=Math.abs(e.scaleX),e=e.parent}},{key:"renderWidthWebgl",value:function(t,e){var i=R.b.getInstance(),n=i.width,r=i.height,o=this.width*t.resolution,a=this.height*t.resolution,s=!(n>=o&&r>=a),h=s?this.width:void 0,c=s?this.height:void 0,l=t.getGlBuffer(h,c,t.resolution);l&&(t.save(),t.clip(),this.applyTransformTo(t,e.initialBounds),l.gl.viewport(0,0,o,a),Ot.getInstance().renderBuffer(l,{width:this.width,height:this.height,mode:this.centerFrame?l.gl.TRIANGLES:l.gl.TRIANGLE_FAN,positions:this.getWebglPositions(e.segments),colorStops:this.colorStops}),t.drawCanvas(l,0,0,this.initialWidth,this.initialHeight,0,Math.floor(l.height-a),Math.floor(o),Math.floor(a)),t.restore())}},{key:"renderWithCanvas2D",value:function(t,e){var i;t.save(),t.clip(),this.applyTransformTo(t,e.initialBounds),this.renderGradient(t,e.segments),t.restore(),null===(i=e.applyFullPath)||void 0===i||i.call(e,t)}}])}(n.m);function Rt(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return kt(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?kt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function At(t,e,i){return e=b(e),x(t,Lt()?Reflect.construct(e,i||[],b(t).constructor):e.apply(t,i))}function Lt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lt=function(){return!!t})()}function Pt(t,e,i,n){var r=w(b(1&n?t.prototype:t),e,i);return 2&n&&"function"==typeof r?function(t){return r.apply(i,t)}:r}var It="undefined"!=typeof DOMMatrix?new DOMMatrix:void 0,Mt=function(t){function e(t,i){var o,a,s,h,c;r(this,e),(o=At(this,e,[t])).sourceTransform=new n.T;var l=i||{},u=l.tileRect,f=l.useSelfTransform,d=void 0!==f&&f,p=l.useResource,g=void 0!==p&&p;return o.tileRect={b:(null!==(a=null==u?void 0:u.b)&&void 0!==a?a:0)/100,l:(null!==(s=null==u?void 0:u.l)&&void 0!==s?s:0)/100,r:(null!==(h=null==u?void 0:u.r)&&void 0!==h?h:0)/100,t:(null!==(c=null==u?void 0:u.t)&&void 0!==c?c:0)/100},o.useSelfTransform=d,o.useResource=g,o.transform._addUpdateListener(o._updated),o.sourceTransform._addUpdateListener(o._updated),o}return O(e,t),h(e,[{key:"updatedCenterPoints",value:function(){if(!this.centerFrame)return Pt(e,"updatedCenterPoints",this,3)([]);var t=this.centerFrame,i=t.left,n=t.top,r=t.width,o=t.height,a=[i*this.parentScale,n*this.parentScale,0,0],s=[i*this.parentScale,(n+o)*this.parentScale,0,0],h=[(i+r)*this.parentScale,(n+o)*this.parentScale,0,0],c=[(i+r)*this.parentScale,n*this.parentScale,0,0];this.center=[a,s,h,c]}},{key:"getTransform",value:function(t,i){return this.useSelfTransform?this.calculateBaseTransform(t,i):Pt(e,"getTransform",this,3)([t,i])}},{key:"getNative",value:function(t,e){var i=this.createPattern(t);if(Boolean(It&&(null==i?void 0:i.setTransform))){var n=this.calculateBaseTransform(t,e),r=n.a,o=n.b,a=n.c,s=n.d,h=n.tx,c=n.ty;It.a=r,It.b=o,It.c=a,It.d=s,It.e=h,It.f=c,i.setTransform(It)}return i}},{key:"createPattern",value:function(t){if(this.updateSize(),bt())return this.createPatternWithWebgl(t);var e=t.createBuffer(this.width,this.height);return this.renderGradient(e),t.createPattern(e,"no-repeat")}},{key:"getWebglPositions",value:function(){var t=[];return(this.centerFrame?this.getVerticesWithTitle():this.getShapeVertices()).forEach((function(e){t.push.apply(t,_(e))})),t}},{key:"renderGradient",value:function(t){this.centerFrame?this.renderTetragonGradient(t):this.renderTriangleGradient(t)}},{key:"createPatternWithWebgl",value:function(t){var e=t.getGlBuffer(this.width,this.height);if(!e)return null;var i={width:this.width,height:this.height,mode:e.gl.TRIANGLE_FAN,positions:this.getWebglPositions(),colorStops:this.colorStops,callback:this._updated,originX:this.originX,originY:this.originY,tileRect:this.tileRect,gsList:this.gsList};if(this.useResource){var n=Ot.getInstance().generateSource(e,i);return n&&!n.loading?(this.resourceWidth=n.width,this.resourceHeight=n.height,t.createPattern(n,"no-repeat")):(n.onImageLoaded(this._updated),null)}return Ot.getInstance().renderBuffer(e,i),t.createPattern(e,"no-repeat")}},{key:"calculateBaseTransform",value:function(t,e){var i,r,o=e.width/(null!==(i=this.resourceWidth)&&void 0!==i?i:this.width*t.resolution),a=e.height/(null!==(r=this.resourceHeight)&&void 0!==r?r:this.height*t.resolution);return(new n.C).set(o,0,0,a,e.x,e.y).append(this.sourceTransform.matrix).prepend(this.transform.matrix)}},{key:"getShapeVertices",value:function(){var t=[],e=this.tileRect,i=e.b,n=e.r,r=e.t,o=e.l,a=i*this.height,s=n*this.width,h=o*this.width,c=r*this.height;return t.push(this.center[0],[h,c,1,0],[this.width-s,c,1,0],[this.width-s,this.height-a,1,0],[h,this.height-a,1,0],[h,c,1,0]),t}},{key:"renderTriangleGradient",value:function(t){var e=this;dt(this.getShapeVertices(),1+2/this.width,1+2/this.height).forEach((function(i){var n=pt(i);e.renderLinearGradient(t,i,n)}))}},{key:"renderTetragonGradient",value:function(t){var e=this;t.nativeFillStyle=this.colorStops[0].color.rgba;var i=[];this.center.forEach((function(t){i.push(t[0],t[1])})),this.applyPath(t,i),t.fill();var n=this.getTetragonVertices(),r=[];n.forEach((function(t){r.push([t[0][0],t[0][1],t[1][0],t[1][1],t[2][0],t[2][1],t[3][0],t[3][1]])})),r.forEach((function(i){var n=pt(i.slice(2));e.renderLinearGradient(t,i,n)}))}},{key:"renderLinearGradient",value:function(t,e,i){var n,r=u(i,2),o=r[0],a=r[1],s=t.createLinearGradient(o.x,o.y,a.x,a.y),h=Rt(this.colorStops);try{for(h.s();!(n=h.n()).done;){var c=n.value,l=c.offset,f=c.color;s.addColorStop(l,f.rgba)}}catch(t){h.e(t)}finally{h.f()}t.nativeFillStyle=s,this.applyPath(t,e)}},{key:"applyPath",value:function(t,e){t.beginPath();for(var i=0;i<e.length;i+=2)0===i?t.moveTo(e[i],e[i+1]):t.lineTo(e[i],e[i+1]);t.closePath(),t.fill()}},{key:"getVerticesWithTitle",value:function(){var t=[];return this.getTetragonVertices().forEach((function(e){t.push(e[0],e[1],e[2]),t.push(e[0],e[2],e[3])})),t.push(this.center[0],this.center[1],this.center[2]),t.push(this.center[0],this.center[2],this.center[3]),t}},{key:"getTetragonVertices",value:function(){var t=[[0,0,1,0],[0,this.height,1,0],[this.width,this.height,1,0],[this.width,0,1,0]];return[[this.center[0],this.center[3],t[3],t[0]],[this.center[1],this.center[0],t[0],t[1]],[this.center[2],this.center[1],t[1],t[2]],[this.center[3],this.center[2],t[2],t[3]]]}}])}(Et);function Bt(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return Dt(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Dt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function Ft(t,e,i){return e=b(e),x(t,Nt()?Reflect.construct(e,i||[],b(t).constructor):e.apply(t,i))}function Nt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Nt=function(){return!!t})()}!function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);o>3&&a&&Object.defineProperty(e,i,a)}([n.V,function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],Mt.prototype,"tileRect",void 0);var jt,Xt="L",Yt="C",Wt="Q",Ut="Z",Ht=new n.C;!function(t){t[t.Linear=0]="Linear",t[t.Radial=1]="Radial"}(jt||(jt={}));var Vt=function(t){function e(t,i){var n;return r(this,e),(n=Ft(this,e,[t])).isEllipseType=i,n}return O(e,t),h(e,[{key:"getWebglPositions",value:function(t){var e=[];return this.getShapeVertices(t).forEach((function(t){e.push.apply(e,_(t))})),e}},{key:"renderGradient",value:function(t,e){var i=this;dt(this.getShapeVertices(e),1+2/this.width,1+2/this.height).forEach((function(n,r){i.renderTriangleGradient(t,n,e[r+1])}))}},{key:"getShapeVertices",value:function(t){var e=this,i=[];return i.push(this.center[0]),t.forEach((function(t){bt()&&e.isCurve(t)?e.getPointsOnPath(t).forEach((function(t){i.push([].concat(_(t),[1,0]))})):i.push([t.x*e.parentScale,t.y*e.parentScale,1,0])})),i}},{key:"renderTriangleGradient",value:function(t,e,i){var n=this.isEllipseType&&this.isCurve(i)?jt.Radial:jt.Linear;t.nativeFillStyle=this.getFillGradient(t,{vertices:e,type:n}),this.renderTrianglePath(t,e,i),this.fill(t,n)}},{key:"getPointsOnPath",value:function(t){var e;return e=t.cmd===Yt?"M ".concat(t.startX*this.parentScale," ").concat(t.startY*this.parentScale," ").concat(t.cmd," ").concat(t.x1*this.parentScale," ").concat(t.y1*this.parentScale,", ").concat(t.x2*this.parentScale," ").concat(t.y2*this.parentScale,", ").concat(t.x*this.parentScale," ").concat(t.y*this.parentScale):"M ".concat(t.startX*this.parentScale," ").concat(t.startY*this.parentScale," ").concat(t.cmd," ").concat(t.x1*this.parentScale," ").concat(t.y1*this.parentScale,", ").concat(t.x*this.parentScale," ").concat(t.y*this.parentScale),Object(k.a)(e,.1,.1)[0].slice(1)}},{key:"isCurve",value:function(t){return(null==t?void 0:t.cmd)===Yt||(null==t?void 0:t.cmd)===Wt}},{key:"renderTrianglePath",value:function(t,e,i){var n=u(e,6),r=n[0],o=n[1],a=n[2],s=n[3],h=n[4],c=n[5];if(t.beginPath(),t.moveTo(r,o),t.lineTo(a,s),this.isEllipseType)switch(null==i?void 0:i.cmd){case Xt:case Ut:t.lineTo(h,c);break;case Yt:t.bezierCurveTo(i.x1,i.y1,i.x2,i.y2,h,c);break;case Wt:t.quadraticCurveTo(i.x1,i.y1,h,c)}else t.lineTo(h,c);t.closePath()}},{key:"fill",value:function(t,e){if(e===jt.Radial){t.save();var i=new n.T,r=this.width>this.height?1:this.width/this.height,o=this.width>this.height?this.height/this.width:1;i.scaleX=r,i.scaleY=o,i.pivotX=Math.floor(this.width/2),i.pivotY=Math.floor(this.height/2),i.translateX=Math.floor(this.width/2),i.translateY=Math.floor(this.height/2),t.transform=Ht.copyFrom(t.transform).append(i.matrix),t.fill(),t.restore()}else t.fill()}},{key:"getFillGradient",value:function(t,e){var i,n=e.vertices,r=e.type,o=u(n,2),a=o[0],s=o[1],h=u(pt(n),2),c=h[0],l=h[1];if(r===jt.Radial){var f=Math.max(this.width,this.height)/2;i=t.createRadialGradient(a,s,0,a,s,f)}else i=t.createLinearGradient(c.x,c.y,l.x,l.y);var d,p=Bt(this.colorStops);try{for(p.s();!(d=p.n()).done;){var g=d.value,y=g.offset,v=g.color;i.addColorStop(y,v.rgba)}}catch(t){p.e(t)}finally{p.f()}return i}}])}(Et);function Gt(t,e){return t.gsList.map((function(t){var i="#ffffff00";return(null==t?void 0:t.color)&&(i=t.color),{pos:t.pos/100,color:W(F(i,e))}}))}function zt(t,e,i){var n,r,o,a=i.width,s=i.height;if(e)r=(n=Jt(null==t?void 0:t.fillToRect).val).cx*a,o=n.cy*s;else{var h=Jt(null==t?void 0:t.fillToRect),c=h.angle;if(c){var l=function(t){var e=.5,i=.5,n=.7071,r=t*Math.PI/180,o=Math.cos(r)*n+e,a=Math.sin(r)*n+i;return{cx:o.toFixed(2),cy:a.toFixed(2)}}(c);n={cx:l.cx,cy:l.cy,r:2}}else n=h.val;var u=nt(Object.assign(Object.assign({},i),{left:0,top:0}));a=u.width,s=u.height,r=u.left+n.cx*a,o=u.top+n.cy*s}var f=Math.sqrt(Math.pow(a,2)+Math.pow(s,2))/2;return{x:r,y:o,radius:n.r*f}}function qt(t){var e=t.textConfig,i=t.frame,n=t.scaleX,r=void 0===n?1:n,o=t.scaleY,a=void 0===o?1:o,s=function(t){var e=t.offsetFrame;return Object.assign(Object.assign({},t),{offsetFrame:e&&Object.assign({},e)})}(t.frame);return s.width=i.width/r,s.height=i.height/a,(null==e?void 0:e.needRotate)&&(s.width=i.height,s.height=i.width),s}function Jt(t){if(t)for(var e=0;e<Qt.length;e++){var i=Qt[e];if(i.rect.b===t.b&&i.rect.l===t.l&&i.rect.r===t.r&&i.rect.t===t.t)return i}return Qt[0]}var Qt=[{id:"center",rect:{b:50,l:50,r:50,t:50},val:{cx:.5,cy:.5,r:1}},{id:"leftTop",rect:{b:100,l:0,r:100,t:0},val:{cx:0,cy:0,r:2},angle:225,position:"0% 0%"},{id:"rightTop",rect:{b:100,l:100,r:0,t:0},val:{cx:1,cy:0,r:2},angle:315,position:"100% 0%"},{id:"leftBottom",rect:{b:0,l:0,r:100,t:100},val:{cx:0,cy:1,r:2},angle:135,position:"0% 100%"},{id:"rightBottom",rect:{b:0,l:100,r:0,t:100},val:{cx:1,cy:1,r:2},angle:45,position:"100% 100%"},{id:"bottomTop",rect:{b:-30,l:50,r:50,t:130},val:{cx:.5,cy:1.3,r:1.5},angle:90},{id:"topBottom",rect:{b:180,l:50,r:50,t:-80},val:{cx:.5,cy:-.3,r:1.5},angle:270}];var Kt=function(){function t(){r(this,t)}return h(t,null,[{key:"setGradFillStyle",value:function(t,e,i){e&&(t.fill=this.getGradFill(e,i))}},{key:"getGradFill",value:function(e,i){var n,r=e.pathGradient;n=(null==r?void 0:r.path)===at.Linear?t.getLinearGradient(e,i):(null==r?void 0:r.path)===at.Rect?t.getRectGradient(e,i):(null==r?void 0:r.path)===at.Shape?t.getShapeGradient(e,i):t.getRadialGradient(e,i);var o=Gt(e,i.fillMode);return t.addColorStop(n,o),e.rotateWithShape||(null==r?void 0:r.path)===at.Rect||(null==r?void 0:r.path)===at.Shape||et(n,i.frame),n}},{key:"addColorStop",value:function(t,e){t&&e.map((function(t){return[t.color,t.pos]})).sort((function(t,e){return t[1]-e[1]})).forEach((function(e){var i=u(e,2),n=i[0],r=i[1];t.addColorStop(r,n)}))}},{key:"getLinearGradient",value:function(t,e){var i,r,o=t.lin,a=t.rotateWithShape,s=qt(e),h=null!==(i=null==o?void 0:o.ang)&&void 0!==i?i:0,c=function(t,e,i){var n,r;t=(t>=0?t:-360*Math.floor(t/360)+t)%360;var o=Math.cos(t*Math.PI/180),a=Math.sin(t*Math.PI/180),s=Object.assign(Object.assign({},e),{left:0,top:0});i||(s=nt(s));var h,c,l,u,f=s,d=f.width,p=f.height,g=null!==(n=s.left)&&void 0!==n?n:0,y=null!==(r=s.top)&&void 0!==r?r:0,v=g+d,m=y+p;t<=90?(h=g,c=y,l=v,u=m):t<=180?(h=v,c=y,l=g,u=m):t<=270?(h=v,c=m,l=g,u=y):(h=g,c=m,l=v,u=y);var _=o*o,x=o*a,b=a*a;return{x1:_*h-x*(d-c)+b*p,y1:_*d+x*(h-p)+b*c,x2:_*l-x*(d-u)+b*p,y2:_*d+x*(l-p)+b*u}}(h=(null===(r=e.textConfig)||void 0===r?void 0:r.needRotate)?h+90:h,s,a),l=this.getPointOffset(e),u=l.offsetX,f=l.offsetY;return new n.K(c.x1+u,c.y1+f,c.x2+u,c.y2+f)}},{key:"getRadialGradient",value:function(t,e){var i=zt(t.pathGradient,t.rotateWithShape,qt(e)),r=i.x,o=i.y,a=i.radius,s=this.getPointOffset(e),h=s.offsetX,c=s.offsetY;return new n.L(r+h,o+c,0,r+h,o+c,a)}},{key:"getRectGradient",value:function(e,i){return i.textConfig?t.getTextRectGradient(e,i):t.getGraphicsRectGradient(e,i)}},{key:"getTextRectGradient",value:function(t,e){var i=e.textConfig,n=i.offsetX,r=i.offsetY,o=i.textWidth,a=i.textHeight,s=i.needRotate,h=i.rectYOffset,c=i.strokeWidth,l=void 0===c?0:c,u=e.frame,f=u.width,d=u.height,p=(f+l)/o,g=(d+l)/a,y=t.pathGradient,v=t.tileRect,m=(null==y?void 0:y.fillToRect)||{},_=m.l,x=void 0===_?50:_,b=m.t,w=new Mt({width:o,height:a,originX:x/100,originY:(void 0===b?50:b)/100,gsList:t.gsList},{tileRect:v,useSelfTransform:!0,useResource:H.isChrome||H.isChromiumEdge||H.isTencentDocDesktopApp||H.isWindowWxMiniProgram||H.isAndroid||H.isQQBrowser}),T=w.transform,O=w.sourceTransform;return s?(T.translateX=l/2-r,T.translateY=n+h-l/2,T.rotation=Math.PI/2,O.scaleX=p,O.scaleY=g):(T.translateX=n-l/2,T.translateY=-l/2,O.scaleX=p,O.scaleY=1+l/d),w}},{key:"getGraphicsRectGradient",value:function(e,i){var n=e.pathGradient,r=e.rotateWithShape,o=e.tileRect,a=e.centerFrame,s=(null==n?void 0:n.fillToRect)||{},h=s.l,c=void 0===h?50:h,l=s.t,u=void 0===l?50:l,f=i.scaleX,d=void 0===f?1:f,p=i.scaleY,g=void 0===p?1:p,y=Gt(e,i.fillMode),v=new Mt({width:i.frame.width,height:i.frame.height,originX:c/100,originY:u/100,centerFrame:a,gsList:y},{tileRect:o,useSelfTransform:!1});if(i.isStroke)return v;if(!r&&t.shouldUpdateTransform(i.frame)){var m=nt(i.frame),_=m.left,x=m.top,b=m.width,w=m.height;q(v,Object.assign(Object.assign({},i.frame),{scaleX:b/i.frame.width,scaleY:w/i.frame.height,translateX:_,translateY:x,pathScaleX:d,pathScaleY:g}))}else{var T=nt(Object.assign(Object.assign({},i.frame),{rotate:0}));z(v,{scaleX:T.width/i.frame.width/d,scaleY:T.height/i.frame.height/g,realWidth:T.width,realHeight:T.height})}return v}},{key:"shouldUpdateTransform",value:function(t){var e=t.flipH,i=t.flipV,n=t.offsetFrame,r=t.rotate;return e||i||(void 0===r?0:r)||n}},{key:"getShapeGradient",value:function(e,i){var n;if(i.textConfig)return t.getTextRectGradient(e,i);if(i.isStroke)return t.getRadialGradient(e,i);var r=i.type;if(function(t){return bt()?yt.filter((function(e){return e===t})).length>0:[].concat(yt,_t).filter((function(e){return e===t})).length>0}(r)||e.centerFrame)return t.getRectGradient(Object.assign(Object.assign({},e),{rotateWithShape:!0}),i);if(function(t){return bt()?vt.filter((function(e){return e===t})).length>0:[].concat(vt,xt).filter((function(e){return e===t})).length>0}(r))return t.getRadialGradient(Object.assign(Object.assign({},e),{rotateWithShape:!0}),i);var o=(null===(n=e.pathGradient)||void 0===n?void 0:n.fillToRect)||{},a=o.l,s=void 0===a?50:a,h=o.t,c=void 0===h?50:h;return new Vt({width:i.frame.width,height:i.frame.height,originX:s/100,originY:c/100},function(t){return mt.filter((function(e){return e===t})).length>0}(r))}},{key:"getPointOffset",value:function(t){var e=t.textConfig||{},i=e.offsetX,n=void 0===i?0:i,r=e.offsetY,o=void 0===r?0:r,a=e.rectYOffset,s=void 0===a?0:a,h=e.rectXOffset,c=void 0===h?0:h,l=e.needRotate;return{offsetX:l?o:n+c,offsetY:l?n:o+s}}}])}(),$t=1200,Zt=function(){function t(){r(this,t),this.cacheCapacity=200,this.cachePool=new rt(this.cacheCapacity),this.buffer=new R.a,this.buffer.width=$t,this.buffer.height=$t,this.buffer.resolution=1}return h(t,[{key:"generateResource",value:function(t,e){var i,n,r=this.cachePool.get(t);if(r)return r;var o=e.width,a=e.height;o>a?(i=$t,n=Math.round(a*$t/o)):(n=$t,i=Math.round(o*$t/a)),this.buffer.width=i,this.buffer.height=n,this.buffer.drawImage(e,0,0,i,n);var s=this.buffer.native.toDataURL("image/jpeg"),h=lt.get({alloyParams:{urlOrImage:s}});return this.cachePool.put(t,h),h}}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}])}(),te=function(){function t(){r(this,t)}return h(t,null,[{key:"setImageFillStyle",value:function(e,i,n){var r=i.src,o=i.alpha,a=lt.get({alloyParams:{urlOrImage:r},customParams:{svgGraphics:e,alpha:o}}),s=e;a.onImageLoaded((function(){if(n.compressedQuality){var e=a.width,o=a.height;if(e>$t||o>$t){var h=Zt.getInstance().generateResource(r,a);h.onImageLoaded((function(){t.setImageFill(s,i,n,h)}))}else t.setImageFill(s,i,n,a)}else t.setImageFill(s,i,n,a)}))}},{key:"setImageFill",value:function(e,i,n,r){var o,a=i.alpha;return(o=n.textConfig?t.getTextImageFill(r,n):t.getShapeImageFill(i,r,n,e)).alpha=null!=a?a:1,e.fill=o,o}},{key:"getShapeImageFill",value:function(e,i,r,o){var a,s,h,c=t.getBgOptions(r,i),l=function(t,e){var i,n=e.width,r=e.height,o=e.offsetFrame,a=e.rotate,s=void 0===a?0:a,h=Q(t,n,r),c=h.pl,l=h.pt,u=h.width,f=h.height,d=Math.round(u),p=Math.round(f),g=Math.round(c),y=Math.round(l),v=0;if(!t.rotateWithShape)if(v=360+(v=null!==(i=null==o?void 0:o.offsetRotate)&&void 0!==i?i:-s%360),o){var m=Q(t,o.offsetWidth,o.offsetHeight),_=m.pl,x=m.pt,b=m.width,w=m.height;d=Math.round(b),p=Math.round(w),g=Math.round(_)+o.offsetX,y=Math.round(x)+o.offsetY}else{var T=K({top:0,left:0,width:n,height:r},360-v),O=Q(t,T.width,T.height),S=O.pl,C=O.pt,E=O.width,R=O.height;d=Math.round(E),p=Math.round(R),g=T.left+Math.round(S),y=T.top+Math.round(C)}return{width:d,height:p,left:g,top:y,rotate:v}}(e,c),u=l.left,f=l.top,d=l.width,p=l.height,g=l.rotate,y=void 0===g?0:g,v=d/o.width,m=p/o.height;if(0===y){h=new n.w(i);var _=null!==(a=r.scaleX)&&void 0!==a?a:1,x=null!==(s=r.scaleY)&&void 0!==s?s:1,b=c.width/2/_,w=c.height/2/x,T=u/_-o.initialBounds.x,O=f/x-o.initialBounds.y;h.transform.translateX=b+T,h.transform.translateY=w+O,h.imageTransform.scaleX=v*(!e.rotateWithShape&&r.frame.flipH?-1:1),h.imageTransform.scaleY=m*(!e.rotateWithShape&&r.frame.flipV?-1:1),h.transform.pivotX=b,h.transform.pivotY=w,h.transform.rotation=0}else{var S=r.scaleX,C=void 0===S?1:S,E=r.scaleY,R=void 0===E?1:E,k=Object.assign(Object.assign({},r.frame),{scaleX:d/i.width,scaleY:p/i.height,translateX:u,translateY:f,pathScaleX:C,pathScaleY:R});q(h=new n.J(i),k)}return h}},{key:"getTextImageFill",value:function(t,e){var i=e.textConfig,r=i.offsetX,o=i.offsetY,a=i.textWidth,s=i.textHeight,h=i.needRotate,c=i.rectYOffset,l=new n.w(t),u=e.frame,f=u.width/a,d=u.height/s;return h?(l.transform.translateX=-o,l.transform.translateY=r+c,l.imageTransform.scaleX=f,l.imageTransform.scaleY=d,l.transform.rotation=Math.PI/2):(l.transform.translateX=r,l.transform.translateY=0,l.imageTransform.scaleX=f,l.imageTransform.scaleY=1),l}},{key:"getBgOptions",value:function(t,e){var i,n;return Object.assign(Object.assign({},t.frame),{scaleW:null!==(i=t.scaleX)&&void 0!==i?i:1,scaleH:null!==(n=t.scaleY)&&void 0!==n?n:1,imgW:e.width||0,imgH:e.height||0})}}])}();var ee=function(){var t=window.navigator.userAgent,e=new RegExp("Chrome/(\\d+\\.)+\\d+","i").exec(t);if(!(null==e?void 0:e[0]))return 0;var i=u(e,1)[0];return Number(i.split("/")[1].split(".")[0])}(),ie=function(){function t(){r(this,t)}return h(t,null,[{key:"setImageFillStyle",value:function(e,i,r){var o,a;if(0!==(null===(o=i.tile)||void 0===o?void 0:o.sx)&&0!==(null===(a=i.tile)||void 0===a?void 0:a.sy)){var s=i.src,h=i.alpha,c=lt.get({alloyParams:{urlOrImage:s},customParams:{svgGraphics:e,alpha:h}}),l=e;c.onImageLoaded((function(){if(r.compressedQuality){var e=c.width,n=c.height;if(e>$t||n>$t){var o=Zt.getInstance().generateResource(s,c);o.onImageLoaded((function(){t.setImageFill(l,i,r,o)}))}else t.setImageFill(l,i,r,c)}else t.setImageFill(l,i,r,c)}))}else e.fill=n.p.None}},{key:"getShapeImageFill",value:function(e,i,r,o){var a,s,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.S.Both,c=r.tile,l=H.isChrome||H.isFirefox||H.isTencentDocDesktopApp,u=new n.Q(e,h,c.flip,l);u.imageTransform.translateX=-i.initialBounds.x,u.imageTransform.translateY=-i.initialBounds.y;var f=t.getFillPosition(o,e,r);if(r.rotateWithShape)z(u,f);else{var d=f.left,p=f.top;q(u,Object.assign(Object.assign({},f),{rotate:o.frame.rotate,flipH:o.frame.flipH,flipV:o.frame.flipV,translateX:d,translateY:p,scaleX:f.scaleX*(null!==(a=o.scaleX)&&void 0!==a?a:1),scaleY:f.scaleY*(null!==(s=o.scaleY)&&void 0!==s?s:1),pathScaleX:o.scaleX,pathScaleY:o.scaleY,offsetFrame:o.frame.offsetFrame}))}return u}},{key:"setImageFill",value:function(e,i,n,r){var o,a=i.src,s=i.alpha;o=n.textConfig?t.getTextImageFill(n,r,i):t.getShapeImageFill(r,e,i,n),/\.svg/i.test(a)&&(o.imageTransform.scaleX=1.5,o.imageTransform.scaleY=1.5),o.alpha=null!=s?s:1,e.fill=o}},{key:"getTextImageFill",value:function(e,i,r){var o=r.tile.flip;this.isNotSupportFlip()&&(o=n.R.None);var a=H.isChrome||H.isFirefox||H.isTencentDocDesktopApp||H.isWindowWxMiniProgram||H.isAndroid,s=new n.Q(i,n.S.Both,o,a),h=t.getFillPosition(e,i,r),c=h.left,l=h.top,u=h.scaleX,f=h.scaleY,d=e.textConfig||{},p=d.offsetX,g=void 0===p?0:p,y=d.offsetY,v=void 0===y?0:y,m=d.rectYOffset,_=void 0===m?0:m,x=d.needRotate;s.imageTransform.scaleX=u,s.imageTransform.scaleY=f,x?(s.transform.translateX=l-v,s.transform.translateY=c+g+_):(s.transform.translateX=c+g,s.transform.translateY=l);var b=x?90:0;return s.transform.rotation=b*Math.PI/180,s}},{key:"isNotSupportFlip",value:function(){return H.isChrome&&function(){var t,e,i=document.createElement("canvas").getContext("webgl");if(!i)return!1;var n=!1,r=null===(t=i.getExtension)||void 0===t?void 0:t.call(i,"WEBGL_debug_renderer_info");if(r){var o=null===(e=i.getParameter)||void 0===e?void 0:e.call(i,r.UNMASKED_RENDERER_WEBGL);n=-1===(null==o?void 0:o.indexOf("SwiftShader"))}return n}()&&this.isChromeNotSupportTileImageFill()||H.isAndroid}},{key:"isChromeNotSupportTileImageFill",value:function(){return ee>=103}},{key:"getFillPosition",value:function(t,e,i){var n,r,o,a,s=t.textConfig?2:1,h=i.tile,c=h.sx/100*s,l=h.sy/100*s,u=Object.assign(Object.assign({},t.frame),{scaleW:null!==(n=t.scaleX)&&void 0!==n?n:1,scaleH:null!==(r=t.scaleY)&&void 0!==r?r:1,imgW:e.width||0,imgH:e.height||0,imageScaleX:c,imageScaleY:l});if((t.textConfig||{}).needRotate){var f=u.width;u.width=u.height,u.height=f}var d=J(i,u),p=d.left,g=d.top,y=d.width,v=d.height,m=d.rotate,_=y/u.imgW,x=v/u.imgH,b=t.frame.width/(null!==(o=t.scaleX)&&void 0!==o?o:1),w=t.frame.height/(null!==(a=t.scaleY)&&void 0!==a?a:1);return{left:p,top:g,rotate:m,scaleX:_,scaleY:x,realWidth:b,realHeight:w,width:b,height:w}}}])}();function ne(t,e,i){e&&(function(t,e){if(!e)return;t.fill=n.p.None}(t,e.noFill),function(t,e,i){if(!e)return;var r=F(e.color,i.fillMode),o=W(r);if(!o)return;t.fill=new n.i(o)}(t,e.solidFill,i),ut.setPatternFillStyle(t,e.patternFill,i),Kt.setGradFillStyle(t,e.gradFill,i),function(t,e,i){if(!e.imageFill)return;e.imageFill.tile?ie.setImageFillStyle(t,e.imageFill,i):te.setImageFillStyle(t,e.imageFill,i)}(t,e,i))}var re,oe,ae=0,se=0,he=0,ce=100,le=6500,ue=96/72,fe=function(){return h((function t(){r(this,t)}),null,[{key:"shouldForbidWebglForColorFilter",value:function(t,e){var i=e.biLevel,n=e.luminance,r=e.duotone;return!(i||r||n||H.isFirefox)&&t}}])}();fe.generateImageFilter=function(t,e){var i=t.brightness,r=t.colorTemperature,o=t.contrast,a=t.saturate,s=t.sharpenSoften,h=t.grayscl,c=t.biLevel,l=t.duotone,u=t.luminance,f={brightness:fe.getBrightnessValue(i),contrast:fe.getContrastValue(o),saturate:fe.getSaturateValue(a),temperature:r,grayscl:h,biLevel:c};l&&(f.duotone={color1:n.h.fromHex(l.clr1.srgb_color||""),color2:n.h.fromHex(l.clr2.srgb_color||"")}),u&&(f.luminance={brightness:fe.getBrightnessValue(u.brightness),contrast:fe.getContrastValue(u.contrast)});var d=new A.a(f);d.forbidWebgl=fe.shouldForbidWebglForColorFilter(e,t);var p=[d];if(s>0){var g=new A.f({size:s/100});g.forbidWebgl=e,p.push(g)}else if(s<0){var y=-s/10*4,v=new n.b({radiusX:y,radiusY:y,maxPadX:0,maxPadY:0});v.forbidWebgl=e,p.push(v)}return p},fe.isShowImageFilter=function(t){if(!t)return!1;var e=t.sharpenSoften,i=t.contrast,n=t.colorTemperature,r=t.brightness,o=t.saturate,a=t.grayscl,s=t.biLevel,h=t.duotone,c=t.luminance;return e!==ae||i!==he||n!==le||r!==se||o!==ce||a||!!s||0===s||!!h||!!c},fe.getBrightnessValue=function(t){return t?t<0?t/100+1:100!==t?1/(1-t/100):100:1},fe.getContrastValue=function(t){var e=t/100;return e<0?e+1:1+e/.6},fe.getSaturateValue=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:100)/100},function(t){t[t.None=0]="None",t[t.Text=1]="Text",t[t.Shape=2]="Shape",t[t.Both=3]="Both"}(re||(re={})),function(t){t.Text="Text",t.Shape="Shape"}(oe||(oe={}));var de={shadow:re.Both,glow:re.Both,softEdge:re.Both,reflection:re.Both,image:re.Both};var pe,ge=function(){return h((function t(){r(this,t)}),[{key:"scene",get:function(){return this.textConfig?oe.Text:oe.Shape}},{key:"display",get:function(){return t=this.rule,e=this.scene,i=!1,(t===re.Both||t===re.Text&&e===oe.Text||t===re.Shape&&e===oe.Shape)&&(i=!0),i;var t,e,i}},{key:"isFilterShow",value:function(t){return this.display}}])}(),ye=new(function(){return h((function t(){var e=this;r(this,t),this.transformOriginMap={tl:function(){return{originX:0,originY:0}},t:function(){return{originX:.5,originY:0}},tr:function(){return{originX:1,originY:0}},l:function(){return{originX:0,originY:.5}},ctr:function(){return{originX:.5,originY:.5}},r:function(){return{originX:1,originY:.5}},bl:function(){return{originX:0,originY:1}},b:function(){return{originX:.5,originY:1}},br:function(){return{originX:1,originY:1}}},this.textTransformOriginMap={tl:function(){return{originX:e.getInlineStart(),originY:0}},t:function(){return{originX:e.getInlineCenter(),originY:0}},tr:function(){return{originX:e.getInlineEnd(),originY:0}},l:function(){return{originX:e.getInlineStart(),originY:.5}},ctr:function(){return{originX:e.getInlineCenter(),originY:.5}},r:function(){return{originX:e.getInlineEnd(),originY:.5}},bl:function(){return{originX:e.getInlineStart(),originY:1}},b:function(){return{originX:e.getInlineCenter(),originY:1}},br:function(){return{originX:e.getInlineEnd(),originY:1}}},this.vertTextTransformOriginMap={tl:function(){return{originX:1,originY:e.getInlineStart()}},t:function(){return{originX:1,originY:e.getInlineCenter()}},tr:function(){return{originX:1,originY:e.getInlineEnd()}},l:function(){return{originX:.5,originY:e.getInlineStart()}},ctr:function(){return{originX:.5,originY:e.getInlineCenter()}},r:function(){return{originX:.5,originY:e.getInlineEnd()}},bl:function(){return{originX:0,originY:e.getInlineStart()}},b:function(){return{originX:0,originY:e.getInlineCenter()}},br:function(){return{originX:0,originY:e.getInlineEnd()}}}}),[{key:"getTransformOrigin",value:function(t){return this.characterOffset?this.vertical?this.vertTextTransformOriginMap[t]:this.textTransformOriginMap[t]:this.transformOriginMap[t]}},{key:"run",value:function(t,e,i){this.characterOffset=e,this.vertical=i;var n=this.getTransformOrigin(t);return n?n():null}},{key:"getInlineStart",value:function(){if(!this.characterOffset)return 0;var t=this.characterOffset;return-t.offsetStart/t.offsetSize}},{key:"getInlineCenter",value:function(){if(!this.characterOffset)return.5;var t=this.characterOffset,e=t.offsetStart,i=t.offsetEnd,n=t.offsetSize;return((e+i+n)/2-e)/n}},{key:"getInlineEnd",value:function(){if(!this.characterOffset)return 1;var t=this.characterOffset,e=t.offsetEnd,i=t.offsetSize;return(e+i)/i}}])}());function ve(t,e,i){return e=b(e),x(t,me()?Reflect.construct(e,i||[],b(t).constructor):e.apply(t,i))}function me(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(me=function(){return!!t})()}!function(t){t.TL="tl",t.T="t",t.TR="tr",t.L="l",t.CTR="ctr",t.R="r",t.BL="bl",t.B="b",t.BR="br"}(pe||(pe={}));var _e=function(t){function e(){return r(this,e),ve(this,e,arguments)}return O(e,t),h(e,[{key:"generateParams",value:function(t,e,i){if(this.textConfig=i,this.rule=e,t&&this.isFilterShow(t)){var n=t.color,r=t.opacity,o=void 0===r?0:r,a=t.size,s=void 0===a?0:a,h=t.blur,c=void 0===h?0:h,l=t.angle,u=void 0===l?0:l,f=t.distance,d=void 0===f?0:f,p=t.isOuter,g=t.skewX,y=void 0===g?0:g,v=t.skewY,m=void 0===v?0:v,_=t.scaleX,x=void 0===_?0:_,b=t.scaleY,w=void 0===b?0:b,T=t.algn,O=Y(n,X(o)),S=this.getTransformOrigin(T),C=S.originX,E=S.originY,R=this.getScale(s,x,w),k=this.getSkew(y,m),A=(null==i?void 0:i.needRotate)?u+90:u,L=W(O);if(L)return{blur:c*this.getBlurScale(Math.max(R[0],R[1])),angle:A,distance:d*this.getDistanceScale(),scaleX:R[0],scaleY:R[1],inner:!1===p,color:L,skewAngleX:k[0],skewAngleY:k[1],originX:C,originY:E}}}},{key:"isFilterShow",value:function(t){return t&&0!==(null==t?void 0:t.size)&&0!==X(null==t?void 0:t.opacity)&&this.display}},{key:"getScale",value:function(t,e,i){var n,r=(e||t)/100,o=(i||t)/100;if(null===(n=this.textConfig)||void 0===n?void 0:n.needRotate){var a=u([r,o].reverse(),2);r=a[0],o=a[1]}return[r,o]}},{key:"getSkew",value:function(t,e){var i;if(null===(i=this.textConfig)||void 0===i?void 0:i.isVertical){var n=u([-t,e].reverse(),2);t=n[0],e=n[1]}return[t,e]}},{key:"getTransformOrigin",value:function(t){if(this.textConfig){var e=this.textConfig,i=e.characterOffset,n=e.needRotate;return ye.run(t||pe.B,i,n)}return ye.run(t||pe.CTR)}},{key:"getBlurScale",value:function(t){if(!this.textConfig)return 2;var e=this.textConfig.fontSize;return(e?.0078*e+.1173:1)/t}},{key:"getDistanceScale",value:function(){if(!this.textConfig)return 2;var t=this.textConfig.fontSize;return t?.0236*t+.3034:ue}}])}(ge),xe=new _e;function be(t,e,i){return e=b(e),x(t,we()?Reflect.construct(e,i||[],b(t).constructor):e.apply(t,i))}function we(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(we=function(){return!!t})()}var Te=function(t){function e(){return r(this,e),be(this,e,arguments)}return O(e,t),h(e,[{key:"generateParams",value:function(t,e,i){if(this.textConfig=i,this.rule=e,t&&this.isFilterShow(t)){var n=t.color,r=t.opacity,o=void 0===r?0:r,a=t.size,s=void 0===a?0:a,h=W(Y(n,X(o)));if(h)return{size:s*this.getSizeScale(),color:h}}}},{key:"isFilterShow",value:function(t){return t&&0!==(null==t?void 0:t.size)&&0!==X(null==t?void 0:t.opacity)&&this.display}},{key:"getSizeScale",value:function(){if(!this.textConfig)return 1;var t=this.textConfig.fontSize;return t?.0286*t+.1434:ue}}])}(ge),Oe=new Te;function Se(t,e,i){return e=b(e),x(t,Ce()?Reflect.construct(e,i||[],b(t).constructor):e.apply(t,i))}function Ce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ce=function(){return!!t})()}var Ee=function(t){function e(){return r(this,e),Se(this,e,arguments)}return O(e,t),h(e,[{key:"generateParams",value:function(t,e,i){if(this.textConfig=i,this.rule=e,t&&this.isFilterShow(t)){var n=t.blur,r=void 0===n?0:n,o=t.distance,a=void 0===o?0:o,s=t.size,h=void 0===s?0:s,c=t.endOpacity,l=void 0===c?99.6:c,u=t.startOpacity,f=void 0===u?0:u,d=t.rotateWithShape,p=this.getOpacityScale(a),g=this.getSizeScale(a,h),y=this.getCompensationValue();return{blur:r*this.getBlurScale(),distance:a*this.getDistScale()+y,height:h/100*g,gradientEndAlpha:X(l)*p,gradientBeginAlpha:X(f)*p*g,rotateWithElement:!!i||d,direction:(null==i?void 0:i.needRotate)?A.b.HORIZONTAL:A.b.VERTICAL,flip:!!(null==i?void 0:i.needRotate)}}}},{key:"isFilterShow",value:function(t){return t&&0!==(null==t?void 0:t.size)&&0!==X(null==t?void 0:t.startOpacity)&&this.display}},{key:"getSizeScale",value:function(t,e){return 100===e?1:-.0062*t+.9843}},{key:"getCompensationValue",value:function(){if(!this.textConfig)return 0;var t=this.textConfig.getLineBaselinePosition();return 2*(this.textConfig.offsetToLineBottom-t)}},{key:"getBlurScale",value:function(){if(!this.textConfig)return 2;var t=this.textConfig.fontSize;return t?.0073*t+.0486:1}},{key:"getOpacityScale",value:function(t){if(!this.textConfig)return 1;var e=-.007*t+.95;return Math.max(e,0)}},{key:"getDistScale",value:function(){if(!this.textConfig)return 2;var t=this.textConfig.fontSize;return t?.1318*t+.0182:ue}}])}(ge),Re=new Ee;function ke(t,e,i){return e=b(e),x(t,Ae()?Reflect.construct(e,i||[],b(t).constructor):e.apply(t,i))}function Ae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ae=function(){return!!t})()}var Le=function(t){function e(){return r(this,e),ke(this,e,arguments)}return O(e,t),h(e,[{key:"generateParams",value:function(t,e,i){var n;if(this.textConfig=i,this.rule=e,t&&this.isFilterShow())return{size:null!==(n=t.size)&&void 0!==n?n:0,isPicture:!1}}}])}(ge),Pe=new Le;var Ie,Me,Be=1.75,De=1.25;function Fe(t,e){var i=e.filterDisplayOptions,n=void 0===i?de:i,r=e.forbidWebgl,o=e.isPicture,a=function(t,e,i){return t?{shadow:xe.generateParams(t.shadow||null,e.shadow,i),glow:Oe.generateParams(t.glow||null,e.glow,i),reflection:Re.generateParams(t.reflection||null,e.reflection,i),softEdge:Pe.generateParams(t.softEdge||null,e.softEdge,i)}:t}(t,n,e.textConfig),s=a||{},h=s.shadow,c=s.glow,l=s.reflection,u=s.softEdge,f=[];if(null==h?void 0:h.inner){var d=new A.e(h);d.forbidWebgl=r,f.push(d)}if(u){u.size=r?u.size*Be:u.size*De;var p=new A.g(Object.assign(Object.assign({},u),{isPicture:o}));p.forbidWebgl=r,f.push(p)}if(c){var g=new A.c(c);g.forbidWebgl=r,f.push(g)}if(h&&!(null==h?void 0:h.inner)){var y=new A.e(h);y.forbidWebgl=r,f.push(y)}if(l){var v=new A.d(l);v.forbidWebgl=r,f.push(v)}return f}!function(t){t.SOLID="solid",t.SYS_DOT="sysDot",t.SYS_DASH="sysDash",t.DASH="dash",t.DASH_DOT="dashDot",t.LG_DASH="lgDash",t.LG_DASH_DOT="lgDashDot",t.LG_DASH_DOT_DOT="lgDashDotDot",t.DOT="dot",t.SYS_DASH_DOT="sysDashDot",t.SYS_DASH_DOT_DOT="sysDashDotDot"}(Me||(Me={}));var Ne,je=S(S(S(S(S(S(S(S(S({},Me.SOLID,""),Me.SYS_DOT,"0 2"),Me.SYS_DASH,"2 2"),Me.DASH,"3 4"),Me.DASH_DOT,"3 4 0 4"),Me.LG_DASH,"6 4"),Me.LG_DASH_DOT,"6 4 0 4"),Me.LG_DASH_DOT_DOT,"6 4 0 4 0 4"),Me.DOT,"0 4"),Xe=(S(S(S(S(S(S(S(S(S(S(Ie={},Me.SOLID,""),Me.SYS_DOT,"1 1"),Me.SYS_DASH,"3 1"),Me.DASH,"4 3"),Me.DASH_DOT,"4 3 1 3"),Me.LG_DASH,"7 3"),Me.LG_DASH_DOT,"7 3 1 3"),Me.LG_DASH_DOT_DOT,"7 3 1 3 1 3"),Me.DOT,"1 3"),Me.SYS_DASH_DOT,"3 1 1 1"),S(Ie,Me.SYS_DASH_DOT_DOT,"3 1 1 1 1 1"));!function(t){t.SINGLE="sng",t.DOUBLE="dbl",t.THICKTHIN="thickThin",t.THINTHICK="thinThick",t.TRIPLE="tri"}(Ne||(Ne={}));var Ye=function(){return h((function t(e,i,n){r(this,t),this.isSolidLine=function(t){return Array.isArray(t)&&1===t.length&&"0"===t[0]},this.stroke=e,this.path=i,this.frame=n}),[{key:"strokeWidth",get:function(){var t=this.stroke.lineWidth,e=void 0===t?1:t,i=this.stroke.minStrokeWidth,n=void 0===i?.75:i,r=this.path,o=r.scaleX,a=void 0===o?1:o,s=r.isLineEndPath,h=r.notStroke;return(e=s&&h?0:Math.max(e,n))*(1/a)}},{key:"hitStrokeWidth",get:function(){var t=this.stroke,e=t.lineWidth,i=void 0===e?1:e,n=t.hitStrokeWidth;if(n){var r=this.path,o=r.isLineEndPath,a=r.notStroke,s=r.scaleX,h=void 0===s?1:s;return o&&a?1/h*(n-i):n*(1/h)}return i}},{key:"lineCap",get:function(){var t,e,i;return null!==(i=null!==(e=null===(t=this.path)||void 0===t?void 0:t.lineCap)&&void 0!==e?e:this.stroke.lineCap)&&void 0!==i?i:n.z.Butt}},{key:"lineJoin",get:function(){var t;return null!==(t=this.stroke.lineJoin)&&void 0!==t?t:n.A.Miter}},{key:"lineDash",get:function(){var t,e,i,r=this,o=null!==(e=this.path.isLineEndPath?Me.SOLID:null===(t=this.stroke)||void 0===t?void 0:t.type)&&void 0!==e?e:Me.SOLID;if(o===Me.SOLID)return[];var a="";void 0===(a=this.lineCap===n.z.Butt?Xe[o]:je[o])&&(a="");var s=null===(i=null==a?void 0:a.split(" "))||void 0===i?void 0:i.map((function(t){return parseInt(t,10)*r.realStrokeWidth}));return this.isSolidLine(s)?[]:s}},{key:"strokeFill",get:function(){var t,e=this.path,i=e.scaleX,r=void 0===i?1:i,o=e.scaleY,a=void 0===o?1:o,s=this.path.notStroke?I.NONE:I.NORMAL;if(this.stroke.fillStyle.gradFill)return Kt.getGradFill(this.stroke.fillStyle.gradFill,{frame:Object.assign(Object.assign({},this.frame),{width:this.frame.width||this.strokeWidth,height:this.frame.height||this.strokeWidth}),fillMode:s,scaleX:r,scaleY:a,isStroke:!0,textConfig:this.stroke.textConfig?Object.assign(Object.assign({},this.stroke.textConfig),{strokeWidth:this.strokeWidth}):void 0});var h=W(F(null===(t=this.stroke.fillStyle.solidFill)||void 0===t?void 0:t.color,s));return h?new n.i(h):n.p.None}},{key:"realStrokeWidth",get:function(){var t=this.strokeWidth;return this.path.isCompoundPath&&(t/=this.path.widthPercent||1),t}}])}()},"402349bbbb":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return u})),i.d(e,"f",(function(){return g})),i.d(e,"g",(function(){return y}));var n=i("516fa97df2"),r=function(t){function e(e){var i,r,o,a,s;void 0===e&&(e={}),t.call(this),this.type="color-adjustment",this._colorMatrixDirty=!0,this._temperatureScale=[1,1,1],this._colorMatrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];var h=Object(n.Y)(this);this._temperature=null!=(i=e.temperature)?i:h.temperature,this._contrast=null!=(r=e.contrast)?r:h.contrast,this._brightness=null!=(o=e.brightness)?o:h.brightness,this._saturate=null!=(a=e.saturate)?a:h.saturate,this._grayscl=null!=(s=e.grayscl)?s:h.grayscl,e.duotone&&(this._duotone=e.duotone),(e.biLevel||0===e.biLevel)&&(this._biLevel=e.biLevel),e.luminance&&(this._luminance=e.luminance)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={temperature:{configurable:!0},contrast:{configurable:!0},brightness:{configurable:!0},saturate:{configurable:!0},grayscl:{configurable:!0},duotone:{configurable:!0},biLevel:{configurable:!0},luminance:{configurable:!0},colorMatrix:{configurable:!0},temperatureScale:{configurable:!0}};return i.temperature.get=function(){return this._temperature},i.temperature.set=function(t){this._temperature!==t&&(this._temperature=t,this._updated())},i.contrast.get=function(){return this._contrast},i.contrast.set=function(t){this._contrast!==t&&(this._contrast=t,this._updated())},i.brightness.get=function(){return this._brightness},i.brightness.set=function(t){this._brightness!==t&&(this._brightness=t,this._updated())},i.saturate.get=function(){return this._saturate},i.saturate.set=function(t){this._saturate!==t&&(this._saturate=t,this._updated())},i.grayscl.get=function(){return this._grayscl},i.grayscl.set=function(t){this._grayscl!==t&&(this._grayscl=t,this._updated())},i.duotone.get=function(){return this._duotone},i.duotone.set=function(t){this._duotone!==t&&(this._duotone=t,this._updated())},i.biLevel.get=function(){return this._biLevel},i.biLevel.set=function(t){this._biLevel!==t&&(this._biLevel=t,this._updated())},i.luminance.get=function(){return this._luminance},i.luminance.set=function(t){this._luminance!==t&&(this._luminance=t,this._updated())},i.colorMatrix.get=function(){var t=this._colorMatrix;if(!this._colorMatrixDirty)return t;this._colorMatrixDirty=!0;var e=this,i=e.saturate,n=e.grayscl,r=e.biLevel,o=e.duotone,a=e.luminance,s=this.brightness,h=this.contrast;a&&(h=a.contrast,s=.55*a.brightness);var c=this.temperatureScale,l=c[0],u=c[1],f=c[2],d=s*h,p=d*l,g=d*u,y=d*f;if(t[0]=(.213+.787*i)*p,t[1]=(.715-.715*i)*g,t[2]=(.072-.072*i)*y,t[5]=(.213-.213*i)*p,t[6]=(.715+.285*i)*g,t[7]=(.072-.072*i)*y,t[10]=(.213-.213*i)*p,t[11]=(.715-.715*i)*g,t[12]=(.072+.928*i)*y,0===h){var v=.5*s;t[4]=v,t[9]=v,t[14]=v}else{var m=(1-h)/2/h;t[4]=m*(t[0]/l+t[1]/u+t[2]/f),t[9]=m*(t[5]/l+t[6]/u+t[7]/f),t[14]=m*(t[10]/l+t[11]/u+t[12]/f)}if(n||r||o){var _=.299,x=.587,b=.114,w=[].concat(t);t[0]=_*(w[0]+w[1]+w[2]),t[1]=x*(w[0]+w[1]+w[2]),t[2]=b*(w[0]+w[1]+w[2]),t[5]=_*(w[5]+w[6]+w[7]),t[6]=x*(w[5]+w[6]+w[7]),t[7]=b*(w[5]+w[6]+w[7]),t[10]=_*(w[10]+w[11]+w[12]),t[11]=x*(w[10]+w[11]+w[12]),t[12]=b*(w[10]+w[11]+w[12]),t[15]=_*(w[15]+w[16]+w[17]),t[16]=x*(w[15]+w[16]+w[17]),t[17]=b*(w[15]+w[16]+w[17])}return t},i.temperatureScale.get=function(){var t=this.temperature-6500,e=t>0?5e3-t/5:6500+Math.abs(t),i=255,r=255,o=255;return(e/=100)<65?(i=255,r=-115.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*Math.log(r),o=.8274096064007395*(o=e-10)-204.76935184120902+115.67994401066147*Math.log(o)):e>65&&(i=351.97690566805693+.114206453784165*(i=e-55)-33.25366309332127*Math.log(i),r=325.4494125711974+.07943456536662342*(r=e-50)-18.0852963507957*Math.log(r),o=255),this._temperatureScale[0]=Object(n.U)(i,0,255)/255,this._temperatureScale[1]=Object(n.U)(r,0,255)/255,this._temperatureScale[2]=Object(n.U)(o,0,255)/255,this._temperatureScale},e.prototype.apply=function(t,e){this.hasReColor()?this.drawGlColorAdjustmentFilter(e):this.forbidWebgl?this.applySvgColorAdjustmentFilter(e):this.applyGlColorAdjustmentFilter(e,t)},e.prototype.applySvgColorAdjustmentFilter=function(t){var e=n.g.getInstance().checkOut(t.constructor);e.resetBufferInfo(t,t.width,t.height,t.resolution);var i=this.colorMatrix,r=Object(n.X)(t.width,t.height,i[0]+" "+i[1]+" "+i[2]+" "+i[3]+" "+i[4]+"\n      "+i[5]+" "+i[6]+" "+i[7]+" "+i[8]+" "+i[9]+"\n      "+i[10]+" "+i[11]+" "+i[12]+" "+i[13]+" "+i[14]+"\n      "+i[15]+" "+i[16]+" "+i[17]+" "+i[18]+" "+i[19]);e.filter="url(#"+r+")",e.drawCanvas(t,t.padding.left,t.padding.top),t.transform=n.C.Identity,t.clear(),t.drawCanvas(e,0,0,t.width,t.height),e instanceof n.f&&n.g.getInstance().checkIn(e)},e.prototype.hasReColor=function(){return this.grayscl||!!this.duotone||!!this.biLevel||!!this.luminance},e.prototype.drawGlColorAdjustmentFilter=function(t){var e=this.getColorAdjustmentSource(t),i=t.globalCompositeOperation;t.globalCompositeOperation="source-in",t.drawCanvas(e,0,0),t.globalCompositeOperation=i,e instanceof n.f&&n.g.getInstance().checkIn(e)},e.prototype.getColorAdjustmentSource=function(t){var e=n.g.getInstance().checkOut(t.constructor);return e.resetBufferInfo(t,t.width,t.height,t.resolution),e.transform=n.C.Identity,e.drawCanvas(t),this.applyGlColorAdjustmentFilter(e),e},e.prototype.applyGlColorAdjustmentFilter=function(t,e){var i=t.getGlBuffer(t.width,t.height);i?(!function(t,e,i,n,r,o){var a=t.gl,s=t.getDefaultVertexShader(),h=t.getShader("color-matrix",a.FRAGMENT_SHADER,"\n    precision mediump float;\n\n    uniform sampler2D u_image;\n    uniform float m[20];\n    uniform float biLevel;\n    uniform int luminance;\n    uniform vec3 color1;\n    uniform vec3 color2;\n    varying vec2 v_texCoord;\n\n    void main() {\n      vec4 c = texture2D(u_image, v_texCoord);\n      gl_FragColor.r = m[0] * c.r + m[1] * c.g + m[2] * c.b + m[3] * c.a + m[4];\n      gl_FragColor.g = m[5] * c.r + m[6] * c.g + m[7] * c.b + m[8] * c.a + m[9];\n      gl_FragColor.b = m[10] * c.r + m[11] * c.g + m[12] * c.b + m[13] * c.a + m[14];\n      gl_FragColor.a = m[15] * c.r + m[16] * c.g + m[17] * c.b + m[18] * c.a + m[19];\n\n      if (bool(biLevel)) {\n        // 经过灰度处理后，rgb三通道相同\n        float gray = gl_FragColor.r;\n        gl_FragColor.r = gray >= float(biLevel) ? 1.0 : 0.0;\n        gl_FragColor.g = gray >= float(biLevel) ? 1.0 : 0.0;\n        gl_FragColor.b = gray >= float(biLevel) ? 1.0 : 0.0;\n      }\n\n      if (bool(color1) || bool(color2)) {\n        // 经过灰度处理后，rgb三通道相同\n        float gray = gl_FragColor.r;\n        gl_FragColor.r = (color1.x * (1.0 - gray)) + (color2.x * gray);\n        gl_FragColor.g = (color1.y * (1.0 - gray)) + (color2.y * gray);\n        gl_FragColor.b = (color1.z * (1.0 - gray)) + (color2.z * gray);\n      }\n\n      if (bool(luminance)) {\n        // 冲蚀效果在最后一步处理中使用白色对图像进行混色\n        gl_FragColor.r = gl_FragColor.r * 0.5 + 0.5;\n        gl_FragColor.g = gl_FragColor.g * 0.5 + 0.5;\n        gl_FragColor.b = gl_FragColor.b * 0.5 + 0.5;\n      }\n    }\n  ");t.useProgram("color-matrix",s,h),t.useTexture(e),t.uniform1fv("m",i),n?t.uniform1f("biLevel",n/100):t.uniform1f("biLevel",0);if(r){var c=r.color1,l=r.color2;t.uniform3f("color1",c.red/255,c.green/255,c.blue/255),t.uniform3f("color2",l.red/255,l.green/255,l.blue/255)}else t.uniform3f("color1",0,0,0),t.uniform3f("color2",0,0,0);o?t.uniform1i("luminance",1):t.uniform1i("luminance",0);t.drawRect()}(i,t.native,this.colorMatrix,this.biLevel,this.duotone,this.luminance),e&&e instanceof n.N?(t.save(),t.clip(),t.transform=e.worldTransform,Object(n.W)(t,e.segments),t.clear(),t.drawCanvas(i,-t.padding.left,-t.padding.top,t.width,t.height),t.restore()):(t.transform=n.C.Identity,t.clear(),t.drawCanvas(i,-t.padding.left,-t.padding.top,t.width,t.height))):this.applySvgColorAdjustmentFilter(t)},e.prototype._updated=function(){t.prototype._updated.call(this),this._colorMatrixDirty=!0},Object.defineProperties(e.prototype,i),e}(n.r);r.defaults={temperature:6500,contrast:1,brightness:1,saturate:1,grayscl:!1},Object(n.ab)(r,[["$",function(){return r.name}],"temperature","contrast","brightness","saturate"]);var o=function(t){function e(e){var i,r;void 0===e&&(e={}),t.call(this),this.type="glow",this.morphologyFilter=new n.D,this.blurFilter=new n.b;var o=Object(n.Y)(this);this._color=null!=(i=e.color)?i:o.color,this._size=null!=(r=e.size)?r:o.size,this.morphologyFilter.mode=n.E.Dilate,this.morphologyFilter.ignoreAlpha=!0,this.blurFilter.maxPadX=1/0,this.blurFilter.maxPadY=1/0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={color:{configurable:!0},size:{configurable:!0}};return i.color.get=function(){return this._color},i.color.set=function(t){this._color!==t&&(this._color=t,this._updated())},i.size.get=function(){return this._size},i.size.set=function(t){this._size!==t&&(this._size=t,this._updated())},e.prototype.apply=function(t,e,i,r){var o=n.g.getInstance().checkOut(e.constructor);o.resetBufferInfo(e,e.width,e.height,e.resolution,!0),o.drawCanvas(e,-e.padding.left,-e.padding.top),this.updateFilters(e.contextScale.sx,e.contextScale.sy),this.morphologyFilter.forbidWebgl=this.forbidWebgl,this.morphologyFilter.apply(t,o,i,r),this.blurFilter.forbidWebgl=this.forbidWebgl,this.blurFilter.apply(t,o,i,r),o.rect(-o.padding.left,-o.padding.top,o.width,o.height),o.nativeFillStyle=this.color.rgba,o.globalCompositeOperation="source-in",o.fill(),e.pad(o.padding),o.padding.copyFrom(e.padding),e.transform=n.C.Identity,e.globalCompositeOperation="destination-over",e.drawCanvas(o),e.globalCompositeOperation="source-over",n.g.getInstance().checkIn(o)},e.prototype.updateFilterBounds=function(t,e){this.updateFilters(),this.morphologyFilter.updateFilterBounds(t,e),this.blurFilter.updateFilterBounds(t,e)},e.prototype.updateFilters=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);var i=this.size,n=i/2,r=2*i/3;this.morphologyFilter.radiusX=n*t,this.morphologyFilter.radiusY=n*e,this.blurFilter.radiusX=r*t,this.blurFilter.radiusY=r*e},Object.defineProperties(e.prototype,i),e}(n.r);o.defaults={color:n.h.Black,size:4},Object(n.ab)(o,[["$",function(){return o.name}],"color","size"]);var a=function(t){return t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t}(a||{}),s=function(t){function e(e){var i,r,o,a,s,h,c,l;void 0===e&&(e={}),t.call(this),this.type="reflection",this.blurFilter=new n.b,this.filterTransform=new n.C,this.parentRotation=0,this.contextSx=1,this.contextSy=1;var u=Object(n.Y)(this);this._height=null!=(i=e.height)?i:u.height,this._blur=null!=(r=e.blur)?r:u.blur,this._distance=null!=(o=e.distance)?o:u.distance,this._gradientBeginAlpha=null!=(a=e.gradientBeginAlpha)?a:u.gradientBeginAlpha,this._gradientEndAlpha=null!=(s=e.gradientEndAlpha)?s:u.gradientEndAlpha,this._direction=null!=(h=e.direction)?h:u.direction,this._flip=null!=(c=e.flip)?c:u.flip,this._rotateWithElement=null!=(l=e.rotateWithElement)?l:u.rotateWithElement}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={height:{configurable:!0},blur:{configurable:!0},distance:{configurable:!0},gradientBeginAlpha:{configurable:!0},gradientEndAlpha:{configurable:!0},direction:{configurable:!0},flip:{configurable:!0},rotateWithElement:{configurable:!0}};return i.height.get=function(){return this._height},i.height.set=function(t){this._height!==t&&(this._height=t,this._updated())},i.blur.get=function(){return this._blur},i.blur.set=function(t){this._blur!==t&&(this._blur=t,this._updated())},i.distance.get=function(){return this._distance},i.distance.set=function(t){this._distance!==t&&(this._distance=t,this._updated())},i.gradientBeginAlpha.get=function(){return this._gradientBeginAlpha},i.gradientBeginAlpha.set=function(t){this._gradientBeginAlpha!==t&&(this._gradientBeginAlpha=t,this._updated())},i.gradientEndAlpha.get=function(){return this._gradientEndAlpha},i.gradientEndAlpha.set=function(t){this._gradientEndAlpha!==t&&(this._gradientEndAlpha=t,this._updated())},i.direction.get=function(){return this._direction},i.direction.set=function(t){this._direction!==t&&(this._direction=t,this._updated())},i.flip.get=function(){return this._flip},i.flip.set=function(t){this._flip!==t&&(this._flip=t,this._updated())},i.rotateWithElement.get=function(){return this._rotateWithElement},i.rotateWithElement.set=function(t){this._rotateWithElement!==t&&(this._rotateWithElement=t,this._updated())},e.prototype.apply=function(t,e,i,r){if(0!==this.height){this.contextSx=e.contextScale.sx,this.contextSy=e.contextScale.sy;var o=this.createReflectonBuffer(t,e);this.clipBuffer(t,o),this.drawReflection(t,e,o,i,r),n.g.getInstance().checkIn(o)}},e.prototype.getFilterMatrix=function(t,e){return this.contextSx=1,this.contextSy=1,this.updateFilterTransform(t,e),this.filterTransform},e.prototype.updateFilterBounds=function(t,e,i){this.contextSx=1,this.contextSy=1,this.updateFilterTransform(t,i),e.addBoundsMatrix(this.filterTransform,e)},e.prototype.createReflectonBuffer=function(t,e){var i=n.g.getInstance().checkOut(e.constructor);i.resetBufferInfo(e,e.width,e.height,e.resolution,!0);var r=this.getTransform(t,e.contentWidth,e.contentHeight).matrix;return this.updateBufferPadding(e,i,r),i.save(),i.transform=r,i.drawCanvas(e,0,0),i.restore(),i},e.prototype.clipBuffer=function(t,e){e.save(),e.nativeFillStyle=this.getGradient(t,e);var i=0===this.direction?this.height:1,r=1===this.direction?this.height:1;if(this.rotateWithElement){var o=t.initialBounds.width/2,a=t.initialBounds.height/2,s=(new n.C).copyFrom(t.worldTransform);s.tx=t.worldBounds.width/2-(o*s.a+a*s.c),s.ty=t.worldBounds.height/2-(o*s.b+a*s.d),e.transform=s}else e.transform=n.C.Identity;var h=this.getRectArea(e),c=h.paddingLeft,l=h.paddingTop,u=h.contentWidth,f=h.contentHeight;e.rect(this.flip?u*(1-i)-c:-c,this.flip?f*(1-r)-l:-l,u*i+Math.abs(c),f*r+Math.abs(l)),e.globalCompositeOperation="destination-in",e.fill(),e.restore()},e.prototype.drawReflection=function(t,e,i,r,o){var a=this.blur,s=this.getTranslate(t,i,r,o),c=s.translateX,l=s.translateY,u=this.getPadding(t,i,r,o),f=u.paddingX,d=u.paddingY;e.save(),e.pad(h.set((l<0?d:0)+a,(c>0?f:0)+a,(l>0?d:0)+a,(c<0?f:0)+a).overlay(i.padding)),e.transform=(new n.C).translate(c,l),e.globalAlpha=1,e.globalCompositeOperation="destination-over",e.drawCanvas(this.getBlurSource(t,i,r,o),0,0),e.restore(),n.g.getInstance().checkIn(i)},e.prototype.updateBufferPadding=function(t,e,i){if(this.rotateWithElement){var n=c.clear().addBounds(t.bounds).transform(i),r=e.bounds.paddingTo(n,h);e.pad(r)}else e.padding.add(this.getBufferPadding(t));h.clear()},e.prototype.getBufferPadding=function(t){var e=t.padding,i=e.top,n=e.left,r=e.right,o=e.bottom;return 0===this.direction?h.set(i,n,o,r):h.set(o,r,i,n),h},e.prototype.getRectArea=function(t){var e=l.copyFrom(t.transform).invert(),i=c.clear().addBounds(t.bounds).transform(e);return{paddingLeft:this.rotateWithElement?0-i.minX:t.padding.left,paddingTop:this.rotateWithElement?0-i.minY:t.padding.top,contentWidth:this.rotateWithElement?i.width:t.width,contentHeight:this.rotateWithElement?i.height:t.height}},e.prototype.getGradient=function(t,e){var i=this.getOffsetSize(t,e),n=i.offsetWidth,r=i.offsetHeight,o=null;return(o=this.flip?e.createLinearGradient(n*(1-this.height),r*(1-this.height),n,r):e.createLinearGradient(0,0,n*this.height,r*this.height)).addColorStop(this.flip?1:0,"rgba(0, 0, 0, "+this.gradientBeginAlpha+")"),o.addColorStop(this.flip?0:1,"rgba(0, 0, 0, "+this.gradientEndAlpha+")"),o},e.prototype.getOffsetSize=function(t,e){var i=0,n=0;return 0===this.direction?i=this.rotateWithElement?t.initialBounds.width:e.contentWidth:n=this.rotateWithElement?t.initialBounds.height:e.contentHeight,{offsetWidth:i,offsetHeight:n}},e.prototype.getTranslate=function(t,e,i,n){var r=this.getOffsetSize(t,e),o=r.offsetWidth,a=r.offsetHeight,s=(0===this.direction?this.distance*this.contextSx:0)*(this.rotateWithElement?1/t.scaleX:i),h=(1===this.direction?this.distance*this.contextSy:0)*(this.rotateWithElement?1/t.scaleY:n),c=0,l=0;if(this.rotateWithElement){var u=t.worldTransform;c+=(o+s)*u.a+(a+h)*u.c,l+=(o+s)*u.b+(a+h)*u.d}else c+=o+s,l+=a+h;return{translateX:c*=this.flip?-1:1,translateY:l*=this.flip?-1:1}},e.prototype.getPadding=function(t,e,i,n){var r=this.getOffsetSize(t,e),o=r.offsetWidth,a=r.offsetHeight,s=(0===this.direction?this.distance*this.contextSx:0)*(this.rotateWithElement?1/t.scaleX:i),h=(1===this.direction?this.distance*this.contextSy:0)*(this.rotateWithElement?1/t.scaleY:n),c=0,l=0;if(this.rotateWithElement){var u=t.worldTransform;c+=(o*this.height+s)*u.a+(a*this.height+h)*u.c,l+=(o*this.height+s)*u.b+(a*this.height+h)*u.d}else c+=o*this.height+s,l+=a*this.height+h;return{paddingX:c=Math.abs(c),paddingY:l=Math.abs(l)}},e.prototype.getTransform=function(t,e,i){var r=new n.T;if(0===this.direction?r.scaleX=-1:r.scaleY=-1,r.pivotX=.5*e,r.pivotY=.5*i,r.translateX=r.pivotX,r.translateY=r.pivotY,this.rotateWithElement){for(var o=t.rotation,a=t.parent;a;)o+=a.rotation,a=a.parent;r.rotation=2*o}return r},e.prototype.getBlurSource=function(t,e,i,r){if(0===this.blur)return e;var o=n.g.getInstance().checkOut(e.constructor);return o.resetBufferInfo(e,e.width,e.height,e.resolution,!0),o.padding.copyFrom(e.padding),o.transform=n.C.Identity,o.drawCanvas(e),this.updateFilters(),this.blurFilter.forbidWebgl=this.forbidWebgl,this.blurFilter.apply(t,o,i,r),o},e.prototype.updateFilters=function(){var t=this.blur;this.blurFilter.radiusX=t,this.blurFilter.radiusY=t},e.prototype.updateFilterTransform=function(t,e){this.updateParentRotation(t);var i=this.calculatePivot(t,e),n=i.pivotX,r=i.pivotY,o=this.calculateDistance(),a=n+o.distanceX,s=r+o.distanceY,h=0===this.direction?-1:1,c=0===this.direction?1:-1;this.filterTransform.set(1,0,0,1,-n,-r).rotate(this.rotateWithElement?0:2*this.parentRotation).scale(h,c).translate(a,s)},e.prototype.calculateDistance=function(){var t=0,e=0,i=this.flip?-1:1;return this.rotateWithElement?(0===this.direction?t=this.distance*i:e=this.distance*i,{distanceX:t,distanceY:e}):{distanceX:t=this.distance*Math.sin(this.parentRotation),distanceY:e=this.distance*Math.cos(this.parentRotation)}},e.prototype.calculatePivot=function(t,e){var i=0,n=0;return this.rotateWithElement?(this.flip||(i=e.width+e.x,n=e.height+e.y),{pivotX:i,pivotY:n}):(this.shouldOriginToLeftTop()?(i=e.x,n=e.y):this.shouldOriginToRightTop()?(i=e.width+e.x,n=e.y):this.shouldOriginToLeftBottom()?(i=e.x,n=e.height+e.y):(i=e.width+e.x,n=e.height+e.y),{pivotX:i,pivotY:n})},e.prototype.shouldOriginToLeftTop=function(){return 0===this.direction&&this.parentRotation>=90*n.n&&this.parentRotation<180*n.n||1===this.direction&&this.parentRotation>=180*n.n&&this.parentRotation<270*n.n},e.prototype.shouldOriginToRightTop=function(){return 0===this.direction&&this.parentRotation>=0&&this.parentRotation<90*n.n||1===this.direction&&this.parentRotation>=90*n.n&&this.parentRotation<180*n.n},e.prototype.shouldOriginToLeftBottom=function(){return 0===this.direction&&this.parentRotation>=180*n.n&&this.parentRotation<270*n.n||1===this.direction&&this.parentRotation>=270*n.n&&this.parentRotation<360*n.n},e.prototype.updateParentRotation=function(t){this.parentRotation=t.rotation;for(var e=t.parent;e;)this.parentRotation+=e.rotation,e=e.parent},Object.defineProperties(e.prototype,i),e}(n.r);s.defaults={height:1,blur:4,distance:0,gradientBeginAlpha:1,gradientEndAlpha:0,direction:1,flip:!1,rotateWithElement:!1};var h=new n.F,c=new n.c,l=new n.C;Object(n.ab)(s,[["$",function(){return s.name}],"height","blur","distance","alpha"]);var u=function(t){function e(e){var i,r,o,a,s,h,c,l,u,f,d;void 0===e&&(e={}),t.call(this),this.type="shadow",this.transform=new n.C,this.blurFilter=new n.b,this.filterTransform=new n.C,this.parentRotation=0,this.contextSx=1,this.contextSy=1;var p=Object(n.Y)(this);this._inner=null!=(i=e.inner)?i:p.inner,this._color=null!=(r=e.color)?r:p.color,this._blur=null!=(o=e.blur)?o:p.blur,this._distance=null!=(a=e.distance)?a:p.distance,this._angle=null!=(s=e.angle)?s:p.angle,this._scaleX=null!=(h=e.scaleX)?h:p.scaleX,this._scaleY=null!=(c=e.scaleY)?c:p.scaleY,this._skewAngleX=null!=(l=e.skewAngleX)?l:p.skewAngleX,this._skewAngleY=null!=(u=e.skewAngleY)?u:p.skewAngleY,this._originX=null!=(f=e.originX)?f:p.originX,this._originY=null!=(d=e.originY)?d:p.originY}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={inner:{configurable:!0},color:{configurable:!0},blur:{configurable:!0},distance:{configurable:!0},angle:{configurable:!0},scaleX:{configurable:!0},scaleY:{configurable:!0},skewAngleX:{configurable:!0},skewAngleY:{configurable:!0},originX:{configurable:!0},originY:{configurable:!0},hasNoEffect:{configurable:!0}};return i.inner.get=function(){return this._inner},i.inner.set=function(t){this._inner!==t&&(this._inner=t,this._updated())},i.color.get=function(){return this._color},i.color.set=function(t){this._color!==t&&(this._color=t,this._updated())},i.blur.get=function(){return this._blur},i.blur.set=function(t){this._blur!==t&&(this._blur=t,this._updated())},i.distance.get=function(){return this._distance},i.distance.set=function(t){this._distance!==t&&(this._distance=t,this._updated())},i.angle.get=function(){return this._angle},i.angle.set=function(t){this._angle!==t&&(this._angle=t,this._updated())},i.scaleX.get=function(){return this._scaleX},i.scaleX.set=function(t){this._scaleX!==t&&(this._scaleX=t,this._updated())},i.scaleY.get=function(){return this._scaleY},i.scaleY.set=function(t){this._scaleY!==t&&(this._scaleY=t,this._updated())},i.skewAngleX.get=function(){return this._skewAngleX},i.skewAngleX.set=function(t){this._skewAngleX!==t&&(this._skewAngleX=t,this._updated())},i.skewAngleY.get=function(){return this._skewAngleY},i.skewAngleY.set=function(t){this._skewAngleY!==t&&(this._skewAngleY=t,this._updated())},i.originX.get=function(){return this._originX},i.originX.set=function(t){this._originX!==t&&(this._originX=t,this._updated())},i.originY.get=function(){return this._originY},i.originY.set=function(t){this._originY!==t&&(this._originY=t,this._updated())},i.hasNoEffect.get=function(){return 1===this.scaleX&&1===this.scaleY&&0===this.blur&&0===this.distance&&0===this.skewAngleX&&0===this.skewAngleY},e.prototype.apply=function(t,e,i,r){if(!this.hasNoEffect){this.contextSx=e.contextScale.sx,this.contextSy=e.contextScale.sy,this.updateParentRotation(t),this.updateTransform(t,e.contentWidth,e.contentHeight);var o=this.createBuffer(e),a=this.getShadowBounds(o.bounds);if(this.inner){var s=o.bounds.paddingTo(a.addBounds(e.bounds),d).flip();o.pad(s.overlay(n.F.Zero)),this.drawShadow(t,e,o,i,r)}else{var h=e.bounds.paddingTo(a,d);this.drawShadow(t,e,o,i,r),e.pad(h.overlay(n.F.Zero))}e.save(),e.globalCompositeOperation=this.inner?"source-atop":"destination-over",e.transform=this.transform,e.drawCanvas(o),e.restore(),n.g.getInstance().checkIn(o)}},e.prototype.getFilterMatrix=function(t){return this.contextSx=1,this.contextSy=1,this.updateFilterTransform(t),this.filterTransform},e.prototype.updateFilterBounds=function(t,e){this.contextSx=1,this.contextSy=1,this.updateFilterTransform(t),e.addBoundsMatrix(this.filterTransform,e),this.updateFilters(),this.blurFilter.updateFilterBounds(t,e)},e.prototype.createBuffer=function(t){var e=n.g.getInstance().checkOut(t.constructor);return e.resetBufferInfo(t,t.width,t.height,t.resolution,!0),e.padding.add(t.padding),e},e.prototype.drawShadow=function(t,e,i,r,o){i.save(),i.transform=this.inner?n.C.Identity:this.getBufferTransform(i),this.inner?i.rect(-i.padding.left,-i.padding.top,i.width,i.height):i.rect(0,0,i.width,i.height),i.nativeFillStyle=this.color.rgba,i.fill(),i.globalCompositeOperation=this.inner?"destination-out":"destination-in",this.inner?i.drawCanvas(e):i.drawCanvas(e,i.padding.left,i.padding.top),i.restore(),this.updateFilters(),this.blurFilter.forbidWebgl=this.forbidWebgl,this.blurFilter.apply(t,i,r,o)},e.prototype.updateFilters=function(){var t=this.blur,e=this.inner;this.blurFilter.radiusX=t*this.contextSx,this.blurFilter.radiusY=t*this.contextSy,e?(this.blurFilter.maxPadX=0,this.blurFilter.maxPadY=0):(this.blurFilter.maxPadX=1/0,this.blurFilter.maxPadY=1/0)},e.prototype.updateParentRotation=function(t){if(!this.inner){this.parentRotation=0;for(var e=t.parent;e;)this.parentRotation+=e.rotation,e=e.parent}},e.prototype.getBufferTransform=function(t){var e=new n.T;return e.pivotX=t.width/2,e.pivotY=t.height/2,e.translateX=t.width/2-t.padding.left,e.translateY=t.height/2-t.padding.top,e.rotation=-this.parentRotation,e.matrix},e.prototype.updateTransform=function(t,e,i){var r=this.getDistance(),o=r.xDistance,a=r.yDistance,s=this.getOffset(t),h=s.xOffset,c=s.yOffset,l=t.worldTransform,u=.5*e,f=.5*i,d=u+(h*l.a+c*l.c)+(o*l.a+a*l.c)/t.scaleX,g=f+(h*l.b+c*l.d)+(o*l.b+a*l.d)/t.scaleY;if(this.inner)this.transform.set(1,0,0,1,d-u,g-f);else{this.updateSkew();var y=(new n.C).rotate(t.rotation),v=this.scaleX*Math.abs(y.a)+this.scaleY*Math.abs(y.c),m=this.scaleX*Math.abs(y.b)+this.scaleY*Math.abs(y.d);this.transform.set(1,0,0,1,-u,-f).prepend(p).scale(v,m).rotate(this.parentRotation).translate(d,g)}},e.prototype.updateFilterTransform=function(t){var e=this.getDistance(),i=e.xDistance,n=e.yDistance,r=this.getFilterOffset(t),o=r.xOffset+i,a=r.yOffset+n;this.inner?this.filterTransform.set(1,0,0,1,o,a):(this.updateSkew(),this.filterTransform.set(1,0,0,1,0,0).prepend(p).scale(this.scaleX,this.scaleY).translate(o,a))},e.prototype.getShadowBounds=function(t){return f.clear().addBounds(t).pad(d.setEvenly(2*this.blur)).transform(this.transform)},e.prototype.getOffset=function(t){var e=this.contextSx*t.width,i=this.contextSy*t.height,r=Math.tan(this.skewAngleX*n.n*(this.contextSx/this.contextSy)),o=Math.tan(this.skewAngleY*n.n*(this.contextSy/this.contextSx));return{xOffset:e*(.5-this.originX)*(this.scaleX-1)+i*r*(.5-this.originY)*this.scaleX,yOffset:i*(.5-this.originY)*(this.scaleY-1)+e*o*(.5-this.originX)*this.scaleY}},e.prototype.getFilterOffset=function(t){var e=this.contextSx*t.width,i=this.contextSy*t.height,r=Math.tan(this.skewAngleX*n.n*(this.contextSx/this.contextSy)),o=Math.tan(this.skewAngleY*n.n*(this.contextSy/this.contextSx));return{xOffset:e*-this.originX*(this.scaleX-1)+i*r*-this.originY*this.scaleX,yOffset:i*-this.originY*(this.scaleY-1)+e*o*-this.originX*this.scaleY}},e.prototype.getDistance=function(){var t=this.angle-(this.inner?180:0);return{xDistance:this.distance*Math.cos(t*n.n)*this.contextSx,yDistance:this.distance*Math.sin(t*n.n)*this.contextSy}},e.prototype.updateSkew=function(){p.b=Math.tan(this.skewAngleY*n.n*(this.contextSy/this.contextSx)),p.c=Math.tan(this.skewAngleX*n.n*(this.contextSx/this.contextSy))},Object.defineProperties(e.prototype,i),e}(n.r);u.defaults={inner:!1,color:n.h.Black,blur:4,distance:4,angle:45,scaleX:1,scaleY:1,skewAngleX:0,skewAngleY:0,originX:.5,originY:.5};var f=new n.c,d=new n.F,p=new n.C;Object(n.ab)(u,[["$",function(){return u.name}],"inner","color","blur","distance","angle","scaleX","scaleY","skewAngleX","skewAngleY","originX","originY"]);var g=function(t){function e(e){var i;void 0===e&&(e={}),t.call(this),this.type="sharpen",this.convolutionFilter=new n.l;var r=Object(n.Y)(this);this._size=null!=(i=e.size)?i:r.size}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={size:{configurable:!0}};return i.size.get=function(){return this._size},i.size.set=function(t){this._size!==t&&(this._size=t,this._updated())},e.prototype.apply=function(t,e){0!==this.size&&(this.updateFilters(),this.convolutionFilter.forbidWebgl=this.forbidWebgl,this.convolutionFilter.apply(t,e))},e.prototype.updateFilters=function(){var t=this.size,e=16*t+1,i=-4*t;this.convolutionFilter.kernel=[0,i,0,i,e,i,0,i,0]},Object.defineProperties(e.prototype,i),e}(n.r);g.defaults={size:4},Object(n.ab)(g,[["$",function(){return g.name}],"size"]);var y=function(t){function e(e){var i,r;void 0===e&&(e={}),t.call(this),this.type="soft-edge",this.morphologyFilter=new n.D,this.blurFilter=new n.b;var o=Object(n.Y)(this);this._size=null!=(i=e.size)?i:o.size,this._isPicture=null!=(r=e.isPicture)?r:o.isPicture,this.morphologyFilter.mode=n.E.Erode,this.morphologyFilter.ignoreAlpha=!0,this.blurFilter.maxPadX=1/0,this.blurFilter.maxPadY=1/0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={size:{configurable:!0},isPicture:{configurable:!0}};return i.size.get=function(){return this._size},i.size.set=function(t){this._size!==t&&(this._size=t,this._updated())},i.isPicture.get=function(){return this._isPicture},i.isPicture.set=function(t){this._isPicture!==t&&(this._isPicture=t,this._updated())},e.prototype.apply=function(t,e,i,r){if(0!==this.size){var o=n.g.getInstance().checkOut(e.constructor);o.resetBufferInfo(e,e.width,e.height,e.resolution,!0),o.padding.copyFrom(e.padding),o.transform=n.C.Identity,o.drawCanvas(e),this.updateFilters(e.contextScale.sx,e.contextScale.sy),this.morphologyFilter.forbidWebgl=this.forbidWebgl,this.morphologyFilter.apply(t,o,i,r),this.blurFilter.forbidWebgl=this.forbidWebgl,this.blurFilter.apply(t,o,i,r),e.transform=n.C.Identity,e.globalCompositeOperation="destination-in",e.drawCanvas(o),e.globalCompositeOperation="source-over",n.g.getInstance().checkIn(o)}},e.prototype.updateFilters=function(t,e){var i=this.size;this.morphologyFilter.radiusX=i*t,this.morphologyFilter.radiusY=i*e,this.morphologyFilter.isPicture=this.isPicture,this.blurFilter.radiusX=i*t,this.blurFilter.radiusY=i*e},Object.defineProperties(e.prototype,i),e}(n.r);y.defaults={size:4,isPicture:!1},Object(n.ab)(y,[["$",function(){return y.name}],"size"])},"516fa97df2":function(t,e,i){"use strict";i.d(e,"a",(function(){return Et})),i.d(e,"b",(function(){return ae})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return st})),i.d(e,"e",(function(){return ht})),i.d(e,"f",(function(){return kt})),i.d(e,"g",(function(){return it})),i.d(e,"h",(function(){return O})),i.d(e,"i",(function(){return _t})),i.d(e,"j",(function(){return Ot})),i.d(e,"k",(function(){return Tt})),i.d(e,"l",(function(){return le})),i.d(e,"m",(function(){return Ut})),i.d(e,"n",(function(){return y})),i.d(e,"o",(function(){return yt})),i.d(e,"p",(function(){return k})),i.d(e,"q",(function(){return wt})),i.d(e,"r",(function(){return re})),i.d(e,"s",(function(){return Se})),i.d(e,"t",(function(){return Oe})),i.d(e,"u",(function(){return It})),i.d(e,"v",(function(){return be})),i.d(e,"w",(function(){return Ht})),i.d(e,"x",(function(){return xe})),i.d(e,"y",(function(){return Dt})),i.d(e,"z",(function(){return I})),i.d(e,"A",(function(){return M})),i.d(e,"B",(function(){return Mt})),i.d(e,"C",(function(){return c})),i.d(e,"D",(function(){return ve})),i.d(e,"E",(function(){return ge})),i.d(e,"F",(function(){return ot})),i.d(e,"G",(function(){return $})),i.d(e,"H",(function(){return s})),i.d(e,"I",(function(){return dt})),i.d(e,"J",(function(){return Vt})),i.d(e,"K",(function(){return zt})),i.d(e,"L",(function(){return Jt})),i.d(e,"M",(function(){return P})),i.d(e,"N",(function(){return we})),i.d(e,"O",(function(){return Bt})),i.d(e,"P",(function(){return Ee})),i.d(e,"Q",(function(){return Zt})),i.d(e,"R",(function(){return $t})),i.d(e,"S",(function(){return Kt})),i.d(e,"T",(function(){return l})),i.d(e,"U",(function(){return R})),i.d(e,"V",(function(){return a})),i.d(e,"W",(function(){return et})),i.d(e,"X",(function(){return pe})),i.d(e,"Y",(function(){return ne})),i.d(e,"Z",(function(){return ce})),i.d(e,"ab",(function(){return r}));var n=i("dd51755b31");function r(t,e){void 0===e&&(e=[])}var o=function(){function t(){this._id=1,this._updateListeners=[],this._updated=this._updated.bind(this)}return t.prototype._addUpdateListener=function(t){this._updateListeners.push(t)},t.prototype._removeUpdateListener=function(t){var e=this._updateListeners.indexOf(t);e>=0&&this._updateListeners.splice(e,1)},t.prototype._updated=function(){this._id+=1;for(var t=0,e=this._updateListeners;t<e.length;t+=1){(0,e[t])()}},t}();function a(t,e){var i="_"+e;return function(t,e,i){var n=Object.assign({},{configurable:!0},i);return Object.defineProperty(t,e,n),n}(t,e,{enumerable:!0,get:function(){return this[i]},set:function(t){this[i]!==t&&(this[i]=t,this._updated())}})}var s=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.from=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.add=function(t,e){return void 0===e&&(e=t),this.x+=t,this.y+=e,this},t.prototype.multiply=function(t,e){return void 0===e&&(e=t),this.x*=t,this.y*=e,this},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.angleBetween=function(t){return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},t.prototype.distanceBetween=function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(Math.pow(e,2)+Math.pow(i,2))},t.prototype.clone=function(){return new t(this.x,this.y)},t}();r();var h=function(t){function e(e,i,n,r,o,a){void 0===e&&(e=1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===o&&(o=0),void 0===a&&(a=0),t.call(this),this.a=e,this.b=i,this.c=n,this.d=r,this.tx=o,this.ty=a}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={matrix:{configurable:!0}};return e.fromMatrix=function(t){return new e(t.a,t.b,t.c,t.d,t.tx,t.ty)},i.matrix.get=function(){return this},e.prototype.set=function(t,e,i,n,r,o){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=o,this._updated(),this},e.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this._updated(),this},e.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this._updated(),this},e.prototype.scaleInSitu=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this._updated(),this},e.prototype.rotate=function(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t),n=this,r=n.a,o=n.c,a=n.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=o*e-this.d*i,this.d=o*i+this.d*e,this.tx=a*e-this.ty*i,this.ty=a*i+this.ty*e,this._updated(),this},e.prototype.append=function(t){var e=this,i=e.a,n=e.b,r=e.c,o=e.d;return this.a=t.a*i+t.b*r,this.b=t.a*n+t.b*o,this.c=t.c*i+t.d*r,this.d=t.c*n+t.d*o,this.tx=t.tx*i+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*o+this.ty,this._updated(),this},e.prototype.prepend=function(t){var e=this,i=e.a,n=e.c,r=e.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d),this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this._updated(),this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this._updated(),this},e.prototype.invert=function(){var t=this,e=t.a,i=t.b,n=t.c,r=t.d,o=t.tx,a=e*r-i*n;return this.a=r/a,this.b=-i/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-r*o)/a,this.ty=-(e*this.ty-i*o)/a,this._updated(),this},e.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this._updated(),this},e.prototype.apply=function(t,e){void 0===e&&(e=new s(0,0));var i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e},e.prototype.applyInverse=function(t,e){void 0===e&&(e=new s(0,0));var i=t.x,n=t.y,r=1/(this.a*this.d+this.c*-this.b);return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},Object.defineProperties(e.prototype,i),e}(o),c=h;c.Identity=Object.freeze(new h),r(0,["a","b","c","d","tx","ty"]);var l=function(t){function e(){t.call(this),this._matrix=new c,this._cachedId=1,this._pivotX=0,this._pivotY=0,this._scaleX=1,this._scaleY=1,this._skewX=0,this._skewY=0,this._rotation=0,this._translateX=0,this._translateY=0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={pivotX:{configurable:!0},pivotY:{configurable:!0},scaleX:{configurable:!0},scaleY:{configurable:!0},skewX:{configurable:!0},skewY:{configurable:!0},rotation:{configurable:!0},translateX:{configurable:!0},translateY:{configurable:!0},matrix:{configurable:!0}};return i.pivotX.get=function(){return this._pivotX},i.pivotX.set=function(t){this._pivotX!==t&&(this._pivotX=t,this._updated())},i.pivotY.get=function(){return this._pivotY},i.pivotY.set=function(t){this._pivotY!==t&&(this._pivotY=t,this._updated())},i.scaleX.get=function(){return this._scaleX},i.scaleX.set=function(t){this._scaleX!==t&&(this._scaleX=t,this._updated())},i.scaleY.get=function(){return this._scaleY},i.scaleY.set=function(t){this._scaleY!==t&&(this._scaleY=t,this._updated())},i.skewX.get=function(){return this._skewX},i.skewX.set=function(t){this._skewX!==t&&(this._skewX=t,this._updated())},i.skewY.get=function(){return this._skewY},i.skewY.set=function(t){this._skewY!==t&&(this._skewY=t,this._updated())},i.rotation.get=function(){return this._rotation},i.rotation.set=function(t){this._rotation!==t&&(this._rotation=t,this._updated())},i.translateX.get=function(){return this._translateX},i.translateX.set=function(t){this._translateX!==t&&(this._translateX=t,this._updated())},i.translateY.get=function(){return this._translateY},i.translateY.set=function(t){this._translateY!==t&&(this._translateY=t,this._updated())},i.matrix.get=function(){if(this._cachedId!==this._id){this._cachedId=this._id;var t=Math.cos(this.rotation+this.skewY),e=Math.sin(this.rotation+this.skewY),i=-Math.sin(this.rotation-this.skewX),n=Math.cos(this.rotation-this.skewX),r=t*this.scaleX,o=e*this.scaleX,a=i*this.scaleY,s=n*this.scaleY,h=this.translateX-(this.pivotX*r+this.pivotY*a),c=this.translateY-(this.pivotX*o+this.pivotY*s);this._matrix.set(r,o,a,s,h,c)}return this._matrix},Object.defineProperties(e.prototype,i),e}(o),u=function(t){function e(e){t.call(this),this._parent=null,this._cachedTransformId=0,this._cachedParentId=0,this.transform=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setParent=function(t){this._parent!==t&&(this._parent=t,this._cachedTransformId=0,this._cachedParentId=0)},e.prototype.update=function(){var t=this._cachedTransformId!==this.transform._id,e=this._parent&&this._cachedParentId!==this._parent._id;(t||e)&&(this.copyFrom(this.transform.matrix),this._cachedTransformId=this.transform._id,this._parent&&(this.prepend(this._parent),this._cachedParentId=this._parent._id))},e.prototype.updateRecursively=function(){var t;null==(t=this._parent)||t.updateRecursively(),this.update()},e}(c);l.None=Object.freeze(new l),r(0,["pivotX","pivotY","scaleX","scaleY","skewX","skewY","rotation","translateX","translateY"]),r(0,[["transform",!1]]);var f=function(t){function e(){t.call(this),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={isEmpty:{configurable:!0},x:{configurable:!0},y:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.isEmpty=function(t){return t.minX>t.maxX||t.minY>t.maxY},i.isEmpty.get=function(){return e.isEmpty(this)},i.x.get=function(){return this.isEmpty?0:this.minX},i.y.get=function(){return this.isEmpty?0:this.minY},i.width.get=function(){return this.isEmpty?0:this.maxX-this.minX},i.height.get=function(){return this.isEmpty?0:this.maxY-this.minY},e.prototype.clear=function(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this._updated(),this},e.prototype.set=function(t,e,i,n){return this.minX=t,this.minY=e,this.maxX=i,this.maxY=n,this._updated(),this},e.prototype.addPoint=function(t,e){return this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t),this.minY=Math.min(this.minY,e),this.maxY=Math.max(this.maxY,e),this._updated(),this},e.prototype.addPointMatrix=function(t,e,i){var n=t.a,r=t.b,o=t.c,a=t.d,s=n*e+o*i+t.tx,h=r*e+a*i+t.ty;return this.addPoint(s,h)},e.prototype.addFrame=function(t,e,i,n){return this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,i),this.minY=Math.min(this.minY,e),this.maxY=Math.max(this.maxY,n),this._updated(),this},e.prototype.addFrameMatrix=function(t,e,i,n,r){return this.addPointMatrix(t,e,i),this.addPointMatrix(t,n,i),this.addPointMatrix(t,e,r),this.addPointMatrix(t,n,r),this},e.prototype.addBounds=function(t){return e.isEmpty(t)?this:this.addFrame(t.minX,t.minY,t.maxX,t.maxY)},e.prototype.addBoundsMatrix=function(t,i){return e.isEmpty(i)?this:this.addFrameMatrix(t,i.minX,i.minY,i.maxX,i.maxY)},e.prototype.addBoundsRound=function(){return this.minX=Math.floor(this.minX),this.maxX=Math.ceil(this.maxX),this.minY=Math.floor(this.minY),this.maxY=Math.ceil(this.maxY),this},e.prototype.pad=function(t){return this.minX-=t.left,this.minY-=t.top,this.maxX+=t.right,this.maxY+=t.bottom,this._updated(),this},e.prototype.transform=function(t){var e=this,i=e.minX,n=e.minY,r=e.maxX,o=e.maxY;return this.clear().addFrameMatrix(t,i,n,r,o)},e.prototype.paddingTo=function(t,e){return e.top=this.minY-t.minY,e.right=t.maxX-this.maxX,e.bottom=t.maxY-this.maxY,e.left=this.minX-t.minX,e},Object.defineProperties(e.prototype,i),e}(o),d=function(){function t(t,e){this.value=new f,this._cachedBoundsId=0,this._cachedTransformId=0,this.bounds=t,this.transform=e}return t.prototype.update=function(){var t=this._cachedBoundsId!==this.bounds._id,e=this._cachedTransformId!==this.transform._id;(t||e)&&(this.value.clear().addBoundsMatrix(this.transform.matrix,this.bounds),this._cachedBoundsId=this.bounds._id,this._cachedTransformId=this.transform._id)},t.prototype.updateRecursively=function(){this.transform instanceof u&&this.transform.updateRecursively(),this.update()},t}();r(0,["minX","minY","maxX","maxY","x","y","width","height"]);var p=Math.PI,g=180/p,y=p/180,v=1e-12,m=112e-18;function _(t){return t>=-m&&t<=m}var x=Math.abs;function b(t,e,i,n){var r,o=1/0;if(x(t)<v){if(x(e)<v)return x(i)<v?-1:0;r=-i/e}else{var a=w(t,e*=-.5,i);if(a&&x(a)<m){var s=function(t,e,i){var n=Math.max(t,e,i);return n&&(n<1e-8||n>1e8)?Math.pow(2,-Math.round(Math.log2(n))):0}(x(t),x(e),x(i));s&&(a=w(t*=s,e*=s,i*=s))}if(a>=-m){var h=a<0?0:Math.sqrt(a),c=e+(e<0?-h:h);0===c?o=-(r=i/t):(r=c/t,o=i/c)}}var l=0;return isFinite(r)&&(n[l++]=r),o!==r&&isFinite(o)&&(n[l++]=o),l}function w(t,e,i){function n(t){var e=134217729*t,i=t-e+e;return[i,t-i]}var r=e*e-t*i,o=e*e+t*i;if(3*x(r)<o){var a=n(t),s=n(e),h=n(i),c=e*e,l=t*i;r=c-l+(s[0]*s[0]-c+2*s[0]*s[1]+s[1]*s[1]-(a[0]*h[0]-l+a[0]*h[1]+a[1]*h[0]+a[1]*h[1]))}return r}var T=function(){function t(t,e,i,n,r){this.red=t,this.green=e,this.blue=i,this.alpha=n,this.hex=r,this.rgba="rgba("+t+","+e+","+i+","+n/255+")"}return t.fromRGB=function(t,e,i){return this.from(t,e,i,255)},t.fromRGBA=function(t,e,i,n){return this.from(t,e,i,255*n)},t.fromHex=function(t,e){if(void 0===e&&(e=1),"string"==typeof t){var i="#"===t[0]?t.slice(1):t,n=C(i.slice(0,2)),r=C(i.slice(2,4)),o=C(i.slice(4,6));return this.from(n,r,o,255*e)}var a=t>>16&255,s=t>>8&255,h=255&t;return this.from(a,s,h,255*e)},t.fromHex8=function(t){if("string"==typeof t){var e="#"===t[0]?t.slice(1):t,i=C(e.slice(0,2)),n=C(e.slice(2,4)),r=C(e.slice(4,6)),o=C(e.slice(6,8));return this.from(i,n,r,o)}var a=t>>24&255,s=t>>16&255,h=t>>8&255,c=255&t;return this.from(a,s,h,c)},t.dispose=function(){this.pool={}},t.from=function(e,i,n,r){var o=S(e),a=S(i),s=S(n),h=S(r),c="#"+E(o)+E(a)+E(s)+E(h);return this.pool[c]||(this.pool[c]=new t(o,a,s,h,c)),this.pool[c]},t}(),O=T;function S(t){return Number.isNaN(t)?0:Math.min(255,Math.max(0,Math.floor(t)))}function C(t){return parseInt(t,16)}function E(t){return t.toString(16).padStart(2,"0")}function R(t,e,i){return Math.min(i,Math.max(e,t))}O.pool={},O.Black=O.fromRGB(0,0,0),O.White=O.fromRGB(255,255,255),O.Transparent=O.fromRGBA(0,0,0,0),r(0,[["red",!1],["green",!1],["blue",!1],["alpha",!1]]);var k=function(t){function e(){t.call(this),this._alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={alpha:{configurable:!0}};return i.alpha.get=function(){return this._alpha},i.alpha.set=function(t){this._alpha!==t&&(this._alpha=t,this._updated())},e.prototype.isEmpty=function(){return!1},e.prototype.applyTo=function(t,e){void 0===e&&(e=t.bounds);var i=this.getNative(t,e);t.nativeFillStyle=i instanceof O?i.rgba:i,1!==this.alpha&&(t.globalAlpha*=R(this.alpha,0,1))},e.prototype.applyToStroke=function(t,e){void 0===e&&(e=t.bounds);var i=this.getNative(t,e);t.nativeStrokeStyle=i instanceof O?i.rgba:i,1!==this.alpha&&(t.globalAlpha*=R(this.alpha,0,1))},e.prototype.applyTransformTo=function(t,e){void 0===e&&(e=t.bounds);var i=this.getTransform(t,e);t.transform=L.copyFrom(t.transform).append(i)},e.prototype.generateRawRenderData=function(t){return{noFill:1}},e.prototype.getNative=function(t,e){return O.Transparent},e.prototype.getTransform=function(t,e){return c.Identity},Object.defineProperties(e.prototype,i),e}(o),A=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEmpty=function(){return!0},e.prototype._addUpdateListener=function(){},e.prototype._removeUpdateListener=function(){},e.prototype._updated=function(){},e}(k);k.None=Object.freeze(new A);var L=new c;r(0,[]),r(0,[["$",function(){return A.name}]]);var P=function(t){function e(){t.call(this),this._fill=k.None,this._width=0,this._lineJoin=M.Miter,this._lineCap=I.Butt,this._miterLimit=10,this._dash=B,this._dashOffset=0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},lineJoin:{configurable:!0},lineCap:{configurable:!0},miterLimit:{configurable:!0},dash:{configurable:!0},dashOffset:{configurable:!0},fill:{configurable:!0}};return i.width.get=function(){return this._width},i.width.set=function(t){this._width!==t&&(this._width=t,this._updated())},i.lineJoin.get=function(){return this._lineJoin},i.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this._updated())},i.lineCap.get=function(){return this._lineCap},i.lineCap.set=function(t){this._lineCap!==t&&(this._lineCap=t,this._updated())},i.miterLimit.get=function(){return this._miterLimit},i.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this._updated())},i.dash.get=function(){return this._dash},i.dash.set=function(t){this._dash!==t&&(this._dash=t,this._updated())},i.dashOffset.get=function(){return this._dashOffset},i.dashOffset.set=function(t){this._dashOffset!==t&&(this._dashOffset=t,this._updated())},i.fill.get=function(){return this._fill},i.fill.set=function(t){this._fill!==t&&(this._fill._removeUpdateListener(this._updated),t._addUpdateListener(this._updated),this._fill=t,this._updated())},e.prototype.isEmpty=function(){return 0===this.width||this.fill.isEmpty()},e.prototype.applyTo=function(t){t.lineWidth=this.width,t.lineJoin=this.lineJoin,t.lineCap=this.lineCap,t.miterLimit=this.miterLimit,t.lineDash=this.dash,t.lineDashOffset=this.dashOffset},e.prototype.dispose=function(){this._fill._removeUpdateListener(this._updated)},Object.defineProperties(e.prototype,i),e}(o),I=function(t){return t.Butt="butt",t.Round="round",t.Square="square",t}(I||{}),M=function(t){return t.Miter="miter",t.Bevel="bevel",t.Round="round",t}(M||{}),B=Object.freeze([]);r(0,["width","lineJoin","lineCap","miterLimit","dash","dashOffset","fill"]);var D=function(t){return t.MoveTo="M",t.LineTo="L",t.CurveTo="C",t.QuadraticCurveTo="Q",t.ClosePath="Z",t}(D||{}),F=function(){function t(t,e){this.x=t,this.y=e,this.cmd="M"}var e={seg:{configurable:!0}};return e.seg.get=function(){return{args:{x:this.x,y:this.y}}},Object.defineProperties(t.prototype,e),t}(),N=function(){function t(t,e,i,n){this.startX=t,this.startY=e,this.x=i,this.y=n,this.cmd="L"}var e={cp1x:{configurable:!0},cp1y:{configurable:!0},cp2x:{configurable:!0},cp2y:{configurable:!0},seg:{configurable:!0}};return e.cp1x.get=function(){return this.startX},e.cp1y.get=function(){return this.startY},e.cp2x.get=function(){return this.x},e.cp2y.get=function(){return this.y},e.seg.get=function(){return{args:{x1:this.x,y1:this.y,x2:this.x,y2:this.y,x:this.x,y:this.y}}},Object.defineProperties(t.prototype,e),t}(),j=function(){function t(t,e,i,n,r,o,a,s){this.startX=t,this.startY=e,this.x1=i,this.y1=n,this.x2=r,this.y2=o,this.x=a,this.y=s,this.cmd="C"}var e={cp1x:{configurable:!0},cp1y:{configurable:!0},cp2x:{configurable:!0},cp2y:{configurable:!0},seg:{configurable:!0}};return e.cp1x.get=function(){return this.x1},e.cp1y.get=function(){return this.y1},e.cp2x.get=function(){return this.x2},e.cp2y.get=function(){return this.y2},e.seg.get=function(){return{args:{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,x:this.x,y:this.y}}},Object.defineProperties(t.prototype,e),t}(),X=function(){function t(t,e,i,n,r,o){this.startX=t,this.startY=e,this.x1=i,this.y1=n,this.x=r,this.y=o,this.cmd="Q"}var e={cp1x:{configurable:!0},cp1y:{configurable:!0},cp2x:{configurable:!0},cp2y:{configurable:!0},seg:{configurable:!0}};return e.cp1x.get=function(){return this.startX/3+2/3*this.x1},e.cp1y.get=function(){return this.startY/3+2/3*this.y1},e.cp2x.get=function(){return this.x/3+2/3*this.x1},e.cp2y.get=function(){return this.y/3+2/3*this.y1},e.seg.get=function(){var t=this.x/3+2/3*this.x1,e=this.y/3+2/3*this.y1;return{args:{x1:t,y1:e,x2:t,y2:e,x:this.x,y:this.y}}},Object.defineProperties(t.prototype,e),t}(),Y=function(){function t(t,e,i,n){this.startX=t,this.startY=e,this.x=i,this.y=n,this.cmd="Z"}var e={cp1x:{configurable:!0},cp1y:{configurable:!0},cp2x:{configurable:!0},cp2y:{configurable:!0},seg:{configurable:!0}};return e.cp1x.get=function(){return this.startX},e.cp1y.get=function(){return this.startY},e.cp2x.get=function(){return this.x},e.cp2y.get=function(){return this.y},e.seg.get=function(){return{args:{x1:this.x,y1:this.y,x2:this.x,y2:this.y,x:this.x,y:this.y}}},Object.defineProperties(t.prototype,e),t}(),W=function(){function t(){this.output=new f,this.radius=0,this.lineJoin=M.Miter,this.lineCap=I.Butt,this.miterLimit=10,this.startX=0,this.startY=0,this.firstCurve=void 0,this.previousCurve=void 0}return t.calcBounds=function(t,e){return H.exec(t,V),e.clear().addBounds(H.output)},t.calcStrokeBounds=function(t,e,i){return H.exec(t,e),i.clear().addBounds(H.output)},t.prototype.exec=function(t,e){var i,n,r,o;if(this.reset(e),!(t.length<=1))for(var a=0;a<t.length;a++){var s=t[a];if(s.cmd!==D.MoveTo){var h=null!=(n=null==(i=this.previousCurve)?void 0:i.x)?n:this.startX,c=null!=(o=null==(r=this.previousCurve)?void 0:r.y)?o:this.startY;_(h-s.x)&&_(c-s.y)?a===t.length-1&&this.handlePathEnd(this.previousCurve):(this.addCurve(s.startX,s.cp1x,s.cp2x,s.x,"minX","maxX"),this.addCurve(s.startY,s.cp1y,s.cp2y,s.y,"minY","maxY"),this.previousCurve&&this.addJoin(this.previousCurve,s),a===t.length-1&&this.handlePathEnd(s),this.previousCurve=s,this.firstCurve||(this.firstCurve=s))}else this.handlePathEnd(this.previousCurve),this.startX=s.x,this.startY=s.y,this.firstCurve=void 0,this.previousCurve=void 0}},t.prototype.reset=function(t){this.output.clear(),this.radius=t.width/2,this.lineJoin=t.lineJoin,this.lineCap=t.lineCap,this.miterLimit=t.lineJoin===M.Bevel?0:t.miterLimit,this.startX=0,this.startY=0,this.firstCurve=void 0,this.previousCurve=void 0},t.prototype.handlePathEnd=function(t){t&&(this.startX===t.x&&this.startY===t.y?this.firstCurve&&this.addJoin(t,this.firstCurve):(this.addCap(this.firstCurve||t,0),this.addCap(t,1)))},t.prototype.addCurve=function(t,e,i,n,r,o){var a=this.output[r],s=this.output[o];if(t-this.radius<a||e-this.radius<a||i-this.radius<a||n-this.radius<a||t+this.radius>s||e+this.radius>s||i+this.radius>s||n+this.radius>s)if(e<t!=e<n&&i<t!=i<n)this.addPaddedValue(t,this.radius,r,o),this.addPaddedValue(n,this.radius,r,o);else{var h=b(3*(e-i)-t+n,2*(t+i)-4*e,e-t,z);this.addPaddedValue(n,this.radius,r,o);for(var c=0;c<h;c++){var l=z[c],u=1-l;if(1e-8<=l&&l<=.99999999){var f=u*u*u*t+3*u*u*l*e+3*u*l*l*i+l*l*l*n;this.addPaddedValue(f,this.radius,r,o)}}}},t.prototype.addPaddedValue=function(t,e,i,n){var r=t-e,o=t+e;r<this.output[i]&&(this.output[i]=r),o>this.output[n]&&(this.output[n]=o)},t.prototype.addCap=function(t,e){var i=0===e?t.startX:t.x,n=0===e?t.startY:t.y;if(this.lineCap===I.Round)return this.addRound(i,n);var r=U(t,e,G).multiply(0===e?this.radius:-this.radius),o=r.x,a=r.y;this.output.addPoint(i+o,n+a),this.output.addPoint(i-o,n-a),this.lineCap===I.Square&&(this.output.addPoint(i+a+o,n-o+a),this.output.addPoint(i+a-o,n-o-a))},t.prototype.addJoin=function(t,e){this.radius<=0||(this.lineJoin===M.Round?this.addRound(e.startX,e.startY):this.addMiterJoin(t,e))},t.prototype.addMiterJoin=function(t,e){var i=U(t,1,Q).multiply(this.radius),n=U(e,0,K).multiply(this.radius),r=i.angleBetween(n);(r<0||r>=180)&&(i.negate(),n.negate());var o=q.from(t).add(i.x,i.y),a=J.from(t).add(n.x,n.y);if(this.output.addPoint(o.x,o.y),this.output.addPoint(a.x,a.y),0!==this.miterLimit){var s=-i.y*n.x+i.x*n.y;if(!_(s)){var h=o.x-a.x,c=o.y-a.y,l=-(n.y*c+n.x*h)/s,u=o.x+l*-i.y,f=o.y+l*i.x;Math.sqrt(Math.pow(u-t.x,2)+Math.pow(f-t.y,2))<this.miterLimit*this.radius&&this.output.addPoint(u,f)}}},t.prototype.addRound=function(t,e){var i=this.output,n=this.radius;i.addPoint(t-n,e-n),i.addPoint(t+n,e+n)},t}();function U(t,e,i){var n,r;0===e?(n=t.cp1x-t.startX,r=t.cp1y-t.startY):(n=t.x-t.cp2x,r=t.y-t.cp2y),_(n)&&_(r)&&(n=t.x-t.startX,r=t.y-t.startY);var o=Math.sqrt(n*n+r*r);return i.set(r/o,-n/o)}var H=new W,V=new P,G=new s,z=[],q=new s,J=new s,Q=new s,K=new s,$=function(){function t(t){this._s=t,this._pos=0,this._prevCmd=null,this.startX=0,this.startY=0,this.x=0,this.y=0,this.pendingArcCurves=[],this._prevCurve=null,this._prevQuadraticCurve=null}var e={_char:{configurable:!0},_eof:{configurable:!0}};return t.parse=function(e){for(var i,n=new t(e),r=[];i=n.next();)r.push(i);return r},e._char.get=function(){return this._s[this._pos]},e._eof.get=function(){return this._pos>=this._s.length},t.prototype.next=function(){try{return this.pendingArcCurves.length?this.pendingArcCurve():this.readSegment()}catch(t){return null}},t.prototype.readSegment=function(){if(this.readSpaces(),this._eof)return null;var t=this.readCommand();if(null===t)return null;if(null===this._prevCmd&&"M"!==t&&"m"!==t)return null;switch(this._prevCmd=t,t){case"M":return this.moveTo();case"m":return this.moveToRelative();case"L":return this.lineTo();case"l":return this.lineToRelative();case"Z":case"z":return this.closePath();case"C":return this.curveTo();case"c":return this.curveToRelative();case"H":return this.horizontalLineTo();case"h":return this.horizontalLineToRelative();case"V":return this.verticalLineTo();case"v":return this.verticalLineToRelative();case"A":return this.arcTo();case"a":return this.arcToRelative();case"S":return this.smoothCurveTo();case"s":return this.smoothCurveToRelative();case"Q":return this.quadraticCurveTo();case"q":return this.quadraticCurveToRelative();case"T":return this.smoothQuadraticCurveTo();case"t":return this.smoothQuadraticCurveToRelative();default:throw new SyntaxError}},t.prototype.moveTo=function(){var t=new F(this.readNumber(),this.readNumber());return this.startX=t.x,this.startY=t.y,this.x=t.x,this.y=t.y,t},t.prototype.moveToRelative=function(){var t=new F(this.readNumber()+this.x,this.readNumber()+this.y);return this.startX=t.x,this.startY=t.y,this.x=t.x,this.y=t.y,t},t.prototype.lineTo=function(){var t=new N(this.x,this.y,this.readNumber(),this.readNumber());return this.x=t.x,this.y=t.y,t},t.prototype.lineToRelative=function(){var t=new N(this.x,this.y,this.readNumber()+this.x,this.readNumber()+this.y);return this.x=t.x,this.y=t.y,t},t.prototype.closePath=function(){var t=new Y(this.x,this.y,this.startX,this.startY);return this.x=t.x,this.y=t.y,t},t.prototype.curveTo=function(){var t=new j(this.x,this.y,this.readNumber(),this.readNumber(),this.readNumber(),this.readNumber(),this.readNumber(),this.readNumber());return this.x=t.x,this.y=t.y,this._prevCurve=t,t},t.prototype.curveToRelative=function(){var t=new j(this.x,this.y,this.readNumber()+this.x,this.readNumber()+this.y,this.readNumber()+this.x,this.readNumber()+this.y,this.readNumber()+this.x,this.readNumber()+this.y);return this.x=t.x,this.y=t.y,this._prevCurve=t,t},t.prototype.arcTo=function(){return this.arcHelper(this.readNumber(),this.readNumber(),this.readNumber(),this.readFlag(),this.readFlag(),this.readNumber(),this.readNumber())},t.prototype.arcToRelative=function(){return this.arcHelper(this.readNumber(),this.readNumber(),this.readNumber(),this.readFlag(),this.readFlag(),this.readNumber()+this.x,this.readNumber()+this.y)},t.prototype.arcHelper=function(t,e,i,r,o,a,s){var h=this,c=Object(n.a)({px:this.x,py:this.y,rx:t||v,ry:e||v,xAxisRotation:i,largeArcFlag:r,sweepFlag:o,cx:a,cy:s});return 0===c.length?new N(this.x,this.y,this.x,this.y):(this.pendingArcCurves=c.map((function(t,e){var i=t.x1,n=t.y1,r=t.x2,o=t.y2,a=t.x,s=t.y;return 0===e?new j(h.x,h.y,i,n,r,o,a,s):new j(c[e-1].x,c[e-1].y,i,n,r,o,a,s)})),this.pendingArcCurve())},t.prototype.pendingArcCurve=function(){var t=this.pendingArcCurves.shift();return this.x=t.x,this.y=t.y,t},t.prototype.smoothCurveTo=function(){var t=this.x,e=this.y;null!==this._prevCurve&&(t+=t-this._prevCurve.x2,e+=e-this._prevCurve.y2);var i=new j(this.x,this.y,t,e,this.readNumber(),this.readNumber(),this.readNumber(),this.readNumber());return this.x=i.x,this.y=i.y,this._prevCurve=i,i},t.prototype.smoothCurveToRelative=function(){var t=this.x,e=this.y;null!==this._prevCurve&&(t+=t-this._prevCurve.x2,e+=e-this._prevCurve.y2);var i=new j(this.x,this.y,t,e,this.readNumber()+this.x,this.readNumber()+this.y,this.readNumber()+this.x,this.readNumber()+this.y);return this.x=i.x,this.y=i.y,this._prevCurve=i,i},t.prototype.quadraticCurveTo=function(){var t=new X(this.x,this.y,this.readNumber(),this.readNumber(),this.readNumber(),this.readNumber());return this.x=t.x,this.y=t.y,this._prevQuadraticCurve=t,t},t.prototype.quadraticCurveToRelative=function(){var t=new X(this.x,this.y,this.readNumber()+this.x,this.readNumber()+this.y,this.readNumber()+this.x,this.readNumber()+this.y);return this.x=t.x,this.y=t.y,this._prevQuadraticCurve=t,t},t.prototype.smoothQuadraticCurveTo=function(){var t=this.x,e=this.y;null!==this._prevQuadraticCurve&&(t+=t-this._prevQuadraticCurve.x1,e+=e-this._prevQuadraticCurve.y1);var i=new X(this.x,this.y,t,e,this.readNumber()+this.x,this.readNumber()+this.y);return this.x=i.x,this.y=i.y,this._prevQuadraticCurve=i,i},t.prototype.smoothQuadraticCurveToRelative=function(){var t=this.x,e=this.y;null!==this._prevQuadraticCurve&&(t+=t-this._prevQuadraticCurve.x1,e+=e-this._prevQuadraticCurve.y1);var i=new X(this.x,this.y,t,e,this.readNumber(),this.readNumber());return this.x=i.x,this.y=i.y,this._prevQuadraticCurve=i,i},t.prototype.horizontalLineTo=function(){var t=new N(this.x,this.y,this.readNumber(),this.y);return this.x=t.x,t},t.prototype.horizontalLineToRelative=function(){var t=new N(this.x,this.y,this.readNumber()+this.x,this.y);return this.x=t.x,t},t.prototype.verticalLineTo=function(){var t=new N(this.x,this.y,this.x,this.readNumber());return this.y=t.y,t},t.prototype.verticalLineToRelative=function(){var t=new N(this.x,this.y,this.x,this.readNumber()+this.y);return this.y=t.y,t},t.prototype.advance=function(){this._pos+=1},t.prototype.readSpaces=function(){for(;!this._eof&&Z(this._char);)this.advance()},t.prototype.readCommand=function(){var t=this._char;if(!function(t){switch(t){case"M":case"m":case"L":case"l":case"Z":case"z":case"C":case"c":case"H":case"h":case"V":case"v":case"A":case"a":case"S":case"s":case"Q":case"q":case"T":case"t":return!0;default:return!1}}(t)){var e=this._prevCmd;return e&&function(t){switch(t){case"-":case"0":case"1":case".":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return!0;default:return!1}}(t)?"M"===e?"L":"m"===e?"l":"Z"===e||"z"===e?null:e:null}return this.advance(),t},t.prototype.readNumber=function(){if(this.readSpaces(),this._eof)throw new SyntaxError;for(var t,e=!1,i=!1,n=!0,r=this._pos,o=r;t=this._s[o];){if(tt(t))n&&(n=!1);else if("."===t){if(e)break;n=!1,e=!0}else if("-"===t||"+"===t){if(!n)break;n=!1}else{if("e"!==t&&"E"!==t)break;if(i)break;i=!0,n=!0}o+=1}return this._pos=o,+this._s.slice(r,o)},t.prototype.readFlag=function(){if(this.readSpaces(),this._eof)throw new SyntaxError;var t=this._char;if(this.advance(),"0"===t)return 0;if("1"===t)return 1;throw new SyntaxError},Object.defineProperties(t.prototype,e),t}();function Z(t){switch(t){case" ":case",":case"\n":case"\r":case"\t":return!0;default:return!1}}function tt(t){switch(t){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return!0;default:return!1}}function et(t,e){t.beginPath();for(var i=0,n=e;i<n.length;i+=1){var r=n[i];switch(r.cmd){case D.MoveTo:t.moveTo(r.x,r.y);break;case D.LineTo:t.lineTo(r.x,r.y);break;case D.ClosePath:t.closePath();break;case D.CurveTo:t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y);break;case D.QuadraticCurveTo:t.quadraticCurveTo(r.x1,r.y1,r.x,r.y)}}}var it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.checkIn=function(e){t.prototype.checkIn.call(this,e),e.width=0,e.height=0,e.clear(),e.padding.clear(),e.bounds.clear(),e.parent=void 0,e.isBuffer=!1,e.contextScale.sx=1,e.contextScale.sy=1,e.autoMount&&(e.autoMount=!1)},e.prototype.checkOut=function(e,i){var n=t.prototype.checkOut.call(this,e);return(null==i?void 0:i.autoMount)&&(n.autoMount=!0),n},e.prototype.sizeAvailable=function(){return this.availableObjects.size>0||this.size()<this.sizeLimit},e.prototype.create=function(t){return new t(this.createOptions)},e}(function(){function t(){this.availableObjects=new Set,this.inUseObjects=new Set,this.sizeLimit=1/0}return t.prototype.checkOut=function(t){var e;return 0===this.availableObjects.size?e=this.create(t):(e=this.availableObjects.values().next().value,this.availableObjects.delete(e)),this.inUseObjects.add(e),e},t.prototype.checkIn=function(t){this.inUseObjects.has(t)&&this.inUseObjects.delete(t),this.availableObjects.add(t)},t.prototype.size=function(){return this.availableObjects.size+this.inUseObjects.size},t.prototype.create=function(t){return new t},t}());function nt(t){return Math.sign(t)*Math.ceil(Math.abs(t))}var rt=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.set(t,e,i,n)}return t.prototype.copyFrom=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},t.prototype.clear=function(){return this.top=0,this.right=0,this.bottom=0,this.left=0,this},t.prototype.add=function(t){return this.top+=t.top,this.right+=t.right,this.bottom+=t.bottom,this.left+=t.left,this},t.prototype.overlay=function(t){return this.top=Math.max(this.top,t.top),this.right=Math.max(this.right,t.right),this.bottom=Math.max(this.bottom,t.bottom),this.left=Math.max(this.left,t.left),this},t.prototype.scale=function(t,e){return void 0===e&&(e=t),this.top*=e,this.right*=t,this.bottom*=e,this.left*=t,this},t.prototype.expand=function(){return this.top=nt(this.top),this.right=nt(this.right),this.bottom=nt(this.bottom),this.left=nt(this.left),this},t.prototype.set=function(t,e,i,n){return this.top=t,this.right=e,this.bottom=i,this.left=n,this},t.prototype.setEvenly=function(t){return this.set(t,t,t,t)},t.prototype.flip=function(){return this.set(this.bottom,this.left,this.top,this.right)},t}(),ot=rt;ot.Zero=new rt,r();var at=function(t){function e(e){t.call(this),this.renderBuffer=null,this.renderImageCache=null,this.renderImageInfo={bounds:new f,padding:new ot,width:0,height:0,sx:1,sy:1},this.hitBuffer=null,this.hitImageCache=null,this.hitImageInfo={bounds:new f,padding:new ot,width:0,height:0},this.isManual=!1,this._renderId=0,this._bounds=new f,this._worldTransformId=0,this._worldTransformInverted=new c,this._transformToCurrentPlace=new c,this._markedReuse=!1,this.renderImageVersion=0,this.hitImageVersion=0,this.obj=e,this._rendering=ht.Auto}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={rendering:{configurable:!0},isEmpty:{configurable:!0},isValid:{configurable:!0},isHitValid:{configurable:!0},_isRenderValid:{configurable:!0}};return i.rendering.get=function(){return this._rendering},i.rendering.set=function(t){this._rendering!==t&&(this._rendering=t,this._updated())},i.isEmpty.get=function(){return null===this.renderBuffer&&(null===this.renderImageCache||this.renderImageCache.loading)},i.isValid.get=function(){return!this.isEmpty&&this._isRenderValid&&this._canReuse()},i.isHitValid.get=function(){return(!!this.hitBuffer||!!this.hitImageCache&&!this.hitImageCache.loading)&&this.isValid},i._isRenderValid.get=function(){return this._renderId===this.obj._id},e.prototype.getTransform=function(t){return this._transformToCurrentPlace.set(1,0,0,1,this._bounds.x,this._bounds.y).prepend(this._worldTransformInverted).prepend(t||this.obj.worldTransform)},e.prototype.update=function(t,i,n){var r=this;if(this.renderBuffer=t,e.options.cacheAsImage&&(this.renderImageVersion+=1,this.renderImageCache=null,this.obj.app)){var o=this.obj.app.target.loader,a=this.renderImageVersion;setTimeout((function(){r.renderImageVersion===a&&t===r.renderBuffer&&t.toBlob((function(e){if(r.renderImageVersion===a&&t===r.renderBuffer&&0!==t.width&&0!==t.height&&e){var i=URL.createObjectURL(e),n=o.loadImage(i);r.renderImageCache=n,r.renderImageInfo.bounds.clear().addBounds(t.bounds),r.renderImageInfo.padding.copyFrom(t.padding),r.renderImageInfo.width=t.width,r.renderImageInfo.height=t.height,r.renderImageInfo.sx=t.contextScale.sx,r.renderImageInfo.sy=t.contextScale.sy,r.renderImageCache.onImageLoaded((function(){r.renderBuffer!==t&&it.getInstance().checkIn(t),n===r.renderImageCache&&r.renderImageVersion===a&&r.renderBuffer===t&&(it.getInstance().checkIn(t),r.renderBuffer=null),URL.revokeObjectURL(i)})),r.renderImageCache.onImageErrored((function(){r.renderBuffer!==t&&it.getInstance().checkIn(t),URL.revokeObjectURL(i),n===r.renderImageCache&&(r.renderImageCache=null)}))}}))}),0)}this._clearHitCache(),this._renderId=this.obj._id,this._bounds.clear().addBounds(i);var s=n||this.obj.worldTransform;this._worldTransformId=s._id,this._worldTransformInverted.copyFrom(s).invert()},e.prototype.updateHit=function(t){var i=this;if(this.hitBuffer=t,e.options.cacheAsImage){if(this.hitImageVersion+=1,this.hitImageCache=null,!this.obj.app)return;var n=this.obj.app.target.loader,r=this.hitImageVersion;setTimeout((function(){i.hitImageVersion===r&&i.hitBuffer===t&&t.toBlob((function(e){if(i.hitImageVersion===r&&i.hitBuffer===t&&e){var o=URL.createObjectURL(e),a=n.loadImage(o);i.hitImageCache=a,i.hitImageInfo.padding.copyFrom(t.padding),i.hitImageInfo.width=t.width,i.hitImageInfo.height=t.height,i.hitImageCache.onImageLoaded((function(){URL.revokeObjectURL(o),i.hitBuffer!==t&&it.getInstance().checkIn(t),a===i.hitImageCache&&r===i.hitImageVersion&&i.hitBuffer===t&&(it.getInstance().checkIn(t),i.hitBuffer=null)})),i.hitImageCache.onImageErrored((function(){i.hitBuffer!==t&&it.getInstance().checkIn(t),URL.revokeObjectURL(o),a===i.hitImageCache&&(i.hitImageCache=null)}))}}))}),0)}},e.prototype.markReuse=function(){this._markedReuse=this._isRenderValid},e.prototype.tryReuse=function(){this._markedReuse&&(this._renderId=this.obj._id),this._markedReuse=!1},e.prototype.clear=function(){this.isEmpty||(this._clearRenderCache(),this._clearHitCache(),this.isManual=!1,this._renderId=0,this._bounds.clear(),this._worldTransformId=0,this._worldTransformInverted.identity())},e.prototype.dispose=function(){this._clearRenderCache(),this._clearHitCache()},e.prototype._clearRenderCache=function(){this.renderBuffer&&(it.getInstance().checkIn(this.renderBuffer),this.renderBuffer=null),this.renderImageCache=null,this.renderImageInfo.bounds.clear(),this.renderImageInfo.padding.clear(),this.renderImageInfo.width=0,this.renderImageInfo.height=0,this.renderImageInfo.sx=1,this.renderImageInfo.sy=1},e.prototype._clearHitCache=function(){this.hitBuffer&&(it.getInstance().checkIn(this.hitBuffer),this.hitBuffer=null),this.hitImageCache=null,this.hitImageInfo.padding.clear(),this.hitImageInfo.width=0,this.hitImageInfo.height=0},e.prototype._canReuse=function(){if(this.rendering===ht.Auto){var t=this.obj.worldTransform;if(this._worldTransformId===t._id)return!0;var e=ct.copyFrom(t).prepend(this._worldTransformInverted),i=Math.sqrt(Math.pow(e.a,2)+Math.pow(e.b,2)),n=Math.sqrt(Math.pow(e.c,2)+Math.pow(e.d,2));return i>=.5-v&&i<=1+v&&n>=.5-v&&n<=1+v}return this.rendering===ht.Always},Object.defineProperties(e.prototype,i),e}(o),st=at;st.options={cacheAsImage:!1};var ht=function(t){return t.Auto="auto",t.Never="never",t.Always="always",t}(ht||{}),ct=new c;r(0,["isEmpty","isValid","isHitValid","rendering",["obj",!1],["renderBuffer",!1],["hitBuffer",!1]]);var lt=function(){function t(){this.all={}}return t.prototype.on=function(t,e){var i=this,n=this.all[t];n?n.push(e):this.all[t]=[e];return{dispose:function(){return i.off(t,e)}}},t.prototype.off=function(t,e){var i=this.all[t];if(i)if(e){var n=i.indexOf(e);n>=0&&i.splice(n,1)}else this.all[t]=void 0},t.prototype.emit=function(t,e){var i=this.all[t];if(i)for(var n=0,r=i;n<r.length;n+=1){(0,r[n])(e)}},t.prototype.dispose=function(){this.all={}},t}();function ut(t){return function(){var e=arguments;try{t.apply(this,e)}catch(t){console.error(t)}}}function ft(){}var dt=function(t){return t.AUTO="auto",t.NONE="none",t}(dt||{}),pt=.1,gt=function(t){function e(){var e=this;t.call(this),this.id="",this.colorKey=null,this.forceRenderOutsideView=!1,this._events=new lt,this._parent=null,this._initialBounds=new f,this._initialBoundsDirty=!0,this._filterBounds=new f,this._filterBoundsDirty=!0,this._pointerEvents=null,this._cursor=null,this.disposeColorKey=ft,this._alphaToRender=1,this._shouldRenderInBuffer=!1,this._visualUnrelatedUpdate=function(){e.cache.markReuse(),e._updated(),e.cache.tryReuse()},this._transformUpdated=function(){var t;e._visualUnrelatedUpdate(),null==(t=e.parent)||t._boundsUpdated()},this._alpha=1,this._alphaRendering=vt.Separated,this._visible=!0,this._filters=[],this.transform=new l,this.transform._addUpdateListener(this._transformUpdated),this._worldTransform=new u(this.transform),this._localBounds=new d(this._initialBounds,this.transform),this._worldBounds=new d(this._initialBounds,this._worldTransform),this._filterWorldBounds=new d(this._filterBounds,this._worldTransform),this.cache=new st(this),this.cache._addUpdateListener(this._visualUnrelatedUpdate),this.render=this._runRender.bind(this,this.render.bind(this))}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={alphaRendering:{configurable:!0},app:{configurable:!0},parent:{configurable:!0},filters:{configurable:!0},pointerEvents:{configurable:!0},cursor:{configurable:!0},alpha:{configurable:!0},visible:{configurable:!0},pivotX:{configurable:!0},pivotY:{configurable:!0},scaleX:{configurable:!0},scaleY:{configurable:!0},skewX:{configurable:!0},skewY:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},x:{configurable:!0},y:{configurable:!0},width:{configurable:!0},height:{configurable:!0},worldTransform:{configurable:!0},initialBounds:{configurable:!0},localBounds:{configurable:!0},worldBounds:{configurable:!0},filterWorldBounds:{configurable:!0},filterBounds:{configurable:!0},_filterCacheBounds:{configurable:!0},_isCompoundObject:{configurable:!0}};return i.alphaRendering.get=function(){return this._alphaRendering},i.alphaRendering.set=function(t){this._alphaRendering!==t&&(this._alphaRendering=t,this._updated())},i.app.get=function(){return this._parent instanceof e?this._parent.app:this._parent},i.parent.get=function(){return this._parent instanceof e?this._parent:null},i.filters.get=function(){return this._filters},i.filters.set=function(t){for(;this._filters.length;)this.removeFilter(this._filters[0]);for(var e=0,i=t;e<i.length;e+=1){var n=i[e];this.addFilter(n)}},i.pointerEvents.get=function(){return this._pointerEvents?this._pointerEvents:this.parent?this.parent.pointerEvents:"auto"},i.pointerEvents.set=function(t){this._pointerEvents=t},i.cursor.get=function(){return this._cursor?this._cursor:this.parent?this.parent.cursor:"auto"},i.cursor.set=function(t){this._cursor=t},i.alpha.get=function(){return this._alpha},i.alpha.set=function(t){this._alpha!==t&&(this._alpha=t,this._visualUnrelatedUpdate())},e.prototype._updateAlphaToRender=function(){var t=this.alpha,e=this.parent;return this._alphaToRender=!e||e._shouldRenderInBuffer?t:t*e._alphaToRender,this._alphaToRender},e.prototype._updateShouldRenderInBuffer=function(){return this._shouldRenderInBuffer=this.cache.isManual||0!==this.filters.length||this._alphaToRender<1&&this._isCompoundObject&&this.alphaRendering===vt.Whole,this._shouldRenderInBuffer},i.visible.get=function(){return this._visible},i.visible.set=function(t){this._visible!==t&&(this._visible=t,this._visualUnrelatedUpdate(),this._boundsUpdated())},i.pivotX.get=function(){return this.transform.pivotX},i.pivotX.set=function(t){this.transform.pivotX=t},i.pivotY.get=function(){return this.transform.pivotY},i.pivotY.set=function(t){this.transform.pivotY=t},i.scaleX.get=function(){return this.transform.scaleX},i.scaleX.set=function(t){this.transform.scaleX=t},i.scaleY.get=function(){return this.transform.scaleY},i.scaleY.set=function(t){this.transform.scaleY=t},i.skewX.get=function(){return this.transform.skewX},i.skewX.set=function(t){this.transform.skewX=t},i.skewY.get=function(){return this.transform.skewY},i.skewY.set=function(t){this.transform.skewY=t},i.rotation.get=function(){return this.transform.rotation},i.rotation.set=function(t){this.transform.rotation=t},i.angle.get=function(){return this.transform.rotation*g},i.angle.set=function(t){this.transform.rotation=t*y},i.x.get=function(){return this.transform.translateX},i.x.set=function(t){this.transform.translateX=t},i.y.get=function(){return this.transform.translateY},i.y.set=function(t){this.transform.translateY=t},i.width.get=function(){return this.scaleX*this.initialBounds.width},i.width.set=function(t){0!==this.initialBounds.width&&(this.scaleX=t/this.initialBounds.width)},i.height.get=function(){return this.scaleY*this.initialBounds.height},i.height.set=function(t){0!==this.initialBounds.height&&(this.scaleY=t/this.initialBounds.height)},i.worldTransform.get=function(){return this._worldTransform.updateRecursively(),this._worldTransform},i.initialBounds.get=function(){return this._updateInitialBounds(),this._initialBounds},i.localBounds.get=function(){return this._updateInitialBounds(),this._localBounds.updateRecursively(),this._localBounds.value},i.worldBounds.get=function(){return this._updateInitialBounds(),this._worldBounds.updateRecursively(),this._worldBounds.value},i.filterWorldBounds.get=function(){return this._updateFilterBounds(),this._filterWorldBounds.updateRecursively(),this._filterWorldBounds.value},i.filterBounds.get=function(){return this._updateFilterBounds(),this._filterBounds},i._filterCacheBounds.get=function(){return this._updateInitialBounds(),this._worldBounds},i._isCompoundObject.get=function(){return!0},e.prototype.addFilter=function(t,e){void 0===e&&(e=this.filters.length),t._addUpdateListener(this._updated),this.filters.splice(e,0,t),this._updated(),this._filterBoundsDirty=!0},e.prototype.removeFilter=function(t){var e=this.filters.indexOf(t);-1!==e&&(this.filters.splice(e,1),t._removeUpdateListener(this._updated)),this._updated(),this._filterBoundsDirty=!0},e.prototype.contains=function(t){var e=this.worldTransform.applyInverse(t),i=e.x,n=e.y;return i>=0&&i<this.width&&n>=0&&n<this.height},e.prototype.emit=function(t){var e;t.currentTarget=this,this._events.emit(t.type,t),t.stopped||null==(e=this.parent)||e.emit(t)},e.prototype.dispatch=function(t){t.target=this,this.emit(t)},e.prototype.render=function(t){if(this.visible&&!(this.alpha<=0)&&this.isInvolvedInRendering()){if(t.globalAlpha=this._updateAlphaToRender(),this._worldTransform.update(),this.cache.isValid)return t.transform=this.cache.getTransform(this._worldTransform),void(this.cache.renderBuffer?t.mergeCanvas(this.cache.renderBuffer,0,0):this.cache.renderImageCache&&t.mergeImageResource(this.cache.renderImageCache,-this.cache.renderImageInfo.padding.left/this.cache.renderImageInfo.sx,-this.cache.renderImageInfo.padding.top/this.cache.renderImageInfo.sy,this.cache.renderImageInfo.width,this.cache.renderImageInfo.height,this.cache.renderImageInfo.bounds,st.options.maxUncompressedBufferSize?this.cache.renderImageInfo.sx:void 0,st.options.maxUncompressedBufferSize?this.cache.renderImageInfo.sy:void 0));if(this.cache.clear(),!this._updateShouldRenderInBuffer())return t.hasContextScale()?t.transform=(new c).copyFrom(this._worldTransform).scale(t.contextScale.sx,t.contextScale.sy):t.transform=this._worldTransform,this.draw(t);this._filterCacheBounds.update(),this.addBoundsRound();var e=this._filterCacheBounds.value,i=this._drawToBuffer(t,e);i&&(this.applyFilters(i,this.filters),t.transform=c.Identity,t.mergeCanvas(i,e.x,e.y),it.getInstance().sizeAvailable()?this.cache.update(i,e,this._worldTransform):it.getInstance().checkIn(i))}},e.prototype.renderHit=function(t){this.visible&&this.isInvolvedInRendering()&&(this._worldTransform.update(),t.transform=this._worldTransform,this.drawHit(t),this.renderFilterHitArea(t))},e.prototype.renderFilterHit=function(t,e){var i,n,r,o,a,s,h,l;i=e,n=c.Identity,r=i.a,o=i.b,a=i.c,s=i.d,h=i.tx,l=i.ty,(r!==n.a||o!==n.b||a!==n.c||s!==n.d||h!==n.tx||l!==n.ty)&&(t.transform=(new c).copyFrom(this._worldTransform).append(e),this.drawHit(t))},e.prototype.makeCache=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1);var i=this.app;if(i){this._worldTransform.updateRecursively(),this._filterCacheBounds.update(),this.addBoundsRound(),this.cache.isManual=!0;var n=this._filterCacheBounds.value,r=this._drawToBuffer(i.view,n,e);if(r){if(this.applyFilters(r,this.filters),this.cache.update(r,n,this._worldTransform),i.hitView&&!(n.width<pt||n.height<pt)){var o=it.getInstance().checkOut(i.hitView.constructor);o.resetBufferInfo(i.hitView,n.width,n.height,i.hitView.resolution),o.contextTranslate.x=-n.x,o.contextTranslate.y=-n.y,o.transform=this._worldTransform,this.drawHit(o),this.renderFilterHitArea(o),this.cache.updateHit(o)}t&&this._visualUnrelatedUpdate()}}},e.prototype.clearCache=function(t){void 0===t&&(t=!0),this.cache.clear(),t&&this._visualUnrelatedUpdate()},e.prototype._setParent=function(t){t!==this._parent&&(this._parent=t,this.parent?(this._worldTransform.setParent(this.parent._worldTransform),this.onDidAttach()):(this._worldTransform.setParent(null),this.onDidDetach()))},e.prototype.dispose=function(){this.cache.dispose(),this._events.dispose(),this.disposeColorKey();for(var t=0,e=this.filters;t<e.length;t+=1){e[t]._removeUpdateListener(this._updated)}this.filters.length=0},e.prototype.onTouchStart=function(t){return this._events.on("onTouchStart",t)},e.prototype.onTouchCancel=function(t){return this._events.on("onTouchCancel",t)},e.prototype.onTouchMove=function(t){return this._events.on("onTouchMove",t)},e.prototype.onTouchEnd=function(t){return this._events.on("onTouchEnd",t)},e.prototype.onMouseMove=function(t){return this._events.on("onMouseMove",t)},e.prototype.onMouseDown=function(t){return this._events.on("onMouseDown",t)},e.prototype.onContextMenu=function(t){return this._events.on("onContextMenu",t)},e.prototype.onMouseUp=function(t){return this._events.on("onMouseUp",t)},e.prototype.onWheel=function(t){return this._events.on("onWheel",t)},e.prototype.onClick=function(t){return this._events.on("onClick",t)},e.prototype.onDoubleClick=function(t){return this._events.on("onDoubleClick",t)},e.prototype.onDragOver=function(t){return this._events.on("onDragOver",t)},e.prototype.onDrop=function(t){return this._events.on("onDrop",t)},e.prototype.onMouseEnter=function(t){return this._events.on("onMouseEnter",t)},e.prototype.onMouseLeave=function(t){return this._events.on("onMouseLeave",t)},e.prototype.generateRawRenderData=function(t){this._worldTransform.update();return{type:"DisplayObject"}},e.prototype.draw=function(t){},e.prototype._drawToBuffer=function(t,e,i){if(void 0===i&&(i=!1),e.width<pt||e.height<pt)return null;var n=st.options.maxUncompressedBufferSize,r=e.width,o=e.height;if(n){var a=this.filterWorldBounds,s=a.width,h=a.height;r=Math.min(s,n)/s*r,o=Math.min(h,n)/h*o}var c=it.getInstance().checkOut(t.constructor,{autoMount:i});c.resetBufferInfo(t,r,o,t.resolution);var l=c.width/e.width,u=c.height/e.height;c.contextTranslate.x=-e.x*l,c.contextTranslate.y=-e.y*u;var f=this._worldTransform;return n&&(f=mt.copyFrom(this._worldTransform).scale(l,u),c.contextScale.sx=r/e.width,c.contextScale.sy=o/e.height),c.transform=f,this.draw(c),c},e.prototype.drawHit=function(t){if(this.app){var e=this.app.hitColorFinder;if(!this.colorKey||e.getTarget(this.colorKey)!==this){this.disposeColorKey();var i=e.getRandomHexColor(this);this.colorKey=i,this.disposeColorKey=function(){return e.deleteTarget(i)}}}},e.prototype.updateInitialBounds=function(t){},e.prototype._updateInitialBounds=function(){this._initialBoundsDirty&&(this._initialBoundsDirty=!1,this.updateInitialBounds(this._initialBounds))},e.prototype._updateFilterBounds=function(){this._filterBoundsDirty&&(this._filterBoundsDirty=!1,this.updateFilterBounds(this._filterBounds))},e.prototype.updateFilterBounds=function(t){var e=this;this._updateInitialBounds(),t.clear().addBounds(this._initialBounds),0!==this.filters.length&&this.filters.forEach((function(i){return i.updateFilterBounds(e,t,e._initialBounds)}))},e.prototype.onDidAttach=function(){},e.prototype.onDidDetach=function(){},e.prototype.onWillRender=function(){},e.prototype.onDidRender=function(){},e.prototype.applyFilters=function(t,e){var i,n=this,r=(null==(i=this.parent)?void 0:i._worldTransform)||c.Identity,o=r.a,a=r.b,s=r.c,h=r.d,l=Math.sqrt(Math.pow(o,2)+Math.pow(a,2)),u=Math.sqrt(Math.pow(s,2)+Math.pow(h,2));t.contextTranslate.x=0,t.contextTranslate.y=0,t.transform=c.Identity,e.forEach((function(e){return e.apply(n,t,l,u)}))},e.prototype._boundsUpdated=function(){var t;this._initialBoundsDirty=!0,this._filterBoundsDirty=!0,this._updated(!1),null==(t=this.parent)||t._boundsUpdated()},e.prototype._updated=function(e){if(t.prototype._updated.call(this),!1!==e&&this.parent)this.parent._updated();else{var i=this.app;(null==i?void 0:i.autoRender)&&i.requestRender()}},e.prototype.isInvolvedInRendering=function(){return!0},e.prototype.renderFilterHitArea=function(t){var e=this;if(0!==this.filters.length){this.filters.forEach((function(i){var n=i.getFilterMatrix(e,e.initialBounds);e.renderFilterHit(t,n)}));var i=this.filters.reduce((function(t,i){return t.append(i.getFilterMatrix(e,e.initialBounds))}),mt.identity());this.renderFilterHit(t,i)}},e.prototype._runRender=function(t,e){this.onWillRender(),t(e),this.onDidRender()},e.prototype.addBoundsRound=function(){var t=this._filterCacheBounds.value;t.width<pt||t.height<pt||t.addBoundsRound()},Object.defineProperties(e.prototype,i),e}(o),yt=gt;gt.prototype.render=ut(gt.prototype.render),gt.prototype.onDidAttach=ut(gt.prototype.onDidAttach),gt.prototype.onDidDetach=ut(gt.prototype.onDidDetach),gt.prototype.dispose=ut(gt.prototype.dispose);var vt=function(t){return t.Separated="separated",t.Whole="whole",t}(vt||{}),mt=new c;r(0,["alpha","alphaRendering",["bounds (initial)","initialBounds"],["bounds (local)","localBounds"],["bounds (world)","worldBounds"],"visible","filters","pointerEvents","cursor","transform",["transform (matrix)",function(t){return t.transform.matrix}],["transform (world)","worldTransform"]]);var _t=function(t){function e(e){void 0===e&&(e=O.Black),t.call(this),this._color=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={color:{configurable:!0}};return i.color.get=function(){return this._color},i.color.set=function(t){this._color!==t&&(this._color=t,this._updated())},e.prototype.isEmpty=function(){return 0===this.color.alpha},e.prototype.generateRawRenderData=function(){return{solidFill:{color:this.color.hex,alpha:this.alpha}}},e.prototype.getNative=function(){return this.color},Object.defineProperties(e.prototype,i),e}(k);r(0,[["$",function(){return _t.name}],"color"]);var xt=function(){function t(t){this.strokeStyle=t}var e={color:{configurable:!0},width:{configurable:!0},lineCap:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},lineDash:{configurable:!0},lineDashOffset:{configurable:!0},alignment:{configurable:!0}};return e.color.get=function(){var t=this.strokeStyle.fill;return t===k.None?null:t instanceof _t?t.color:O.Transparent},e.color.set=function(t){this.strokeStyle.fill=null===t?k.None:new _t(t)},e.width.get=function(){return this.strokeStyle.width},e.width.set=function(t){this.strokeStyle.width=t},e.lineCap.get=function(){return this.strokeStyle.lineCap},e.lineCap.set=function(t){this.strokeStyle.lineCap=t},e.lineJoin.get=function(){return this.strokeStyle.lineJoin},e.lineJoin.set=function(t){this.strokeStyle.lineJoin=t},e.miterLimit.get=function(){return this.strokeStyle.miterLimit},e.miterLimit.set=function(t){this.strokeStyle.miterLimit=t},e.lineDash.get=function(){return this.strokeStyle.dash},e.lineDash.set=function(t){this.strokeStyle.dash=t},e.lineDashOffset.get=function(){return this.strokeStyle.dashOffset},e.lineDashOffset.set=function(t){this.strokeStyle.dashOffset=t},e.alignment.get=function(){return.5},e.alignment.set=function(t){throw new Error("Cannot set alignment")},Object.defineProperties(t.prototype,e),t}(),bt=function(){function t(t){this.textStyle=t,this.underline=new xt(t.underline),this.lineThrough=new xt(t.lineThrough)}var e={fontFamily:{configurable:!0},fontSize:{configurable:!0},fontWeight:{configurable:!0},fontStyle:{configurable:!0},textBaseline:{configurable:!0},font:{configurable:!0}};return e.fontFamily.get=function(){return this.textStyle.fontFamily},e.fontFamily.set=function(t){this.textStyle.fontFamily=t},e.fontSize.get=function(){return this.textStyle.fontSize},e.fontSize.set=function(t){this.textStyle.fontSize=t},e.fontWeight.get=function(){return this.textStyle.fontWeight},e.fontWeight.set=function(t){this.textStyle.fontWeight=t},e.fontStyle.get=function(){return this.textStyle.fontStyle},e.fontStyle.set=function(t){this.textStyle.fontStyle=t},e.textBaseline.get=function(){return this.textStyle.textBaseline},e.textBaseline.set=function(t){this.textStyle.textBaseline=t},e.font.get=function(){return this.textStyle.font},Object.defineProperties(t.prototype,e),t}(),wt=function(t){function e(){var e=this;t.call(this),this.fillFilters=[],this.strokeStyle=new P,this._fill=k.None,this._strokeBounds=new f,this._strokeBoundsDirty=!0,this.lineStyle=new xt(this.strokeStyle),this.strokeStyle._addUpdateListener((function(){return e._strokeUpdated()})),this._strokeWorldBounds=new d(this._strokeBounds,this.worldTransform),this._alphaRendering=vt.Whole}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={fill:{configurable:!0},stroke:{configurable:!0},strokeWidth:{configurable:!0},strokeLineJoin:{configurable:!0},strokeLineCap:{configurable:!0},strokeMiterLimit:{configurable:!0},strokeDash:{configurable:!0},strokeDashOffset:{configurable:!0},strokeBounds:{configurable:!0},_filterCacheBounds:{configurable:!0},_isCompoundObject:{configurable:!0}};return e.prototype.addFillFilter=function(t,e){void 0===e&&(e=this.fillFilters.length),t._addUpdateListener(this._updated),this.fillFilters.splice(e,0,t),this._updated()},e.prototype.removeFillFilter=function(t){var e=this.fillFilters.indexOf(t);-1!==e&&(this.fillFilters.splice(e,1),t._removeUpdateListener(this._updated),this._updated())},i.fill.get=function(){return this._fill},i.fill.set=function(t){this._fill!==t&&(this._fill._removeUpdateListener(this._updated),t._addUpdateListener(this._updated),this._fill=t,this._updated())},i.stroke.get=function(){return this.strokeStyle.fill},i.stroke.set=function(t){this.strokeStyle.fill=t},i.strokeWidth.get=function(){return this.strokeStyle.width},i.strokeWidth.set=function(t){this.strokeStyle.width=t},i.strokeLineJoin.get=function(){return this.strokeStyle.lineJoin},i.strokeLineJoin.set=function(t){this.strokeStyle.lineJoin=t},i.strokeLineCap.get=function(){return this.strokeStyle.lineCap},i.strokeLineCap.set=function(t){this.strokeStyle.lineCap=t},i.strokeMiterLimit.get=function(){return this.strokeStyle.miterLimit},i.strokeMiterLimit.set=function(t){this.strokeStyle.miterLimit=t},i.strokeDash.get=function(){return this.strokeStyle.dash},i.strokeDash.set=function(t){this.strokeStyle.dash=t},i.strokeDashOffset.get=function(){return this.strokeStyle.dashOffset},i.strokeDashOffset.set=function(t){this.strokeStyle.dashOffset=t},i.strokeBounds.get=function(){return this._updateStrokeBounds(),this._strokeBounds},i._filterCacheBounds.get=function(){return this._updateStrokeBounds(),this._strokeWorldBounds},i._isCompoundObject.get=function(){return!this.fill.isEmpty()&&!this.strokeStyle.isEmpty()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.strokeStyle.dispose(),this._fill._removeUpdateListener(this._updated);for(var e=0,i=this.fillFilters;e<i.length;e+=1){i[e]._removeUpdateListener(this._updated)}this.fillFilters.length=0},e.prototype.updateStrokeBounds=function(t){t.clear().addBounds(this.initialBounds)},e.prototype._updateStrokeBounds=function(){this._strokeBoundsDirty&&(this._strokeBoundsDirty=!1,this.updateStrokeBounds(this._strokeBounds))},e.prototype._boundsUpdated=function(){this._strokeBoundsDirty=!0,t.prototype._boundsUpdated.call(this)},e.prototype._strokeUpdated=function(){var t;this._strokeBoundsDirty=!0,this._updated(),null==(t=this.parent)||t._boundsUpdated()},e.prototype._updateShouldRenderInBuffer=function(){return 0!==this.fillFilters.length||t.prototype._updateShouldRenderInBuffer.call(this)},Object.defineProperties(e.prototype,i),e}(yt);r(0,[["lineStyle",!1],["bounds (stroke)","strokeBounds"],"fill","stroke","strokeStyle"]);var Tt=function(t){function e(){t.apply(this,arguments),this.children=[],this.forceRenderChildren=!1,this._clipPath="",this._clipSegments=[],this._clipSegmentsDirty=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={clipPath:{configurable:!0},clipSegments:{configurable:!0}};return e.prototype.addChild=function(t){var e;null==(e=t.parent)||e.removeChild(t),t._setParent(this),this.children.push(t),this._boundsUpdated()},e.prototype.addChildAt=function(t,e){var i;if(e<0||e>this.children.length)throw new Error("addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);null==(i=t.parent)||i.removeChild(t),t._setParent(this),this.children.splice(e,0,t),this._boundsUpdated()},e.prototype.removeChild=function(t){if(t.parent===this){t._setParent(null);var e=this.children.indexOf(t);this.children.splice(e,1),this._boundsUpdated()}},i.clipPath.get=function(){return this._clipPath},i.clipPath.set=function(t){this._clipPath!==t&&(this._clipPath=t,this._clipSegmentsDirty=!0,this._boundsUpdated())},i.clipSegments.get=function(){return this._clipSegmentsDirty&&(this._clipSegmentsDirty=!1,this._clipSegments=$.parse(this._clipPath)),this._clipSegments},e.prototype.dispose=function(){for(var e=0,i=this.children;e<i.length;e+=1){i[e].dispose()}t.prototype.dispose.call(this)},e.prototype.renderFilterHit=function(t,e){for(var i=0,n=this.children;i<n.length;i+=1){n[i].renderFilterHit(t,e)}},e.prototype.generateRawRenderData=function(e){for(var i=t.prototype.generateRawRenderData.call(this,e)||{},n="Container",r=[],o=0,a=this.children;o<a.length;o+=1){var s=a[o].generateRawRenderData(e);s&&(s.type===n?r.push.apply(r,s.children):r.push(s))}return i.type=n,i.children=r,i},e.prototype.draw=function(t){this.drawClipPath(t);for(var e=0,i=this.children;e<i.length;e+=1){i[e].render(t)}this.restoreClipPath(t)},e.prototype.drawHit=function(t){this.drawClipPath(t);for(var e=0,i=this.children;e<i.length;e+=1){i[e].renderHit(t)}this.restoreClipPath(t)},e.prototype.updateInitialBounds=function(t){t.clear();for(var e=0,i=this.children;e<i.length;e+=1){var n=i[e];n.visible&&(n instanceof wt?t.addBoundsMatrix(n.transform.matrix,n.strokeBounds):t.addBounds(n.localBounds))}},e.prototype.updateFilterBounds=function(e){e.clear(),t.prototype.updateFilterBounds.call(this,e);for(var i=0,n=this.children;i<n.length;i+=1){var r=n[i];r.visible&&e.addBoundsMatrix(r.transform.matrix,r.filterBounds)}},e.prototype.isInvolvedInRendering=function(){var t=this.app||{},e=t.width;void 0===e&&(e=0);var i=t.height;if(void 0===i&&(i=0),!t.notRenderOutsideView||this.forceRenderOutsideView||this.isParentForceRender())return!0;var n=this.filterWorldBounds,r=n.minX,o=n.minY,a=n.maxX,s=n.maxY,h=a>0&&s>0&&r<e&&o<i;return this.forceRenderChildren=this.filters.length>0&&h,h},e.prototype.isParentForceRender=function(){var t,e;return!!(null==(t=this.parent)?void 0:t.forceRenderChildren)||!!(null==(e=this.parent)?void 0:e.isParentForceRender())},e.prototype.drawClipPath=function(t){this.clipPath&&(t.save(),this.applyClipPath(t),t.clip())},e.prototype.restoreClipPath=function(t){this.clipPath&&t.restore()},e.prototype.applyClipPath=function(t){et(t,this.clipSegments)},Object.defineProperties(e.prototype,i),e}(yt),Ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Tt);var St=function(){function t(){this.pool={"#000000":null}}return t.prototype.getTarget=function(t){return this.pool[t]},t.prototype.deleteTarget=function(t){this.pool[t]=void 0},t.prototype.getRandomHexColor=function(t){for(var e=(16777215*Math.random()<<0).toString(16);e.length<6;)e="0"+e;return e="#"+e,this.pool[e]?e=this.getRandomHexColor(t):this.pool[e]=t,e},t.prototype.dispose=function(){this.pool={}},t}();r();var Ct=function(){function t(t){var e=this;this.lastTarget=null,this.pointerDownTarget=null,this.pointerUpTarget=null,this.lastClickTime=0,this.isDragging=!1,this.unDispatchedClickEvent=null,this.unDispatchedDoubleClickEvent=null,this.onEvents=function(t){for(var i,n,r=null,o=0,a=t;o<a.length;o+=1){var h=a[o],c=new s(h.worldX,h.worldY);if(e.isDragging||e.isPointInView(c)){var l=e.findTarget(c);if(r=l,(null==l?void 0:l.pointerEvents)!==dt.NONE)if("onClick"!==h.type)if("onDoubleClick"!==h.type)"onDragOver"===h.type&&h.preventDefault(),null==l||l.dispatch(h),"onMouseMove"===h.type&&(e.app.view.cursor=(null==l?void 0:l.cursor)||"auto",e.onMouseEnterAndLeave(l,h)),"onMouseDown"===h.type&&(e.pointerDownTarget=l),"onMouseUp"===h.type&&e.onClick(l,h);else{if(!e.unDispatchedDoubleClickEvent)continue;e.unDispatchedDoubleClickEvent.nativeEvent=h.nativeEvent,null==(n=e.pointerUpTarget)||n.dispatch(e.unDispatchedDoubleClickEvent),e.unDispatchedDoubleClickEvent=null}else{if(!e.unDispatchedClickEvent)continue;e.unDispatchedClickEvent.nativeEvent=h.nativeEvent,null==(i=e.pointerUpTarget)||i.dispatch(e.unDispatchedClickEvent),e.unDispatchedClickEvent=null}}}e.lastTarget=r},this.onMouseEnterAndLeave=function(t,i){if(t!==e.lastTarget){for(var n=e.findCommonAncestor(t,e.lastTarget),r=[],o=t,a=e.lastTarget;o&&o!==n;){var s=e.generateInteractionEvent(i,"mouseenter");s.stopped=!0,o.dispatch(s),o=o.parent}for(;a&&a!==n;)r.push(a),a=a.parent;for(var h=r.length-1;h>=0;h--){var c=e.generateInteractionEvent(i,"mouseleave");c.stopped=!0,r[h].dispatch(c)}}},this.onClick=function(t,i){if(t){if(e.pointerUpTarget=t,e.pointerDownTarget===t){var n=e.generateInteractionEvent(i,"click");e.unDispatchedClickEvent=n;var r=e.generateInteractionEvent(i,"dblclick");e.unDispatchedDoubleClickEvent=r}}else e.pointerUpTarget=null},this.app=t}return t.prototype.dispose=function(){this.lastTarget=null,this.pointerDownTarget=null,this.pointerUpTarget=null,this.lastClickTime=0,this.isDragging=!1,this.unDispatchedClickEvent=null,this.unDispatchedDoubleClickEvent=null},t.prototype.findTarget=function(t){var e=this.app,i=e.hitView,n=e.hitColorFinder;if(!i)return null;var r=Math.round(t.x*i.resolution),o=Math.round(t.y*i.resolution),a=i.getImageData(r,o,1,1).data,s=O.fromRGB(a[0],a[1],a[2]).hex.substring(0,7),h=n.getTarget(s);return void 0===h?this.lastTarget:h},t.prototype.findCommonAncestor=function(t,e){for(var i=t,n=e,r=new Set;i;)r.add(i),i=i.parent;for(;n;){if(r.has(n))return n;n=n.parent}return null},t.prototype.generateInteractionEvent=function(t,e){var i={nativeEvent:t.nativeEvent,worldX:t.worldX,worldY:t.worldY,type:e};return new this.app.interactionEvent(i)},t.prototype.isPointInView=function(t){var e=t.x,i=t.y,n=this.app.view,r=n.width,o=n.height;return e>=0&&e<r&&i>=0&&i<o},t}();r(0,[["app",!1]]);var Et=function(){function t(t,e){var i=this;this.hitColorFinder=new St,this.hitView=null,this.renderRequested=!1,this._hitViewTimeoutId=null,this._stopUpdateHitRegion=!1,this._renderHitView=function(){null!==i.hitView&&(i._hitViewTimeoutId=null,i.hitView.clear(),i.stage.renderHit(i.hitView))},this.target=t,this.view=t.createCanvas(e),this.stage=new Tt,this.stage._setParent(this);var n=e||Rt,r=n.id,o=n.autoRender;void 0===o&&(o=!0);var a=n.interactive;void 0===a&&(a=!0);var s=n.delayDrawHit;void 0===s&&(s=!0);var h=n.notRenderOutsideView;void 0===h&&(h=!1),this.id=r,this.autoRender=o,this.interactive=a,this.delayDrawHit=s,this.notRenderOutsideView=h,this.interactionEvent=t.interactionFactory,this.interactionManager=new Ct(this),this.view.onEvents=this.interactionManager.onEvents}var e={interactive:{configurable:!0},stopUpdateHitRegion:{configurable:!0},loader:{configurable:!0},resource:{configurable:!0},width:{configurable:!0},height:{configurable:!0},resolution:{configurable:!0}};return e.interactive.get=function(){return this._interactive},e.interactive.set=function(t){this._interactive!==t&&(this._interactive=t,t?this._mallocHitView():this._freeHitView())},e.stopUpdateHitRegion.get=function(){return this._stopUpdateHitRegion},e.stopUpdateHitRegion.set=function(t){this._stopUpdateHitRegion!==t&&(this._stopUpdateHitRegion=t,t||(this._mallocHitView(),this._renderHitView()))},e.loader.get=function(){return this.target.loader},e.resource.get=function(){return this.target.loader},e.width.get=function(){return this.view.width},e.width.set=function(t){this.view.width=t,null!==this.hitView&&(this.hitView.width=t)},e.height.get=function(){return this.view.height},e.height.set=function(t){this.view.height=t,null!==this.hitView&&(this.hitView.height=t)},e.resolution.get=function(){return this.view.resolution},e.resolution.set=function(t){this.view.resolution=t,null!==this.hitView&&(this.hitView.resolution=t)},t.prototype.render=function(){this._renderStage(),this.stopUpdateHitRegion||this.renderHit()},t.prototype.renderHit=function(){this.delayDrawHit?null!==this.hitView&&(null!==this._hitViewTimeoutId&&clearTimeout(this._hitViewTimeoutId),this._hitViewTimeoutId=setTimeout(this._renderHitView,50)):this._renderHitView()},t.prototype.requestRender=function(){var t=this;this.renderRequested||(this.renderRequested=!0,requestAnimationFrame((function(){t.renderRequested=!1,t.render()})))},t.prototype.dispose=function(){this.stage.dispose(),this.view.clear(),this.view.dispose(),this.hitColorFinder.dispose(),this.interactionManager.dispose(),this._freeHitView(),this._hitViewTimeoutId&&clearTimeout(this._hitViewTimeoutId)},t.prototype.collectRawRenderData=function(){return{width:this.width*this.resolution,height:this.height*this.resolution,items:this.stage.generateRawRenderData(this.view)}},t.prototype._renderStage=function(){this.view.clear(),this.stage.render(this.view)},t.prototype._mallocHitView=function(){if(!this.hitView){var t=it.getInstance().checkOut(this.view.constructor);t.resetBufferInfo(this.view,this.view.width,this.view.height,this.view.resolution),this.hitView=t,this.hitView.isHit=!0}},t.prototype._freeHitView=function(){this.hitView&&(this.hitView.isHit=!1,it.getInstance().checkIn(this.hitView),this.hitView=null)},Object.defineProperties(t.prototype,e),t}(),Rt={};r(0,["view","hitView","interactionManager","hitColorFinder","delayDrawHit","interactive","showHit",["stage",!1],["renderRequested",!1],["resource",!1],["target",!1]]);var kt=function(){function t(){this.isHit=!1,this.isBuffer=!1,this.contextTranslate={x:0,y:0},this.contextScale={sx:1,sy:1},this.padding=new ot,this._transform=new c,this._autoMount=!1,this._bounds=new f}var e={transform:{configurable:!0},autoMount:{configurable:!0},contentWidth:{configurable:!0},contentHeight:{configurable:!0},naturalWidth:{configurable:!0},naturalHeight:{configurable:!0},bounds:{configurable:!0}};return e.transform.get=function(){return this._transform},e.transform.set=function(t){this._transform.copyFrom(t),this._updateTransform()},e.autoMount.get=function(){return this._autoMount},e.autoMount.set=function(t){this._autoMount=t},e.contentWidth.get=function(){return this.width-this.padding.left-this.padding.right},e.contentHeight.get=function(){return this.height-this.padding.top-this.padding.bottom},e.naturalWidth.get=function(){return this.width*this.resolution},e.naturalHeight.get=function(){return this.height*this.resolution},t.prototype.hasContextScale=function(){return 1!==this.contextScale.sx||1!==this.contextScale.sy},e.bounds.get=function(){return this._bounds.minX=-this.padding.left,this._bounds.minY=-this.padding.top,this._bounds.maxX=this.width-this.padding.left,this._bounds.maxY=this.height-this.padding.top,this._bounds},t.prototype.clear=function(){this.transform=c.Identity,this.clearRect(-this.padding.left,-this.padding.top,this.width,this.height),this._glBuffer=void 0,this.contextTranslate.x=0,this.contextTranslate.y=0},t.prototype.drawLine=function(t,e,i){this.beginPath(),this.lineWidth=i,this.moveTo(0,e),this.lineTo(t,e),this.stroke()},t.prototype.drawText=function(t,e,i){this.fillText(t,e,i),this.strokeText(t,e,i)},t.prototype.mergeCanvas=function(t,e,i){if(this.isBuffer){var n=At.copyFrom(this.transform).translate(this.padding.left,this.padding.top).translate(this.contextTranslate.x,this.contextTranslate.y).translate(e,i),r=Lt.clear().addBoundsMatrix(n,t.bounds),o=this.bounds.paddingTo(r,Pt).overlay(ot.Zero);this.pad(o)}if(t.hasContextScale()){var a=t.width*t.resolution,s=t.height*t.resolution,h=t.contextScale,c=h.sx,l=h.sy;this.drawCanvas(t,e,i,t.width/c,t.height/l,0,0,a,s)}else this.drawCanvas(t,e,i)},t.prototype.mergeImageResource=function(t,e,i,n,r,o,a,s){if(this.isBuffer){var h=At.copyFrom(this.transform).translate(this.padding.left,this.padding.top).translate(this.contextTranslate.x,this.contextTranslate.y).translate(e,i),c=Lt.clear().addBoundsMatrix(h,o),l=this.bounds.paddingTo(c,Pt).overlay(ot.Zero);this.pad(l)}void 0!==a&&void 0!==s?this.drawImage(t,e,i,n/a,r/s,0,0,t.width,t.height):this.drawImage(t,e,i,n,r)},t.prototype.getGlBuffer=function(t,e,i){var n,r;if(void 0===i&&(i=this.resolution),this.parent)return this.parent.getGlBuffer(t,e,i);var o=(void 0!==t?t:this.width)*i,a=(void 0!==e?e:this.height)*i;return void 0===this._glBuffer?this._glBuffer=this.createGlBuffer(t,e,i):void 0!==t&&void 0!==e&&(null==(n=this._glBuffer)||n.resize(o,a)),null==(r=this._glBuffer)||r.gl.viewport(0,0,o,a),this._glBuffer},t.prototype.dispose=function(){},t.prototype._updateTransform=function(){var t=this.resolution,e=this._transform,i=e.a,n=e.b,r=e.c,o=e.d,a=e.tx,s=e.ty;this.setTransform(i*t,n*t,r*t,o*t,(a+this.padding.left+this.contextTranslate.x)*t,(s+this.padding.top+this.contextTranslate.y)*t)},Object.defineProperties(t.prototype,e),t}(),At=new c,Lt=new f,Pt=new ot;r(0,["isHit","isBuffer","native","width","height","cursor","resolution","contextTranslate","bounds"]);var It=function(){function t(){this.shaders={},this.programs={}}return t.prototype.createAndBindTexture=function(t){var e=this.gl,i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),t&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),i},t.prototype.createAndBindBufferTexture=function(t,e){void 0===t&&(t=this.width),void 0===e&&(e=this.height);var i=this.gl,n=this.createAndBindTexture();return i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null),n},t.prototype.createAndBindFramebuffer=function(t){var e=this.gl,i=e.createFramebuffer();return e.bindFramebuffer(e.FRAMEBUFFER,i),t&&e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),i},t.prototype.drawRect=function(){this.useDefaultFillRect();var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLES,0,6)},t.prototype.getShader=function(t,e,i){if(this.shaders[t])return this.shaders[t];var n=this.gl,r=n.createShader(e);return this.shaders[t]=r,n.shaderSource(r,i),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS)||console.error(n.getShaderInfoLog(r)),r},t.prototype.getDefaultVertexShader=function(){return this.getShader("default-vertex",this.gl.VERTEX_SHADER,"\n      attribute vec2 a_position;\n      attribute vec2 a_texCoord;\n      varying vec2 v_texCoord;\n\n      void main() {\n        gl_Position = vec4(a_position, 0, 1);\n        v_texCoord = a_texCoord;\n      }\n    ")},t.prototype.useDefaultFillRect=function(t,e,i){if(void 0===t&&(t=this.currentProgram),void 0===e&&(e="a_position"),void 0===i&&(i="a_texCoord"),t){var n=this.gl;void 0===this.positionBuffer&&(this.positionBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.positionBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),n.STATIC_DRAW)),void 0===this.texCoordBuffer&&(this.texCoordBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.texCoordBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,1,1,0,0,0,0,1,1,1,0]),n.STATIC_DRAW));var r=n.getAttribLocation(t,e);n.enableVertexAttribArray(r),n.bindBuffer(n.ARRAY_BUFFER,this.positionBuffer),n.vertexAttribPointer(r,2,n.FLOAT,!1,0,0);var o=n.getAttribLocation(t,i);n.enableVertexAttribArray(o),n.bindBuffer(n.ARRAY_BUFFER,this.texCoordBuffer),n.vertexAttribPointer(o,2,n.FLOAT,!1,0,0)}},t.prototype.useTexture=function(t){var e=this.gl;return this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):this.texture=this.createAndBindTexture(),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),this.texture},t.prototype.useProgram=function(t,e,i){var n=this.gl;if(!this.programs[t]){var r=n.createProgram();this.programs[t]=r,n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||console.error(n.getProgramInfoLog(r))}var o=this.programs[t];return n.useProgram(o),this.currentProgram=o,o},t}();["uniform1f","uniform1fv","uniform1i","uniform1iv","uniform2f","uniform2fv","uniform2i","uniform2iv","uniform3f","uniform3fv","uniform3i","uniform3iv","uniform4f","uniform4fv","uniform4i","uniform4iv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv"].forEach((function(t){It.prototype[t]=function(e){for(var i,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];if(this.currentProgram){var o=this.gl.getUniformLocation(this.currentProgram,e);(i=this.gl)[t].apply(i,[o].concat(n))}}}));var Mt=function(){return function(){}}(),Bt=function(){function t(){}return t.prototype.createCanvas=function(t){return new this.factory(t)},t}(),Dt=function(){function t(t){this.target=null,this.currentTarget=null,this.stopped=!1;var e=t.type,i=t.nativeEvent,n=t.worldX,r=t.worldY;this.type=e,this.nativeEvent=i,this.worldX=n,this.worldY=r}return t.prototype.stopPropagation=function(){this.stopped=!0},t}(),Ft=function(t){function e(e){t.call(this),this.imageTransform=new l,this.transform=new l,this._resource=e,this.pattern=null,this._updateWhenLoaded(),this.transform._addUpdateListener(this._updated),this.imageTransform._addUpdateListener(this._updated)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={resource:{configurable:!0}};return i.resource.get=function(){return this._resource},i.resource.set=function(t){this._resource!==t&&(this._resource=t,this._updated(),this._updateWhenLoaded(),this.pattern=null)},e.prototype.getNative=function(t,e){if(this.resource.isEmpty)return O.Transparent;if(this.pattern||(this.pattern=this.createPattern(t)),Nt(this.pattern)){var i=this.calcTransform(e),n=i.a,r=i.b,o=i.c,a=i.d,s=i.tx,h=i.ty;Xt.a=n,Xt.b=r,Xt.c=o,Xt.d=a,Xt.e=s,Xt.f=h,this.pattern.setTransform(Xt)}return this.pattern},e.prototype._updateWhenLoaded=function(){this.resource.loading&&this.resource.onImageLoaded(this._updated)},e.prototype.getTransform=function(t,e){return Nt()?c.Identity:this.calcTransform(e)},e.prototype.calcTransform=function(t){return jt.copyFrom(this.calcBaseTransform(t)).append(this.imageTransform.matrix).prepend(this.transform.matrix)},Object.defineProperties(e.prototype,i),e}(k);function Nt(t){if(void 0===Ft.HasNativePatternTransform){if(!t)return!1;Ft.HasNativePatternTransform=Boolean(Xt&&t.setTransform)}return Ft.HasNativePatternTransform}var jt=new c,Xt="undefined"!=typeof DOMMatrix?new DOMMatrix:void 0;r(0,[["$",function(){return Ft.name}],"resource","imageTransform",["imageTransform (matrix)",function(t){return t.imageTransform.matrix}],"transform",["transform (matrix)",function(t){return t.transform.matrix}]]);var Yt=function(t){function e(e,i){t.call(this),this._offset=e,this._color=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={offset:{configurable:!0},color:{configurable:!0}};return i.offset.get=function(){return this._offset},i.offset.set=function(t){this._offset!==t&&(this._offset=t,this._updated())},i.color.get=function(){return this._color},i.color.set=function(t){this._color!==t&&(this._color=t,this._updated())},Object.defineProperties(e.prototype,i),e}(o),Wt=function(t){function e(){t.call(this),this.colorStops=[],this.transform=new l,this.transform._addUpdateListener(this._updated)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addColorStop=function(t,e){var i=t instanceof Yt?t:new Yt(t,e);return i._addUpdateListener(this._updated),this.colorStops.push(i),this._updated(),this},e.prototype.removeColorStop=function(t){var e=this.colorStops.indexOf(t);return-1!==e&&(this.colorStops.splice(e,1),t._removeUpdateListener(this._updated)),this._updated(),this},e.prototype.generateRawRenderData=function(e){return t.prototype.generateRawRenderData.call(this,e)},e.prototype.getTransform=function(t,e){return this.transform.matrix},e.prototype.getNative=function(t,e){var i=this.getGradient(e,t);if(!i)return O.Transparent;for(var n=0,r=this.colorStops;n<r.length;n+=1){var o=r[n],a=o.offset,s=o.color;i.addColorStop(a,s.rgba)}return i},e.prototype.getRenderColorStops=function(){for(var t=[],e=0,i=this.colorStops;e<i.length;e+=1){var n=i[e],r=n.offset,o=n.color;t.push({offset:r,color:o.hex})}return t},e}(k);r(0,[["$",function(){return Wt.name}]]),r(0,["offset","color"]);var Ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Wt),Ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderWithClip=function(e,i){if(!this.resource.isEmpty){var n=t.HasNativePatternTransform;t.HasNativePatternTransform=!1,e.save(),e.clip(),e.globalAlpha*=this.alpha,this.applyTransformTo(e,i),e.drawImage(this.resource,0,0,this.resource.width,this.resource.height),e.restore(),t.HasNativePatternTransform=n}},e.prototype.createPattern=function(t){return t.createPattern(this.resource,"no-repeat")},e.prototype.calcBaseTransform=function(t){var e=t.width/this.resource.width,i=t.height/this.resource.height;return Gt.set(e,0,0,i,t.x,t.y)},e}(Ft),Vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.calcBaseTransform=function(){return c.Identity},e}(Ht),Gt=new c;r(0,[["$",function(){return Ht.name}]]),r(0,[["$",function(){return Vt.name}]]);var zt=function(t){function e(e,i,n,r){t.call(this),this._x0=e,this._y0=i,this._x1=n,this._y1=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={x0:{configurable:!0},y0:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0}};return i.x0.get=function(){return this._x0},i.x0.set=function(t){this._x0!==t&&(this._x0=t,this._updated())},i.y0.get=function(){return this._y0},i.y0.set=function(t){this._y0!==t&&(this._y0=t,this._updated())},i.x1.get=function(){return this._x1},i.x1.set=function(t){this._x1!==t&&(this._x1=t,this._updated())},i.y1.get=function(){return this._y1},i.y1.set=function(t){this._y1!==t&&(this._y1=t,this._updated())},e.prototype.generateRawRenderData=function(){return{linearGradFill:{alpha:this.alpha,colorStops:this.getRenderColorStops(),position:{x0:this.x0,x1:this.x1,y0:this.y0,y1:this.y1}}}},e.prototype.getGradient=function(t,e){return e.createLinearGradient(this.x0,this.y0,this.x1,this.y1)},Object.defineProperties(e.prototype,i),e}(Wt),qt=function(t){function e(e){void 0===e&&(e=0),t.call(this),this._angle=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={angle:{configurable:!0}};return i.angle.get=function(){return this._angle},i.angle.set=function(t){this._angle!==t&&(this._angle=t,this._updated())},e.prototype.generateRawRenderData=function(e){var i=this.getPosition(e);return i?{linearGradFill:{alpha:this.alpha,colorStops:this.getRenderColorStops(),position:i}}:t.prototype.generateRawRenderData.call(this,e)},e.prototype.getGradient=function(t,e){var i=this.getPosition(t);if(!i)return null;var n=i.x0,r=i.y0,o=i.x1,a=i.y1;return e.createLinearGradient(n,r,o,a)},e.prototype.getPosition=function(t){var e=t.minX,i=t.minY,n=t.maxX,r=t.maxY,o=t.width,a=t.height;if(t.isEmpty||0===o||0===a)return null;var s,h,c,l,u=(this.angle>=0?this.angle:-360*Math.floor(this.angle/360)+this.angle)%360,f=Math.cos(u*y),d=Math.sin(u*y),p=(e+n)/2,g=(i+r)/2;u<=90?(s=e,h=i,c=n,l=r):u<=180?(s=n,h=i,c=e,l=r):u<=270?(s=n,h=r,c=e,l=i):(s=e,h=r,c=n,l=i);var v=f*f,m=f*d,_=d*d;return{x0:v*s-m*(p-h)+_*g,y0:v*p+m*(s-g)+_*h,x1:v*c-m*(p-l)+_*g,y1:v*p+m*(c-g)+_*l}},Object.defineProperties(e.prototype,i),e}(Wt);r(0,[["$",function(){return zt.name}],"x0","y0","x1","y1"]),r(0,[["$",function(){return qt.name}],"angle"]);var Jt=function(t){function e(e,i,n,r,o,a){t.call(this),this._x0=e,this._y0=i,this._r0=n,this._x1=r,this._y1=o,this._r1=a}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={x0:{configurable:!0},y0:{configurable:!0},r0:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},r1:{configurable:!0}};return i.x0.get=function(){return this._x0},i.x0.set=function(t){this._x0!==t&&(this._x0=t,this._updated())},i.y0.get=function(){return this._y0},i.y0.set=function(t){this._y0!==t&&(this._y0=t,this._updated())},i.r0.get=function(){return this._r0},i.r0.set=function(t){this._r0!==t&&(this._r0=t,this._updated())},i.x1.get=function(){return this._x1},i.x1.set=function(t){this._x1!==t&&(this._x1=t,this._updated())},i.y1.get=function(){return this._y1},i.y1.set=function(t){this._y1!==t&&(this._y1=t,this._updated())},i.r1.get=function(){return this._r1},i.r1.set=function(t){this._r1!==t&&(this._r1=t,this._updated())},e.prototype.generateRawRenderData=function(){return{radialGradFill:{alpha:this.alpha,colorStops:this.getRenderColorStops(),position:{x0:this.x0,x1:this.x1,y0:this.y0,y1:this.y1,r0:this.r0,r1:this.r1}}}},e.prototype.getGradient=function(t,e){return e.createRadialGradient(this.x0,this.y0,this.r0,this.x1,this.y1,this.r1)},Object.defineProperties(e.prototype,i),e}(Wt),Qt=function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=.5),t.call(this),this._anchorX=e,this._anchorY=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={anchorX:{configurable:!0},anchorY:{configurable:!0}};return i.anchorX.get=function(){return this._anchorX},i.anchorX.set=function(t){this._anchorX!==t&&(this._anchorX=t,this._updated())},i.anchorY.get=function(){return this._anchorY},i.anchorY.set=function(t){this._anchorY!==t&&(this._anchorY=t,this._updated())},e.prototype.generateRawRenderData=function(e){var i=this.getRadialPosition(e);return i?{radialGradFill:{alpha:this.alpha,colorStops:this.getRenderColorStops(),position:i}}:t.prototype.generateRawRenderData.call(this,e)},e.prototype.getGradient=function(t,e){var i=this.getRadialPosition(t);if(!i)return null;var n=i.x0,r=i.y0,o=i.r0,a=i.x1,s=i.y1,h=i.r1;return e.createRadialGradient(n,r,o,a,s,h)},e.prototype.getRadialPosition=function(t){var e=t.minX,i=t.minY,n=t.maxX,r=t.maxY,o=t.width,a=t.height;if(t.isEmpty||0===o||0===a)return null;var s,h,c=e+o*this.anchorX,l=i+a*this.anchorY,u=(e+n)/2,f=(i+r)/2;return c>u&&l>f?(s=e,h=i):c<=u&&l>f?(s=n,h=i):c<=u&&l<=f?(s=n,h=r):(s=e,h=r),{x0:c,y0:l,r0:0,x1:c,y1:l,r1:Math.sqrt(Math.pow(c-s,2)+Math.pow(l-h,2))}},Object.defineProperties(e.prototype,i),e}(Wt);r(0,[["$",function(){return Jt.name}],"x0","y0","r0","x1","y1","r1"]),r(0,[["$",function(){return Qt.name}],"anchorX","anchorY"]);var Kt=function(t){return t.Horizontal="repeat-x",t.Vertical="repeat-y",t.Both="repeat",t}(Kt||{}),$t=function(t){return t[t.None=0]="None",t[t.Horizontal=1]="Horizontal",t[t.Vertical=2]="Vertical",t[t.Both=3]="Both",t}($t||{}),Zt=function(t){function e(e,i,n,r){void 0===i&&(i="repeat"),void 0===n&&(n=0),void 0===r&&(r=!1),t.call(this,e),this._repeat=i,this._mirror=n,this.useResource=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={repeat:{configurable:!0},mirror:{configurable:!0}};return i.repeat.get=function(){return this._repeat},i.repeat.set=function(t){this._repeat!==t&&(this._repeat=t,this._updated())},i.mirror.get=function(){return this._mirror},i.mirror.set=function(t){this._mirror!==t&&(this._mirror=t,this._updated())},e.prototype.createPattern=function(t){var e=this.getPatternSource(t),i=t.createPattern(e,this.repeat);return e instanceof kt&&it.getInstance().checkIn(e),i},e.prototype.calcBaseTransform=function(t){return te.set(1,0,0,1,t.x,t.y)},e.prototype.getPatternSource=function(t){if(0===this.mirror){if(this.useResource)return this.resource;var e=this.resource,i=e.width,n=e.height,r=it.getInstance().checkOut(t.constructor);return r.resetBufferInfo(t,i,n,1),r.drawImage(this.resource,0,0,i,n),r}var o,a=this.resource,s=a.width,h=a.height;switch(this.mirror){case 1:return(o=it.getInstance().checkOut(t.constructor)).resetBufferInfo(t,2*s,h,1),o.drawImage(this.resource,0,0,s,h),o.transform=ee,o.drawImage(this.resource,-2*s,0,s,h),o;case 2:return(o=it.getInstance().checkOut(t.constructor)).resetBufferInfo(t,s,2*h,1),o.drawImage(this.resource,0,0,s,h),o.transform=ie,o.drawImage(this.resource,0,-2*h,s,h),o;case 3:return(o=it.getInstance().checkOut(t.constructor)).resetBufferInfo(t,2*s,2*h,1),o.drawImage(this.resource,0,0,s,h),o.transform=ee,o.drawImage(this.resource,-2*s,0,s,h),o.transform=ie,o.drawCanvas(o,0,-2*h,o.width,o.height),o}},Object.defineProperties(e.prototype,i),e}(Ft),te=new c,ee=new c(-1,0,0,1,0,0),ie=new c(1,0,0,-1,0,0);function ne(t){return(e=t,Object.getPrototypeOf(e).constructor).defaults;var e}r(0,[["$",function(){return Zt.name}],["repeat",function(t){var e;return(e={},e["repeat-x"]="Horizontal",e["repeat-y"]="Vertical",e.repeat="Both",e)[t.repeat]}],["mirror",function(t){return $t[t.mirror]}]]);var re=function(t){function e(){t.apply(this,arguments),this.forbidWebgl=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,i,n){},e.prototype.getFilterMatrix=function(t,e){return oe.identity()},e.prototype.updateFilterBounds=function(t,e,i){},e}(o),oe=new c;r(0,[["$",function(){return re.name}],["type",!1]]);var ae=function(t){function e(e){var i,n,r,o;void 0===e&&(e={}),t.call(this),this.type="blur";var a=ne(this);this._radiusX=null!=(i=e.radiusX)?i:a.radiusX,this._radiusY=null!=(n=e.radiusY)?n:a.radiusY,this._maxPadX=null!=(r=e.maxPadX)?r:a.maxPadX,this._maxPadY=null!=(o=e.maxPadY)?o:a.maxPadY}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={radiusX:{configurable:!0},radiusY:{configurable:!0},maxPadX:{configurable:!0},maxPadY:{configurable:!0}};return i.radiusX.get=function(){return this._radiusX},i.radiusX.set=function(t){this._radiusX!==t&&(this._radiusX=t,this._updated())},i.radiusY.get=function(){return this._radiusY},i.radiusY.set=function(t){this._radiusY!==t&&(this._radiusY=t,this._updated())},i.maxPadX.get=function(){return this._maxPadX},i.maxPadX.set=function(t){this._maxPadX!==t&&(this._maxPadX=t,this._updated())},i.maxPadY.get=function(){return this._maxPadY},i.maxPadY.set=function(t){this._maxPadY!==t&&(this._maxPadY=t,this._updated())},e.prototype.apply=function(t,e,i,n){var r=e.resolution*this.radiusX*i/2,o=e.resolution*this.radiusY*n/2;if(0!==r||0!==o){var a,s=R(this.maxPadX,0,1/0),h=R(this.maxPadY,0,1/0),l=R(this.radiusX*i*2,0,s),u=R(this.radiusY*n*2,0,h);if(e.pad(se.set(u,l,u,l)),this.forbidWebgl)(a=it.getInstance().checkOut(e.constructor)).resetBufferInfo(e,e.width,e.height,e.resolution,!0),a.filter="blur("+r+"px)",a.drawCanvas(e,e.padding.left,e.padding.top);else{if(!(a=e.getGlBuffer(e.width,e.height)))return;!function(t,e,i,n){var r=t.gl,o=t.getDefaultVertexShader(),a=t.getShader("blur",r.FRAGMENT_SHADER,"\n    precision mediump float;\n\n    uniform sampler2D u_image;\n    uniform vec2 u_resolution;\n    uniform vec2 u_direction;\n    uniform int u_d;\n    uniform int u_dOffset;\n    uniform bool u_flip;\n\n    vec4 read(sampler2D image, vec2 uv) {\n      if (uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) return vec4(0.0);\n      return texture2D(image, uv);\n    }\n\n    vec4 boxBlur(sampler2D image, vec2 uv, vec2 resolution, int d, int dOffset, vec2 direction) {\n      int start = int(float(d) / 2.0) * 2 == d ? d / 2 : (d + dOffset) / 2;\n      vec4 acc;\n      for (int i = 0; i < 1024; i++) {\n        if (i >= d) break;\n\n        vec2 dst = uv + direction * float(i - start + dOffset) / resolution;\n        acc += read(image, dst);\n      }\n\n      return acc / float(d);\n    }\n\n    void main() {\n      vec2 uv = vec2(gl_FragCoord.xy / u_resolution);\n      if (u_flip) uv.y = 1.0 - uv.y;\n\n      if (u_d == 0) {\n        gl_FragColor = texture2D(u_image, uv);\n      } else {\n        gl_FragColor = boxBlur(u_image, uv, u_resolution, u_d, u_dOffset, u_direction);\n      }\n    }\n  ");t.useProgram("blur",o,a),t.useDefaultFillRect(),t.uniform2f("u_resolution",r.canvas.width,r.canvas.height);var s=t.useTexture(e),h=t.createAndBindBufferTexture(),c=t.createAndBindFramebuffer(h),l=t.createAndBindBufferTexture(),u=t.createAndBindFramebuffer(l),f=s,d=c,p=function(t){r.bindTexture(r.TEXTURE_2D,f),r.bindFramebuffer(r.FRAMEBUFFER,d),null==t||t(),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLES,0,6),f=f===h?l:h,d=d===c?u:c},g=function(e,i,n){t.uniform2f("u_direction",i,n),t.uniform1i("u_d",e),e%2==0?(p((function(){return t.uniform1i("u_dOffset",0)})),p((function(){return t.uniform1i("u_dOffset",1)})),p((function(){return t.uniform1i("u_d",e+1)}))):(p(),p(),p())};r.clearColor(0,0,0,0);var y=Math.floor(3*i*Math.sqrt(2*Math.PI)/4+.5),v=Math.floor(3*n*Math.sqrt(2*Math.PI)/4+.5);t.uniform1i("u_flip",0),g(y,1,0),g(v,0,1),r.bindTexture(r.TEXTURE_2D,f),r.bindFramebuffer(r.FRAMEBUFFER,null),t.uniform1i("u_d",0),t.uniform1i("u_flip",1),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLES,0,6),r.deleteTexture(h),r.deleteTexture(l),r.deleteFramebuffer(c),r.deleteFramebuffer(u)}(a,e.native,r,o)}e.transform=c.Identity,e.clear(),e.drawCanvas(a,-e.padding.left,-e.padding.top,e.width,e.height),a instanceof kt&&it.getInstance().checkIn(a)}},e.prototype.updateFilterBounds=function(t,e){var i=R(this.maxPadX,0,1/0),n=R(this.maxPadY,0,1/0),r=R(this.radiusX,0,i),o=R(this.radiusY,0,n);e.pad(se.set(o,r,o,r))},Object.defineProperties(e.prototype,i),e}(re);ae.defaults={radiusX:4,radiusY:4,maxPadX:1/0,maxPadY:1/0};var se=new ot;r(0,[["$",function(){return ae.name}],"radiusX","radiusY","maxPadX","maxPadY"]);var he=function(t){function e(e){var i;void 0===e&&(e={}),t.call(this),this.type="color-matrix";var n=ne(this);this._colorMatrix=null!=(i=e.colorMatrix)?i:n.colorMatrix}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={colorMatrix:{configurable:!0}};return i.colorMatrix.get=function(){return this._colorMatrix},i.colorMatrix.set=function(t){this._colorMatrix!==t&&(this._colorMatrix=t,this._updated())},e.prototype.apply=function(t,e){var i=e.getGlBuffer(e.width,e.height);i&&(ce(i,e.native,this.colorMatrix),e.transform=c.Identity,e.clear(),e.drawCanvas(i,0,0,e.width,e.height))},e.prototype.applyTo=function(t,e,i){throw new Error("Method not implemented")},Object.defineProperties(e.prototype,i),e}(re);function ce(t,e,i){var n=t.gl,r=t.getDefaultVertexShader(),o=t.getShader("color-matrix",n.FRAGMENT_SHADER,"\n    precision mediump float;\n\n    uniform sampler2D u_image;\n    uniform float m[20];\n    varying vec2 v_texCoord;\n\n    void main() {\n      vec4 c = texture2D(u_image, v_texCoord);\n      gl_FragColor.r = m[0] * c.r + m[1] * c.g + m[2] * c.b + m[3] * c.a + m[4];\n      gl_FragColor.g = m[5] * c.r + m[6] * c.g + m[7] * c.b + m[8] * c.a + m[9];\n      gl_FragColor.b = m[10] * c.r + m[11] * c.g + m[12] * c.b + m[13] * c.a + m[14];\n      gl_FragColor.a = m[15] * c.r + m[16] * c.g + m[17] * c.b + m[18] * c.a + m[19];\n    }\n  ");t.useProgram("color-matrix",r,o),t.useTexture(e),t.uniform1fv("m",i),t.drawRect()}he.defaults={colorMatrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]},r(0,[["$",function(){return he.name}],"colorMatrix"]);var le=function(t){function e(e){var i;void 0===e&&(e={}),t.call(this),this.type="convolution-3x3";var n=ne(this);this._kernel=null!=(i=e.kernel)?i:n.kernel}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={kernel:{configurable:!0}};return i.kernel.get=function(){return this._kernel},i.kernel.set=function(t){this._kernel!==t&&(this._kernel=t,this._updated())},e.prototype.apply=function(t,e){var i,n,r,o,a,s,h=e.getGlBuffer(e.width,e.height);h&&(i=h,n=e.native,r=this.kernel,o=i.gl,a=i.getDefaultVertexShader(),s=i.getShader("convolution-3x3",o.FRAGMENT_SHADER,"\n    precision mediump float;\n\n    uniform sampler2D u_image;\n    uniform vec2 u_resolution;\n    uniform float u_kernel[9];\n\n    vec4 read(sampler2D image, vec2 uv) {\n      if (uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) return vec4(0.0);\n      return texture2D(image, uv);\n    }\n\n    vec4 convolution3x3(sampler2D image, vec2 uv, vec2 resolution, float kernel[9]) {\n      vec2 pixel = vec2(1.0, 1.0) / u_resolution;\n      return read(image, uv + pixel * vec2(-1.0, -1.0)) * kernel[0]\n           + read(image, uv + pixel * vec2( 0.0, -1.0)) * kernel[1]\n           + read(image, uv + pixel * vec2( 1.0, -1.0)) * kernel[2]\n           + read(image, uv + pixel * vec2(-1.0,  0.0)) * kernel[3]\n           + read(image, uv + pixel * vec2( 0.0,  0.0)) * kernel[4]\n           + read(image, uv + pixel * vec2( 1.0,  0.0)) * kernel[5]\n           + read(image, uv + pixel * vec2(-1.0,  1.0)) * kernel[6]\n           + read(image, uv + pixel * vec2( 0.0,  1.0)) * kernel[7]\n           + read(image, uv + pixel * vec2( 1.0,  1.0)) * kernel[8];\n    }\n\n    void main() {\n      vec2 uv = vec2(gl_FragCoord.xy / u_resolution);\n      uv.y = 1.0 - uv.y;\n      gl_FragColor = convolution3x3(u_image, uv, u_resolution, u_kernel);\n    }\n  "),i.useProgram("convolution-3x3",a,s),i.useTexture(n),i.uniform2f("u_resolution",o.canvas.width,o.canvas.height),i.uniform1fv("u_kernel",r),i.drawRect(),e.transform=c.Identity,e.clear(),e.drawCanvas(h,0,0,e.width,e.height))},Object.defineProperties(e.prototype,i),e}(re);le.defaults={kernel:[0,0,0,0,1,0,0,0,0]},r(0,[["$",function(){return le.name}],"kernel"]);var ue=function(t){function e(e){void 0===e&&(e=k.None),t.call(this),this.type="fill-overlay",this._fill=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={fill:{configurable:!0}};return i.fill.get=function(){return this._fill},i.fill.set=function(t){this._fill!==t&&(this._fill=t,this._updated())},e.prototype.apply=function(t,e){e.save(),e.globalCompositeOperation="source-in",e.beginPath(),e.rect(e.bounds.x,e.bounds.y,e.bounds.width,e.bounds.height),this.fill.applyTo(e,e.bounds),this.fill.applyTransformTo(e,e.bounds),e.fill(),e.restore()},Object.defineProperties(e.prototype,i),e}(re);r(0,[["$",function(){return ue.name}],"fill"]);var fe="http://www.w3.org/2000/svg";function de(t,e,i){var n=document.getElementById(t);if(!n){(n=document.createElementNS(fe,"filter")).setAttribute("id",t);var r=function(t,e){var i="filter-element",n=document.getElementById(i);return n||((n=document.createElementNS(fe,"svg")).setAttribute("xmlns",fe),n.setAttribute("version","1.1"),n.setAttribute("id",i),n.style.position="absolute",n.style.display="none",document.body.appendChild(n)),n.setAttribute("viewBox","0 0 "+t+" "+e),n}(e,i);r.appendChild(n)}return n}function pe(t,e,i){var n="color-matrix-filter",r=de(n,t,e),o=r.childNodes[0];return o||((o=document.createElementNS(fe,"feColorMatrix")).setAttribute("type","matrix"),r.appendChild(o)),o.setAttribute("values",i),n}var ge=function(t){return t[t.Erode=0]="Erode",t[t.Dilate=1]="Dilate",t}(ge||{}),ye="\nprecision mediump float;\n\nuniform sampler2D u_image;\nuniform vec2 u_resolution;\nuniform int u_mode;\nuniform int u_radiusX;\nuniform int u_radiusY;\nuniform int u_ignoreAlpha;\nuniform int u_picture;\n\nvec4 read(sampler2D image, vec2 uv) {\n  vec2 edge = vec2(float(u_radiusX / 2), float(u_radiusY / 2)) / u_resolution;\n  if (uv.x < edge.x || uv.x > 1.0 - edge.x || uv.y < edge.y || uv.y > 1.0 - edge.y) return vec4(0.0);\n  return texture2D(image, uv);\n}\n\nvoid minPerChannel(inout vec4 result, vec4 color) {\n  result.r = min(result.r, color.r);\n  result.g = min(result.g, color.g);\n  result.b = min(result.b, color.b);\n  result.a = min(result.a, color.a);\n}\n\nvoid maxPerChannel(inout vec4 result, vec4 color) {\n  result.r = max(result.r, color.r);\n  result.g = max(result.g, color.g);\n  result.b = max(result.b, color.b);\n  result.a = max(result.a, color.a);\n}\n\nvec4 morphology(sampler2D image, vec2 uv, vec2 resolution, int mode, int radiusX, int radiusY, int ignoreAlpha) {\n  vec2 pixel = vec2(1.0, 1.0) / u_resolution;\n  vec4 result = read(image, uv);\n\n  if (radiusX > 20 && u_picture > 0) {\n    for (int i = 1; i < 128; i++) {\n      if (i > radiusX) break;\n  \n      if (mode == 0) { // erode\n        minPerChannel(result, read(image, uv + pixel * vec2(i, 0)));\n        minPerChannel(result, read(image, uv + pixel * vec2(-i, 0)));\n        minPerChannel(result, read(image, uv + pixel * vec2(0, i)));\n        minPerChannel(result, read(image, uv + pixel * vec2(0, -i)));\n  \n        if (i < 50) {\n          minPerChannel(result, read(image, uv + pixel * vec2(i, i)));\n          minPerChannel(result, read(image, uv + pixel * vec2(-i, i)));\n          minPerChannel(result, read(image, uv + pixel * vec2(i, -i)));\n          minPerChannel(result, read(image, uv + pixel * vec2(-i, -i)));\n        }\n      }\n    }\n  } else {\n    for (int i = 1; i < 128; i++) {\n      if (i > radiusX) break;\n      for (int j = 1; j < 128; j++) {\n        if (j > radiusY) break;\n\n        if (mode == 0) { // erode\n          minPerChannel(result, read(image, uv + pixel * vec2(i, j)));\n          minPerChannel(result, read(image, uv + pixel * vec2(i, -j)));\n          minPerChannel(result, read(image, uv + pixel * vec2(-i, j)));\n          minPerChannel(result, read(image, uv + pixel * vec2(-i, -j)));\n        }\n\n        if (mode == 1) { // dilate\n          maxPerChannel(result, read(image, uv + pixel * vec2(i, j)));\n          maxPerChannel(result, read(image, uv + pixel * vec2(i, -j)));\n          maxPerChannel(result, read(image, uv + pixel * vec2(-i, j)));\n          maxPerChannel(result, read(image, uv + pixel * vec2(-i, -j)));\n        }\n      }\n    }\n  }\n\n  if (ignoreAlpha == 1 && result != vec4(0.0)) result.a = 1.0;\n  return result;\n}\n\nvoid main() {\n  vec2 uv = vec2(gl_FragCoord.xy / u_resolution);\n  uv.y = 1.0 - uv.y;\n  gl_FragColor = morphology(u_image, uv, u_resolution, u_mode, u_radiusX, u_radiusY, u_ignoreAlpha);\n}",ve=function(t){function e(e){var i,n,r,o,a;void 0===e&&(e={}),t.call(this),this.type="morphology";var s=ne(this);this._mode=null!=(i=e.mode)?i:s.mode,this._radiusX=null!=(n=e.radiusX)?n:s.radiusX,this._radiusY=null!=(r=e.radiusY)?r:s.radiusY,this._ignoreAlpha=null!=(o=e.ignoreAlpha)?o:s.ignoreAlpha,this._isPicture=null!=(a=e.isPicture)?a:s.isPicture}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={mode:{configurable:!0},radiusX:{configurable:!0},radiusY:{configurable:!0},ignoreAlpha:{configurable:!0},isPicture:{configurable:!0}};return i.mode.get=function(){return this._mode},i.mode.set=function(t){this._mode!==t&&(this._mode=t,this._updated())},i.radiusX.get=function(){return this._radiusX},i.radiusX.set=function(t){this._radiusX!==t&&(this._radiusX=t,this._updated())},i.radiusY.get=function(){return this._radiusY},i.radiusY.set=function(t){this._radiusY!==t&&(this._radiusY=t,this._updated())},i.ignoreAlpha.get=function(){return this._ignoreAlpha},i.ignoreAlpha.set=function(t){this._ignoreAlpha!==t&&(this._ignoreAlpha=t,this._updated())},i.isPicture.get=function(){return this._isPicture},i.isPicture.set=function(t){this._isPicture!==t&&(this._isPicture=t,this._updated())},e.prototype.apply=function(t,e,i,n){var r,o,a,s,h,l,u,f,d=e.resolution*i*this.radiusX,p=e.resolution*n*this.radiusY;if(1===this.mode&&e.pad(me.set(p,d,p,d)),this.forbidWebgl){var g=1===this.mode?"dilate":"erode",y=(o=e.width,a=e.height,s=Math.max(d,p),h=g,u=de(l="morphology-filter",o,a),(f=u.childNodes[0])||(f=document.createElementNS(fe,"feMorphology"),u.appendChild(f)),f.setAttribute("operator",h),f.setAttribute("radius",""+s),l);(r=it.getInstance().checkOut(e.constructor)).resetBufferInfo(e,e.width,e.height,e.resolution,!0),r.filter="url(#"+y+")",r.drawCanvas(e,e.padding.left,e.padding.top)}else{if(!(r=e.getGlBuffer(e.width,e.height)))return;!function(t,e,i,n,r,o,a){var s=t.gl,h=t.getDefaultVertexShader(),c=t.getShader("morphology",s.FRAGMENT_SHADER,ye);t.useProgram("morphology",h,c),t.useTexture(e),t.uniform2f("u_resolution",s.canvas.width,s.canvas.height),t.uniform1i("u_mode",i),t.uniform1i("u_radiusX",Math.round(n)),t.uniform1i("u_radiusY",Math.round(r)),t.uniform1i("u_ignoreAlpha",Number(o)),t.uniform1i("u_picture",Number(a)),t.drawRect()}(r,e.native,this.mode,d,p,this.ignoreAlpha,this.isPicture)}e.transform=c.Identity,e.clear(),e.drawCanvas(r,-e.padding.left,-e.padding.top,e.width,e.height),r instanceof kt&&it.getInstance().checkIn(r)},e.prototype.updateFilterBounds=function(t,e){var i=this.radiusX,n=this.radiusY;e.pad(me.set(n,i,n,i))},Object.defineProperties(e.prototype,i),e}(re);ve.defaults={mode:0,radiusX:4,radiusY:4,ignoreAlpha:!1,isPicture:!1};var me=new ot;r(0,[["$",function(){return ve.name}],"mode","radiusX","radiusY","ignoreAlpha"]);var _e=function(){function t(t){var e=this;void 0===t&&(t=null),this.data=null,this.loadPromise=null,t instanceof Promise?(this.loadPromise=t,this.loadPromise.then(this.onLoaded.bind(this)).catch((function(t){console.error("Failed to load resource:",t),e.loadPromise=null}))):null!==t&&this.onLoaded(t)}var e={loading:{configurable:!0}};return e.loading.get=function(){return null!==this.loadPromise},t.prototype.onLoaded=function(t){this.data=t,this.loadPromise=null},Object.defineProperties(t.prototype,e),t}();r(0,[["$",function(){return _e.name}],"data","loading"]);var xe=function(t){function e(e){void 0===e&&(e=null),t.call(this,e),null!=this.width||(this.width=0),null!=this.height||(this.height=0)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={isEmpty:{configurable:!0}};return i.isEmpty.get=function(){return this.loading||0===this.width||0===this.height},e.prototype.onImageLoaded=function(t){if(!(this.loadPromise instanceof Promise))return t();this.loadPromise.then(t)},e.prototype.onImageErrored=function(t){this.loadPromise instanceof Promise&&this.loadPromise.catch(t)},e.prototype.onLoaded=function(e){t.prototype.onLoaded.call(this,e);var i=e;this.width=i.naturalWidth||i.width,this.height=i.naturalHeight||i.height},Object.defineProperties(e.prototype,i),e}(_e);r(0,[["$",function(){return xe.name}],"width","height"]);var be=function(t){function e(e){t.call(this),this.resource=e,this._width=void 0,this._height=void 0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={resource:{configurable:!0},width:{configurable:!0},height:{configurable:!0},naturalWidth:{configurable:!0},naturalHeight:{configurable:!0},_isCompoundObject:{configurable:!0}};return i.resource.get=function(){return this._resource},i.resource.set=function(t){this._resource!==t&&(this._resource=t,this._boundsUpdated(),this._updateWhenLoaded())},i.width.get=function(){return void 0!==this._width?this._width:this.resource?this.resource.width:0},i.width.set=function(t){this._width!==t&&(this._width=t,this._boundsUpdated())},i.height.get=function(){return void 0!==this._height?this._height:this.resource?this.resource.height:0},i.height.set=function(t){this._height!==t&&(this._height=t,this._boundsUpdated())},i.naturalWidth.get=function(){var t;return(null==(t=this.resource)?void 0:t.width)||0},i.naturalHeight.get=function(){var t;return(null==(t=this.resource)?void 0:t.height)||0},i._isCompoundObject.get=function(){return!1},e.prototype._updateWhenLoaded=function(){var t,e=this;(null==(t=this.resource)?void 0:t.loading)&&this.resource.onImageLoaded((function(){e._boundsUpdated()}))},e.prototype.updateInitialBounds=function(t){t.set(0,0,this.width,this.height)},e.prototype.draw=function(t){this.resource&&!this.resource.isEmpty&&t.drawImage(this.resource,0,0,this.width,this.height)},e.prototype.drawHit=function(e){t.prototype.drawHit.call(this,e),this.colorKey&&this.pointerEvents!==dt.NONE&&(e.nativeFillStyle=O.fromHex(this.colorKey).rgba,e.fillRect(0,0,this.width,this.height))},Object.defineProperties(e.prototype,i),e}(yt);r(0,["resource","width","height"]);var we=function(t){function e(e){void 0===e&&(e=""),t.call(this),this._segments=[],this._pathDirty=!1,this._hitStrokeWidth=null,this._path=e,this._segmentsDirty=!!e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={path:{configurable:!0},segments:{configurable:!0},hitStrokeWidth:{configurable:!0}};return i.path.get=function(){return this._pathDirty&&(this._pathDirty=!1,this._path=function(t){var e="";return t.forEach((function(t){t.cmd===D.MoveTo||t.cmd===D.LineTo?e+=t.cmd+" "+t.x+" "+t.y+" ":t.cmd===D.CurveTo?e+=t.cmd+" "+t.x1+" "+t.y1+", "+t.x2+" "+t.y2+", "+t.x+" "+t.y+" ":t.cmd===D.QuadraticCurveTo?e+=t.cmd+" "+t.x1+" "+t.y1+", "+t.x+" "+t.y+" ":e+=t.cmd})),e}(this._segments)),this._path},i.path.set=function(t){(this._path!==t||this._pathDirty)&&(this._path=t,this._segmentsDirty=!0,this._pathDirty=!1,this._boundsUpdated())},i.segments.get=function(){return this._segmentsDirty&&(this._segmentsDirty=!1,this._segments=$.parse(this._path)),this._segments},i.segments.set=function(t){this._segments=t,this._segmentsDirty=!1,this._pathDirty=!0,this._boundsUpdated()},i.hitStrokeWidth.get=function(){return this._hitStrokeWidth},i.hitStrokeWidth.set=function(t){this._hitStrokeWidth!==t&&(this._hitStrokeWidth=t,this._visualUnrelatedUpdate())},e.prototype.generateRawRenderData=function(e){t.prototype.generateRawRenderData.call(this,e);var i=this.worldTransform;return{type:"SvgGraphics",transform:{a:i.a,b:i.b,c:i.c,d:i.d,tx:i.tx,ty:i.ty},segments:this.segments,fillStyle:this.fill.generateRawRenderData(this.initialBounds),strokeStyle:this.strokeStyle.fill.generateRawRenderData(this.strokeBounds),lineWidth:this.strokeStyle.width,lineCap:this.strokeStyle.lineCap,lineJoin:this.strokeStyle.lineJoin,lineDash:this.strokeStyle.dash,lineDashOffset:this.strokeStyle.dashOffset,miterLimit:this.strokeStyle.miterLimit}},e.prototype.draw=function(t){if(this.applyPath(t),!this.fill.isEmpty()&&(this.fill instanceof Ht?this.fill.renderWithClip(t,this.initialBounds):this.fill instanceof Ut?this.fill.renderWithClip(t,this):(t.save(),this.fill.applyTo(t,this.initialBounds),this.fill.applyTransformTo(t,this.initialBounds),t.fill(),t.restore()),this.fillFilters.length>0)){var e=t.contextTranslate.x,i=t.contextTranslate.y;t.contextTranslate.x=0,t.contextTranslate.y=0,this.applyFilters(t,this.fillFilters),t.contextTranslate.x=e,t.contextTranslate.y=i}this.strokeStyle.isEmpty()||(t.save(),this.strokeStyle.applyTo(t),this.stroke.applyToStroke(t,this.strokeBounds),this.stroke.applyTransformTo(t,this.strokeBounds),t.stroke(),t.restore())},e.prototype.drawHit=function(e){if(t.prototype.drawHit.call(this,e),this.colorKey&&this.pointerEvents!==dt.NONE){this.applyPath(e),this.fill!==k.None&&this.pointerEvents===dt.AUTO&&(e.nativeFillStyle=O.fromHex(this.colorKey).rgba,e.fill());var i=null!==this.hitStrokeWidth?this.hitStrokeWidth:this.stroke!==k.None?this.strokeWidth:0;i>0&&this.pointerEvents===dt.AUTO&&(this.strokeStyle.applyTo(e),e.lineWidth=i,e.nativeStrokeStyle=O.fromHex(this.colorKey).rgba,e.stroke())}},e.prototype.applyPath=function(t){et(t,this.segments)},e.prototype.updateInitialBounds=function(t){W.calcBounds(this.segments,t)},e.prototype.updateStrokeBounds=function(t){W.calcStrokeBounds(this.segments,this.strokeStyle,t)},Object.defineProperties(e.prototype,i),e}(wt);r(0,["path","hitStrokeWidth"]);var Te=function(t){function e(){t.call(this),this.underline=new P,this.lineThrough=new P,this._fontFamily="Arial",this._fontSize=16,this._fontWeight=Oe.Normal,this._fontStyle=Se.Normal,this._textBaseline=Ce.Alphabetic,this.underline._addUpdateListener(this._updated),this.lineThrough._addUpdateListener(this._updated)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={fontFamily:{configurable:!0},fontSize:{configurable:!0},fontWeight:{configurable:!0},fontStyle:{configurable:!0},textBaseline:{configurable:!0},font:{configurable:!0}};return i.fontFamily.get=function(){return this._fontFamily},i.fontFamily.set=function(t){this._fontFamily!==t&&(this._fontFamily=t,this._updated())},i.fontSize.get=function(){return this._fontSize},i.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this._updated())},i.fontWeight.get=function(){return this._fontWeight},i.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this._updated())},i.fontStyle.get=function(){return this._fontStyle},i.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this._updated())},i.textBaseline.get=function(){return this._textBaseline},i.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this._updated())},i.font.get=function(){return this.fontStyle+" "+this.fontWeight+" "+this.fontSize+"px "+this.fontFamily},Object.defineProperties(e.prototype,i),e}(o),Oe=function(t){return t.Normal="normal",t.Bold="bold",t.Bolder="bolder",t.Lighter="lighter",t.W100="100",t.W200="200",t.W300="300",t.W400="400",t.W500="500",t.W600="600",t.W700="700",t.W800="800",t.W900="900",t}(Oe||{}),Se=function(t){return t.Normal="normal",t.Italic="italic",t.Oblique="oblique",t}(Se||{}),Ce=function(t){return t.Alphabetic="alphabetic",t.Top="top",t.Hanging="hanging",t.Middle="middle",t.Ideographic="ideographic",t.Bottom="bottom",t}(Ce||{});r(0,["fontFamily","fontSize","fontWeight","fontStyle","textBaseline"]);var Ee=function(t){function e(e){var i=this;void 0===e&&(e=""),t.call(this),this.textStyle=new Te,this.style=new bt(this.textStyle),this._content=e,this.fill=new _t(O.Black),this.textStyle._addUpdateListener((function(){return i._boundsUpdated()}))}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={content:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontWeight:{configurable:!0},fontStyle:{configurable:!0},textBaseline:{configurable:!0},underline:{configurable:!0},lineThrough:{configurable:!0}};return i.content.get=function(){return this._content},i.content.set=function(t){this._content!==t&&(this._content=t,this._boundsUpdated())},i.fontFamily.get=function(){return this.textStyle.fontFamily},i.fontFamily.set=function(t){this.textStyle.fontFamily=t},i.fontSize.get=function(){return this.textStyle.fontSize},i.fontSize.set=function(t){this.textStyle.fontSize=t},i.fontWeight.get=function(){return this.textStyle.fontWeight},i.fontWeight.set=function(t){this.textStyle.fontWeight=t},i.fontStyle.get=function(){return this.textStyle.fontStyle},i.fontStyle.set=function(t){this.textStyle.fontStyle=t},i.textBaseline.get=function(){return this.textStyle.textBaseline},i.textBaseline.set=function(t){this.textStyle.textBaseline=t},i.underline.get=function(){return this.textStyle.underline},i.lineThrough.get=function(){return this.textStyle.lineThrough},e.prototype.generateRawRenderData=function(e){t.prototype.generateRawRenderData.call(this,e);var i=this.worldTransform;return{type:"Text",transform:{a:i.a,b:i.b,c:i.c,d:i.d,tx:i.tx,ty:i.ty},fillStyle:this.fill.generateRawRenderData(this.initialBounds),strokeStyle:this.strokeStyle.fill.generateRawRenderData(this.strokeBounds),content:this.content,font:this.textStyle.font,textBaseline:this.textBaseline,lineWidth:this.strokeStyle.width,lineCap:this.strokeStyle.lineCap,lineJoin:this.strokeStyle.lineJoin,lineDash:this.strokeStyle.dash,lineDashOffset:this.strokeStyle.dashOffset,miterLimit:this.strokeStyle.miterLimit}},e.prototype.draw=function(t){if(t.font=this.textStyle.font,t.textBaseline=this.textBaseline,!this.fill.isEmpty()&&(this.fill.applyTo(t,this.initialBounds),t.fillText(this.content,0,0),this.fillFilters.length>0)){var e=t.contextTranslate.x,i=t.contextTranslate.y;t.contextTranslate.x=0,t.contextTranslate.y=0,this.applyFilters(t,this.fillFilters),t.contextTranslate.x=e,t.contextTranslate.y=i}this.strokeStyle.isEmpty()||(this.strokeStyle.applyTo(t),this.stroke.applyToStroke(t,this.strokeBounds),t.strokeText(this.content,0,0)),this.drawUnderline(t),this.drawLineThrough(t)},e.prototype._drawToBuffer=function(e,i){var n=(new f).addBounds(i);return this.fontStyle!==Se.Normal&&n.pad(new ot(0,this.fontSize,0,0)),t.prototype._drawToBuffer.call(this,e,n)},e.prototype.drawHit=function(e){if(t.prototype.drawHit.call(this,e),this.colorKey&&this.pointerEvents!==dt.NONE){this.fill.isEmpty()&&this.pointerEvents===dt.AUTO||(e.nativeFillStyle=O.fromHex(this.colorKey).rgba);var i=this.textBaseline===Ce.Alphabetic?this.fontSize/3-this.initialBounds.height:this.fontSize*(0+Re[this.textBaseline])*-.5-this.fontSize/4;e.beginPath(),e.rect(0,i,this.initialBounds.width,this.initialBounds.height),e.fill()}},e.prototype.updateInitialBounds=function(t){var e=this.app.view;e.font=this.textStyle.font;var i=e.measureText(this.content).width,n=1.4*this.fontSize;t.clear().addFrame(0,0,i,n)},e.prototype.drawUnderline=function(t){if(0!==this.underline.width){(this.underline.fill===k.None?this.fill:this.underline.fill).applyToStroke(t,this.initialBounds);var e=this.textBaseline===Ce.Alphabetic?this.initialBounds.height/4:this.fontSize*(-2+Re[this.textBaseline])*-.5;t.drawLine(this.initialBounds.width,e,this.underline.width)}},e.prototype.drawLineThrough=function(t){if(0!==this.textStyle.lineThrough.width){(this.lineThrough.fill===k.None?this.fill:this.lineThrough.fill).applyToStroke(t,this.initialBounds);var e=this.textBaseline===Ce.Alphabetic?-this.fontSize/3:this.fontSize*(-1+Re[this.textBaseline])*-.5;t.drawLine(this.initialBounds.width,e,this.lineThrough.width)}},Object.defineProperties(e.prototype,i),e}(wt),Re={};Re[Ce.Top]=0,Re[Ce.Hanging]=0,Re[Ce.Middle]=1,Re[Ce.Ideographic]=2,Re[Ce.Bottom]=2,r(0,[["style",!1],"content","textStyle"])},"793e7e776c":function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function s(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function c(t,e){return t(e={exports:{}},e.exports),e.exports}i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return O})),i.d(e,"e",(function(){return _})),i.d(e,"f",(function(){return w})),i.d(e,"g",(function(){return m})),i.d(e,"h",(function(){return y})),i.d(e,"i",(function(){return g})),i.d(e,"j",(function(){return T})),i.d(e,"k",(function(){return p})),i.d(e,"l",(function(){return d}));var l=c((function(t){function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));h(l);var u=c((function(t){var e=l.default;function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=i=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var n,r={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(t,e,i){t[e]=i.value},h="function"==typeof Symbol?Symbol:{},c=h.iterator||"@@iterator",l=h.asyncIterator||"@@asyncIterator",u=h.toStringTag||"@@toStringTag";function f(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(n){f=function(t,e,i){return t[e]=i}}function d(t,e,i,n){var r=e&&e.prototype instanceof x?e:x,o=Object.create(r.prototype),a=new I(n||[]);return s(o,"_invoke",{value:k(t,i,a)}),o}function p(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=d;var g="suspendedStart",y="suspendedYield",v="executing",m="completed",_={};function x(){}function b(){}function w(){}var T={};f(T,c,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(M([])));S&&S!==o&&a.call(S,c)&&(T=S);var C=w.prototype=x.prototype=Object.create(T);function E(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function R(t,i){function n(r,o,s,h){var c=p(t[r],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==e(u)&&a.call(u,"__await")?i.resolve(u.__await).then((function(t){n("next",t,s,h)}),(function(t){n("throw",t,s,h)})):i.resolve(u).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,h)}))}h(c.arg)}var r;s(this,"_invoke",{value:function(t,e){function o(){return new i((function(i,r){n(t,e,i,r)}))}return r=r?r.then(o,o):o()}})}function k(t,e,i){var r=g;return function(o,a){if(r===v)throw Error("Generator is already running");if(r===m){if("throw"===o)throw a;return{value:n,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var h=A(s,i);if(h){if(h===_)continue;return h}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===g)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=v;var c=p(t,e,i);if("normal"===c.type){if(r=i.done?m:y,c.arg===_)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=m,i.method="throw",i.arg=c.arg)}}}function A(t,e){var i=e.method,r=t.iterator[i];if(r===n)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=n,A(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),_;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,_;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,_):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function M(t){if(t||""===t){var i=t[c];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}throw new TypeError(e(t)+" is not iterable")}return b.prototype=w,s(C,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:b,configurable:!0}),b.displayName=f(w,u,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,f(t,u,"GeneratorFunction")),t.prototype=Object.create(C),t},r.awrap=function(t){return{__await:t}},E(R.prototype),f(R.prototype,l,(function(){return this})),r.AsyncIterator=R,r.async=function(t,e,i,n,o){void 0===o&&(o=Promise);var a=new R(d(t,e,i,n),o);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(C),f(C,u,"Generator"),f(C,c,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=M,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return s.type="throw",s.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var h=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(h&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(h){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),P(i),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;P(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:M(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),_}},r}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}));h(u);var f=u(),d=f;try{regeneratorRuntime=f}catch(t){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=f:Function("r","regeneratorRuntime = r")(f)}function p(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{h(n.next(t))}catch(t){o(t)}}function s(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}h((n=n.apply(t,e||[])).next())}))}function g(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function _(t,e,i){return(e=o(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function b(t,e){if(t){if("string"==typeof t)return x(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?x(t,e):void 0}}function w(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},T.apply(null,arguments)}function O(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,a,s=[],h=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;h=!1}else for(;!(h=(n=o.call(i)).done)&&(s.push(n.value),s.length!==e);h=!0);}catch(t){c=!0,r=t}finally{try{if(!h&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}"function"==typeof SuppressedError&&SuppressedError},ec11356cf6:function(t,e,i){t.exports=i("2beec10acc")}}]);
//# sourceMappingURL=slide-common~205ac551-ca3f57.js.map