(this.webpackJsonp=this.webpackJsonp||[]).push([["async~89b7a519"],{"0442e400dc":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i={HORIZONTAL_LEFT:"horizontal_left",HORIZONTAL_CENTER:"horizontal_center",HORIZONTAL_RIGHT:"horizontal_right",HORIZONTAL_JUSTIFY:"horizontal_justify",HORIZONTAL_DISTRIBUTE:"horizontal_distribute",VERTICAL_TOP:"vertical_top",VERTICAL_CENTER:"vertical_center",VERTICAL_BOTTOM:"vertical_bottom"},r={INDENT_INCREASE:"indent_increase",INDENT_REDUCE:"indent_reduce"}},"1e07095161":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return w})),n.d(t,"j",(function(){return C})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return P})),n.d(t,"d",(function(){return S}));n("a84962d637"),n("8a35b54c1d"),n("c554310b5c"),n("bcb5d93d36"),n("c6244f7705"),n("b1e2246d82"),n("8aebbf296a"),n("f45588a8ad"),n("de37db1287");var i=n("14502724a6"),r=n.n(i),o=n("85d0a7609b"),a=n.n(o),l=n("0cf3719522"),s=n.n(l),u=(n("8ee19818c4"),n("0acdc5834b"),n("342844cefa"),n("963f2eaace"),n("b8217400dc"),n("e6f68cdf2e"),n("85d48ef22b"),n("8e7cce0ada"),n("2a6f332b5e"),n("c73625d763")),c=n.n(u),d=(n("2a5f3314a4"),n("565a44e3b1"),n("e0e8dd9366")),h=n("eabf3daf43"),f=n("aa3cc80657");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=null==e?void 0:e.children,n=[];return t.forEach((function(e,t){var i=(e.children||[]).reduce((function(e,t){return e+t.text}),"");n.push({paraIndex:t,text:i})})),n}function y(e){if(e&&"object"===s()(e)){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n],t["origin-".concat(n)]=e[n],t["origin-raw-".concat(n)]=!0})),t}}function b(e,t){return{wrapperStyle:v(v({},e.wrapperStyle),t.wrapperStyle),bodyStyle:v(v({},e.bodyStyle),t.bodyStyle),autoFitType:c()(t,".autoFitType")?t.autoFitType:e.autoFitType}}function m(e,t){var n,i,o=r()(e.path,2),a=o[0],l=o[1],s=null===(n=t[a])||void 0===n||null===(i=n.children)||void 0===i?void 0:i.slice(0,l);if(s){var u=s.reduce((function(e,t){var n;return e+((null===(n=t.text)||void 0===n?void 0:n.length)||0)}),0);return{path:e.path,offset:u+e.offset}}return e}function O(e,t){var n,i,r=(null==e||null===(n=e.props)||void 0===n?void 0:n.style)||{},o=r.fillBackground,a=r.border,l=Object(h.i)(t||e.paragraphList),s=(null==a?void 0:a.color)&&"none"!==a.color||(null==a?void 0:a.gradFill),u=o&&1!==(null==o?void 0:o.noFill),c=[d.d.SLIDE,d.d.MASTER,d.d.LAYOUT].includes(null===(i=e.parent)||void 0===i?void 0:i.type);return l&&!s&&!u&&c}function w(e){var t=0;return null==e||e.forEach((function(e){var n;null===(n=e.textRuns)||void 0===n||n.forEach((function(e){var n;t+=(null==e||null===(n=e.text)||void 0===n?void 0:n.length)||0}))})),t}function C(e){Array.isArray(e)&&e.forEach((function(e){var t=e.textRuns;Array.isArray(t)&&t.forEach((function(e){var t;null!==(t=e.styles)&&void 0!==t&&t.lang||(e.styles=e.styles||{},function(e,t){if(Object(f.b)(e))if("ea"===t.lang&&Object(f.b)(e))t.lang="latin";else{var n;t.lang=null!==(n=t.lang)&&void 0!==n?n:"latin"}else t.lang="ea"}(e.text,e.styles))}))}))}function k(e){var t=e["origin-character"];return!!t&&!(!t.character||t.buNone)}function P(e,t){return e.path[0]===t.path[0]&&0===e.offset&&0===t.offset}function S(e){var t=[];return e.forEach((function(e,n){var i=(e.textRuns||[]).reduce((function(e,t){return e+t.text}),"");t.push({paraIndex:n,text:i})})),t}},"368f462682":function(e,t,n){"use strict";n.d(t,"a",(function(){return Xt}));n("342844cefa"),n("a84962d637"),n("8a35b54c1d"),n("c554310b5c"),n("bcb5d93d36"),n("963f2eaace"),n("c6244f7705"),n("b1e2246d82"),n("8aebbf296a"),n("f45588a8ad"),n("de37db1287");var i=n("14502724a6"),r=n.n(i),o=n("9132715560"),a=n.n(o),l=n("6a364eb35c"),s=n.n(l),u=n("85d0a7609b"),c=n.n(u),d=(n("8ee19818c4"),n("b8217400dc"),n("e6f68cdf2e"),n("405b4a5e2b"),n("85d48ef22b"),n("8e7cce0ada"),n("2a6f332b5e"),n("9657b29818")),h=n("ee6bb53310"),f=n.n(h),p=n("67d3be6cf9"),v=n.n(p),g=n("5fac0349d3"),y=n("02745ec99a"),b=n.n(y),m=n("eea76958ef"),O=n.n(m),w=n("b8d36f7d13"),C=n.n(w),k=n("091d61438e"),P=n.n(k),S=n("3b67d6692b"),x=n.n(S),T=n("b8bbe6e68a"),L=n.n(T),A=n("1ee46ce077"),j=n.n(A),E=n("b5dbdf7ac1"),R=n.n(E),I=n("bcb298f49f"),D=n.n(I),M=n("7ac53f16c0"),B=n.n(M),F=n("4ef6bf8853"),G=n.n(F),N=n("69859c7d6b"),_=n.n(N),z=n("5d4d894261"),U=n.n(z),H=n("5c962f0874"),X=n.n(H),Y=n("80725810c3"),V=n.n(Y),W=n("bb1e0667b7"),K=n.n(W),J=n("b53a2beab6"),q=n.n(J),Z=n("9b7a8493ff"),Q=n.n(Z),$=n("1e20aa1d59"),ee=n.n($),te=n("84b1e57aa0"),ne=n.n(te),ie=n("fa78e280eb"),re=n.n(ie),oe=n("69adbab06d"),ae=n.n(oe),le=n("a3f7168498"),se=n.n(le),ue=n("b75e8a381f"),ce=n.n(ue),de=n("ad3dbb1824"),he=n.n(de),fe=n("ef604355f3"),pe=n.n(fe),ve=n("43a80d422f"),ge=n.n(ve),ye=n("06bb7b9156"),be=n.n(ye),me=n("2d2cb89e51"),Oe=n.n(me),we=n("c4dac71541"),Ce=n.n(we),ke=n("a0f0da2eaf"),Pe=n.n(ke),Se=n("bc0b2e3917"),xe=n.n(Se),Te=n("2382dd50aa"),Le=n.n(Te),Ae=n("d77dd831fb"),je=n.n(Ae),Ee=n("55ed7f57e9"),Re=n.n(Ee),Ie=n("5d9d92e338"),De=n.n(Ie),Me=n("a3524ce81a"),Be=n.n(Me),Fe=n("e8747b8bc8"),Ge=n.n(Fe),Ne=n("3b26d95c8f"),_e=n.n(Ne),ze=n("67f9d4b214"),Ue=n.n(ze),He=n("bcfe75ee99"),Xe=n.n(He),Ye=n("ffe2bef5ef"),Ve=n.n(Ye),We=n("881f1ef6af"),Ke=n.n(We),Je=n("1ff3ee31c0"),qe=n.n(Je),Ze=n("0d530800aa"),Qe=n.n(Ze),$e=n("6aab907730"),et=n.n($e),tt=n("9c1c794b3a"),nt=n.n(tt),it=n("1a277f473c"),rt=n.n(it),ot=n("a5bd0c8995"),at=n.n(ot),lt=n("a73f15ca38"),st=n.n(lt),ut=n("6260ca8aea"),ct=n.n(ut),dt=n("2960cdcecd"),ht=n.n(dt),ft=n("e93c446d6f"),pt=n.n(ft),vt=n("1b6ab9ebb3"),gt=n.n(vt),yt=n("73ccee43b0"),bt=n.n(yt),mt=n("a334e0025c"),Ot=n.n(mt),wt=n("07e3c54aea"),Ct=n.n(wt),kt=n("6b1ca7a09d"),Pt=n.n(kt),St=n("3f986b180e"),xt=n.n(St),Tt=n("b9a9e06f16"),Lt=n.n(Tt),At=n("8a5e6c53dd"),jt=n.n(At),Et=n("1b640784b9"),Rt=n.n(Et),It=n("322718cf31"),Dt=n.n(It),Mt=n("116dfe1d48"),Bt=[{type:Mt.z.BarChart,subType:"".concat(Mt.b.col),layouts:[{title:g.a.t("布局1"),icon:b.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:0,gapWidth:150}},{title:g.a.t("布局2"),icon:O.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showLabel:!0,labelPos:Mt.g.outEnd,showVal:!0,showXAxes:!0,overlap:-25,gapWidth:150}},{title:g.a.t("布局3"),icon:C.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.b,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:-25,gapWidth:75}},{title:g.a.t("布局4"),icon:P.a,config:{showLegend:!0,legendPos:Mt.m.b,showLabel:!0,labelPos:Mt.g.outEnd,showVal:!0,showXAxes:!0,showYAxes:!0,overlap:0,gapWidth:75}},{title:g.a.t("布局5"),icon:x.a,config:{showTitle:!0,showYAxesTitle:!0,showLastCateLabel:!0,labelPos:Mt.g.outEnd,showVal:!0,showSeriesName:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:0,gapWidth:150}},{title:g.a.t("布局6"),icon:L.a,config:{showTitle:!0,showXAxesTitle:!0,showYAxesTitle:!0,showXAxes:!0,showYAxes:!0,overlap:0,gapWidth:0}}]},{type:Mt.z.BarChart,subType:"".concat(Mt.b.col,"-stack"),layouts:[{title:g.a.t("布局1"),icon:j.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:100,gapWidth:55}},{title:g.a.t("布局2"),icon:R.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showLabel:!0,labelPos:Mt.g.ctr,showVal:!0,showXAxes:!0,overlap:100,gapWidth:95}},{title:g.a.t("布局3"),icon:D.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.b,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:100,gapWidth:75}},{title:g.a.t("布局4"),icon:B.a,config:{showTitle:!0,showXAxesTitle:!0,showYAxesTitle:!0,showLastCateLabel:!0,labelPos:Mt.g.ctr,showVal:!0,showSeriesName:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:100,gapWidth:55}},{title:g.a.t("布局5"),icon:G.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showLastSerLabel:!0,labelPos:Mt.g.inEnd,showVal:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:0,gapWidth:300}}]},{type:Mt.z.BarChart,subType:"".concat(Mt.b.bar),layouts:[{title:g.a.t("布局1"),icon:_.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:0,gapWidth:150}},{title:g.a.t("布局2"),icon:U.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showLabel:!0,labelPos:Mt.g.outEnd,showVal:!0,showXAxes:!0,overlap:-25,gapWidth:150}},{title:g.a.t("布局3"),icon:X.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.b,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:-25,gapWidth:75}},{title:g.a.t("布局4"),icon:V.a,config:{showTitle:!0,showYAxesTitle:!0,showLastCateLabel:!0,labelPos:Mt.g.outEnd,showVal:!0,showSeriesName:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:0,gapWidth:150}},{title:g.a.t("布局5"),icon:K.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showXAxesTitle:!0,showYAxesTitle:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:0,gapWidth:150}},{title:g.a.t("布局6"),icon:q.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showLastSerLabel:!0,labelPos:Mt.g.inEnd,showVal:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:40,gapWidth:75}}]},{type:Mt.z.BarChart,subType:"".concat(Mt.b.bar,"-stack"),layouts:[{title:g.a.t("布局1"),icon:Q.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:100,gapWidth:55}},{title:g.a.t("布局2"),icon:ee.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showLabel:!0,labelPos:Mt.g.ctr,showVal:!0,showXAxes:!0,overlap:100,gapWidth:95}},{title:g.a.t("布局3"),icon:ne.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.b,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:100,gapWidth:75}},{title:g.a.t("布局4"),icon:re.a,config:{showLegend:!0,legendPos:Mt.m.r,showXAxesTitle:!0,showYAxesTitle:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,showYMinorGridLine:!0,overlap:100,gapWidth:75}},{title:g.a.t("布局5"),icon:ae.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showLastSerLabel:!0,labelPos:Mt.g.inEnd,showVal:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,overlap:0,gapWidth:300}}]},{type:Mt.z.LineChart,subType:"",layouts:[{title:g.a.t("布局1"),icon:se.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showYAxesTitle:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}},{title:g.a.t("布局2"),icon:ce.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showLabel:!0,labelPos:Mt.g.r,showVal:!0,showXAxes:!0}},{title:g.a.t("布局3"),icon:he.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.b,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}},{title:g.a.t("布局4"),icon:pe.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.b,showLabel:!0,labelPos:Mt.g.ctr,showVal:!0,showXAxes:!0}}]},{type:Mt.z.PieChart,subType:"",layouts:[{title:g.a.t("布局1"),icon:ge.a,config:{showTitle:!0,showLabel:!0,labelPos:Mt.g.bestFit,showPercent:!0,showCategoryName:!0}},{title:g.a.t("布局2"),icon:be.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showLabel:!0,labelPos:Mt.g.bestFit,showPercent:!0}},{title:g.a.t("布局3"),icon:Oe.a,config:{showLegend:!0,legendPos:Mt.m.b}},{title:g.a.t("布局4"),icon:Ce.a,config:{showLabel:!0,labelPos:Mt.g.bestFit,showVal:!0,showCategoryName:!0}},{title:g.a.t("布局5"),icon:Pe.a,config:{showTitle:!0,showLabel:!0,labelPos:Mt.g.bestFit,showCategoryName:!0}},{title:g.a.t("布局6"),icon:xe.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showLabel:!0,labelPos:Mt.g.bestFit,showPercent:!0}}]},{type:Mt.z.DoughnutChart,subType:"",layouts:[{title:g.a.t("布局1"),icon:Le.a,config:{showTitle:!0,showLabel:!0,labelPos:Mt.g.bestFit,showPercent:!0,showCategoryName:!0}},{title:g.a.t("布局2"),icon:je.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showLabel:!0,labelPos:Mt.g.bestFit,showPercent:!0}},{title:g.a.t("布局3"),icon:Re.a,config:{showLegend:!0,legendPos:Mt.m.b}},{title:g.a.t("布局4"),icon:De.a,config:{showLabel:!0,labelPos:Mt.g.bestFit,showVal:!0,showCategoryName:!0}},{title:g.a.t("布局5"),icon:Be.a,config:{showTitle:!0,showLabel:!0,labelPos:Mt.g.bestFit,showCategoryName:!0}},{title:g.a.t("布局6"),icon:Ge.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showLabel:!0,labelPos:Mt.g.bestFit,showPercent:!0}}]},{type:Mt.z.BubbleChart,subType:"",layouts:[{title:g.a.t("布局1"),icon:_e.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showXAxesTitle:!0,showYAxesTitle:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}},{title:g.a.t("布局2"),icon:Ue.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showLabel:!0,labelPos:Mt.g.r,showVal:!0,showXAxes:!0}},{title:g.a.t("布局3"),icon:Xe.a,config:{showLegend:!0,legendPos:Mt.m.r,showXAxesTitle:!0,showYAxesTitle:!0,showTrendLine:!0,showXAxes:!0,showYAxes:!0,showXMajorGridLine:!0,showXMinorGridLine:!0,showYMajorGridLine:!0,showYMinorGridLine:!0}},{title:g.a.t("布局4"),icon:Ve.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showLabel:!0,showVal:!0,showCategoryName:!0,labelPos:Mt.g.r,showXAxes:!0,showYAxes:!0,showXMajorGridLine:!0,showYMajorGridLine:!0}},{title:g.a.t("布局5"),icon:Ke.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.b,showXAxes:!0,showYAxes:!0,showXMajorGridLine:!0,showYMajorGridLine:!0}}]},{type:Mt.z.RadarChart,subType:"",layouts:[{title:g.a.t("布局1"),icon:qe.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}},{title:g.a.t("布局2"),icon:Qe.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showLabel:!0,showVal:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}},{title:g.a.t("布局3"),icon:et.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showLabel:!0,showVal:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,showYMinorGridLine:!0}},{title:g.a.t("布局4"),icon:nt.a,config:{showLegend:!0,legendPos:Mt.m.r,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,showYMinorGridLine:!0}}]},{type:Mt.z.AreaChart,subType:"",layouts:[{title:g.a.t("布局1"),icon:rt.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showYAxesTitle:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}},{title:g.a.t("布局2"),icon:at.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}},{title:g.a.t("布局3"),icon:st.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.b,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}},{title:g.a.t("布局4"),icon:ct.a,config:{showLegend:!0,legendPos:Mt.m.b,showLabel:!0,showVal:!0,showXAxes:!0,showYAxes:!0}},{title:g.a.t("布局5"),icon:ht.a,config:{showLegend:!0,legendPos:Mt.m.r,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}}]},{type:Mt.z.StockChart,subType:"",layouts:[{title:g.a.t("布局1"),icon:pt.a,config:{showTitle:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}},{title:g.a.t("布局2"),icon:gt.a,config:{showLabel:!0,labelPos:Mt.g.r,showVal:!0,showXAxes:!0,showYAxes:!0}},{title:g.a.t("布局3"),icon:bt.a,config:{showTitle:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}},{title:g.a.t("布局4"),icon:Ot.a,config:{showXAxesTitle:!0,showYAxesTitle:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0,showYMinorGridLine:!0}},{title:g.a.t("布局5"),icon:Ct.a,config:{showTitle:!0,showXAxesTitle:!0,showYAxesTitle:!0,showLastCateLabel:!0,labelPos:Mt.g.r,showVal:!0,showXAxes:!0,showYAxes:!0,showYMajorGridLine:!0}}]},{type:Mt.z.OfPieChart,subType:"",layouts:[{title:g.a.t("布局1"),icon:Pt.a,config:{showTitle:!0,showLabel:!0,labelPos:Mt.g.bestFit,showCategoryName:!0,showPercent:!0}},{title:g.a.t("布局2"),icon:xt.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.t,showLabel:!0,labelPos:Mt.g.bestFit,showPercent:!0}},{title:g.a.t("布局3"),icon:Lt.a,config:{showLegend:!0,legendPos:Mt.m.b}},{title:g.a.t("布局4"),icon:jt.a,config:{showTitle:!0,showLegend:!0,legendPos:Mt.m.r,showLabel:!0,showPercent:!0,labelPos:Mt.g.bestFit}},{title:g.a.t("布局5"),icon:Rt.a,config:{showTitle:!0,showLabel:!0,labelPos:Mt.g.bestFit,showPercent:!0,showCategoryName:!0,isSecondPieBigger:!0}},{title:g.a.t("布局6"),icon:Dt.a,config:{showTitle:!0,showLabel:!0,labelPos:Mt.g.bestFit,showPercent:!0,showCategoryName:!0,isSecondPieEqual:!0}}]}],Ft=n("c8a708a138"),Gt=n("b6b6421f89"),Nt=n("348062739c");function _t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xt=function(){function e(t){a()(this,e),c()(this,"chartModel",void 0),c()(this,"type",void 0),this.chartModel=t,this.type=e.getChartType(t)}return s()(e,[{key:"getCurChartModel",value:function(){return this.chartModel}},{key:"getType",value:function(){return this.type}},{key:"updateLayout",value:function(e){var t=this;Object(d.b)((function(){switch(t.updateTitleLayout(e),t.updateLegendLayout(e),t.updateAxesLayout(e),t.updateAxesGridLineLayout(e),t.updateLabelsLayout(e),t.updateOfLieLayout(e),t.type.type){case Mt.z.BarChart:case Mt.z.Bar3DChart:t.updateBarConfig(e)}}))}},{key:"updateTitleLayout",value:function(e){var t=this.chartModel.chartProperty,n=t.chartTitle;e.showTitle?n?n.updateProps({overlay:!1},{layout:null}):t.createTitle():n&&t.removeTitle()}},{key:"updateLegendLayout",value:function(e){var t=this.chartModel.chartProperty,n=t.legend;if(e.showLegend){var i=e.legendPos;if(n){var r={overlay:!1};i&&(r.position=i),n.updateProps(r,{layout:null})}else{var o={};i&&(o.position=i),t.createLegend(o)}}else n&&n.removeLegend()}},{key:"updateAxesLayout",value:function(e){var t=this.chartModel.chartProperty.axes,n=(null==t?void 0:t.getAllAxes())||[],i=r()(n,4),o=i[0],a=i[1],l=(i[2],i[3]),s=!e.showXAxes;null==o||o.updateProps({isDelete:s}),s=!e.showYAxes,null==a||a.updateProps({isDelete:s}),null==l||l.updateProps({isDelete:s});var u=null==o?void 0:o.title;e.showXAxesTitle?u||null==o||o.createAxisTitle():u&&(null==o||o.removeAxisTitle());var c=null==a?void 0:a.title;e.showYAxesTitle?c||null==a||a.createAxisTitle():c&&(null==a||a.removeAxisTitle())}},{key:"updateAxesGridLineLayout",value:function(e){var t=this.chartModel.chartProperty.axes,n=(null==t?void 0:t.getAllAxes())||[],i=r()(n,2),o=i[0],a=i[1];e.showXMajorGridLine?null!=o&&o.majorGridlines||null==o||o.createGridlines([Gt.b.MAJOR_GRID]):null!=o&&o.majorGridlines&&(null==o||o.removeGridlines([Gt.b.MAJOR_GRID])),e.showXMinorGridLine?null!=o&&o.minorGridlines||null==o||o.createGridlines([Gt.b.MINOR_GRID]):null!=o&&o.minorGridlines&&(null==o||o.removeGridlines([Gt.b.MINOR_GRID])),e.showYMajorGridLine?null!=a&&a.majorGridlines||null==a||a.createGridlines([Gt.b.MAJOR_GRID]):null!=a&&a.majorGridlines&&(null==a||a.removeGridlines([Gt.b.MAJOR_GRID])),e.showYMinorGridLine?null!=a&&a.minorGridlines||null==a||a.createGridlines([Gt.b.MINOR_GRID]):null!=a&&a.minorGridlines&&(null==a||a.removeGridlines([Gt.b.MINOR_GRID]))}},{key:"updateLabelsLayout",value:function(e){var t=this;if(e.showLabel||e.showLastSerLabel||e.showLastCateLabel){var n=this.chartModel.plotArea.charts;(void 0===n?[]:n).forEach((function(n){var i=n.getSubChartProperty(),r=Object(Nt.a)(n.getPresetChartType()).includes(e.labelPos)?e.labelPos:void 0,o=i.series,a=void 0===o?[]:o,l=[],s=[];a.forEach((function(n,i){t.fillLabelUpdateAndRemoveProps(n,i,a.length,Ht(Ht({},e),{},{labelPos:r}),l,s)})),i.updateProps({series:l},{series:s})}))}else this.chartModel.chartProperty.removeDataLabels()}},{key:"fillLabelUpdateAndRemoveProps",value:function(e,t,n,i,r,o){var a=i.showLastSerLabel,l=!a&&i.showLastCateLabel,s=!a&&!l,u=this.createLabelCommonProps(i),c={},d={},h=e.dataLabels,p=e.dataList,v=void 0===p?[]:p;if(s)this.updateSerLabelShowProps(e,u,c,d);else if(a){t===n-1?this.updateSerLabelShowProps(e,u,c,d):(d.dataLabels=null,d.dataList=new Array(v.length).fill({dataLabel:null}))}else if(l){c.dataLabels=h?u:Ft.a.createDataLabels(u);var g=[],y=[];v.forEach((function(e,t){var n=t===v.length-1,i=e.dataLabel;if(n)i?g.push({dataLabel:u}):g.push({}),y.push({dataLabel:{layout:null}});else if(i){g.push({dataLabel:{showVal:!1,showCategoryName:!1,showSeriesName:!1,showPercent:!1,showLegendKey:!1}})}else g.push({dataLabel:Ft.a.createDataLabels({showVal:!1})})})),f()(c,"dataList",g),f()(d,"dataList",y)}r.push(c),o.push(d)}},{key:"updateSerLabelShowProps",value:function(e,t,n,i){var r=e.dataLabels,o=e.dataList,a=void 0===o?[]:o;n.dataLabels=r?t:Ft.a.createDataLabels(t);var l=[],s=[];a.forEach((function(e){e.dataLabel?l.push({dataLabel:t}):l.push({}),s.push({dataLabel:{layout:null}})})),f()(n,"dataList",l),f()(i,"dataList",s)}},{key:"createLabelCommonProps",value:function(e){var t={showVal:!!e.showVal,showCategoryName:!!e.showCategoryName,showSeriesName:!!e.showSeriesName,showPercent:!!e.showPercent};return Ht({labelPosition:e.labelPos},t)}},{key:"updateOfLieLayout",value:function(e){var t=this.chartModel.plotArea.charts,n=void 0===t?[]:t,i=r()(n,1)[0];(null==i?void 0:i.type)===Mt.z.OfPieChart&&(e.isSecondPieEqual?i.updateProps({secondPieSize:100}):e.isSecondPieBigger&&i.updateProps({secondPieSize:125}))}},{key:"updateBarConfig",value:function(e){var t=this.chartModel.plotArea.charts,n=void 0===t?[]:t,i=r()(n,1)[0],o={};v()(e.overlap)||(o.overlap=e.overlap),v()(e.gapWidth)||(o.gapWidth=e.gapWidth),i.updateProps(o)}}],[{key:"getChartLayoutConfigs",value:function(e,t){var n,i=_t(Bt);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.type,a=r.subType,l=r.layouts;if(o===e&&(!t||t&&t===a))return l}}catch(e){i.e(e)}finally{i.f()}return[]}},{key:"getChartType",value:function(e){var t,n=(e.plotArea||{}).charts,i=this.getRightChart(n),r=i.type;switch(r){case Mt.z.BarChart:case Mt.z.Bar3DChart:var o=i;t=String(o.direction);var a=o.grouping;a!==Mt.c.stacked&&a!==Mt.c.percentStacked||(t+="-stack");break;case Mt.z.BubbleChart:case Mt.z.ScatterChart:r=Mt.z.BubbleChart}return{type:r,subType:t}}},{key:"getRightChart",value:function(e){var t=e[0];return e.forEach((function(e){e.type===Mt.z.StockChart&&(t=e)})),t}}]),e}()},"42651ec73d":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("9132715560"),r=n.n(i),o=n("85d0a7609b"),a=n.n(o),l=n("516fa97df2"),s=n("402349bbbb"),u=n("ab17200d42"),c=n("405d9ef7a4"),d=function e(){r()(this,e)};a()(d,"generateImageFilter",(function(e){var t=e.brightness,n=e.colorTemperature,i=e.contrast,r=e.saturate,o=e.sharpenSoften,a=new s.a({brightness:d.getBrightnessValue(t),contrast:d.getContrastValue(i),saturate:d.getSaturateValue(r),temperature:n});a.forbidWebgl=u.e;var c=[a];if(o>0){var h=new s.f({size:o/100});h.forbidWebgl=u.e,c.push(h)}else if(o<0){var f=-o/10*4,p=new l.b({radiusX:f,radiusY:f,maxPadX:0,maxPadY:0});p.forbidWebgl=u.e,c.push(p)}return c})),a()(d,"isShowImageFilter",(function(e){if(!e)return!1;var t=e.sharpenSoften,n=e.contrast,i=e.colorTemperature,r=e.brightness,o=e.saturate;return t!==c.d.ClARITY.defaultValue||n!==c.d.CONTRAST.defaultValue||i!==c.d.COLORTEMPERATURE.defaultValue||r!==c.d.BRIGHTNESS.defaultValue||o!==c.d.SATURATE.defaultValue})),a()(d,"getBrightnessValue",(function(e){return e?e<0?e/100+1:100!==e?1/(1-e/100):100:1})),a()(d,"getContrastValue",(function(e){var t=e/100;return t<0?t+1:1+t/.6})),a()(d,"getSaturateValue",(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:100)/100}))},"52594d4cd8":function(e,t,n){"use strict";n.r(t),n.d(t,"ChartContainer",(function(){return li})),n.d(t,"addSyncTask",(function(){return si}));n("73b854064b"),n("342844cefa"),n("a84962d637"),n("8a35b54c1d"),n("c554310b5c"),n("8ee19818c4"),n("bcb5d93d36");var i=n("176815363d"),r=n.n(i),o=n("9132715560"),a=n.n(o),l=n("6a364eb35c"),s=n.n(l),u=n("547611bd96"),c=n.n(u),d=n("bd29e2df90"),h=n.n(d),f=n("ab5eb40518"),p=n.n(f),v=n("1b4cdd6a36"),g=n.n(v),y=n("85d0a7609b"),b=n.n(y),m=n("3ef2352f0b"),O=n.n(m),w=(n("c6244f7705"),n("081c8cafea"),n("af802ec74b"),n("6e20b6a7d8"),n("ca105c1649")),C=n("516fa97df2"),k=n("5fac0349d3"),P=n("116dfe1d48"),S=n("8eec1e4a03"),x=n.n(S),T=(n("405b4a5e2b"),n("75563bc376"),n("b1e2246d82"),n("9b674918eb")),L=n.n(T),A=(n("3bf1976a4f"),n("44c7584d18")),j=n("f25d886e00");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var R,I,D,M,B,F,G="circle",N=function(){function e(t){a()(this,e),this.marker=t}return s()(e,[{key:"getConfig",value:function(){var e=this.marker;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({symbol:Object(j.g)(e.symbol),size:e.size},Object(j.i)(e.props))}}]),e}();n("759492dad9"),n("1bab7b5fb7"),n("34cd92f77a");!function(e){e.Center="middle",e.Right="right",e.Left="left",e.Top="top",e.Bottom="bottom",e.InEnd="inEnd",e.OutEnd="outEnd",e.InBase="inBase"}(R||(R={})),function(e){e.MinSquare="minSquare",e.Square="square",e.Rect="rect",e.Line="hor-line",e.Circle="circle"}(I||(I={}));var _=(D={},b()(D,P.g.ctr,R.Center),b()(D,P.g.r,R.Right),b()(D,P.g.l,R.Left),b()(D,P.g.t,R.Top),b()(D,P.g.b,R.Bottom),b()(D,P.g.inBase,R.InBase),b()(D,P.g.outEnd,R.OutEnd),b()(D,P.g.inEnd,R.InEnd),b()(D,P.g.bestFit,R.Center),b()(D,P.g.PBDEFAULT,R.Center),D),z=(M={},b()(M,P.d.hundreds,{text:k.a.t("百"),value:.01}),b()(M,P.d.thousands,{text:k.a.t("千"),value:.001}),b()(M,P.d.tenThousands,{text:k.a.t("*10000"),value:1e-4}),b()(M,P.d.hundredThousands,{text:k.a.t("*100000"),value:1e-5}),b()(M,P.d.millions,{text:k.a.t("百万"),value:1e-6}),b()(M,P.d.tenMillions,{text:k.a.t("*10000000"),value:1e-7}),b()(M,P.d.hundredMillions,{text:k.a.t("*100000000"),value:1e-8}),b()(M,P.d.billions,{text:k.a.t("十亿"),value:1e-9}),b()(M,P.d.trillions,{text:k.a.t("兆"),value:1e-10}),M),U=(B={},b()(B,P.y.linear,"linear"),b()(B,P.y.exp,"exponential"),b()(B,P.y.log,"logarithmic"),b()(B,P.y.power,"power"),b()(B,P.y.poly,"polynomial"),F={},b()(F,P.y.PBDEFAULT,k.a.t("线性")),b()(F,P.y.linear,k.a.t("线性")),b()(F,P.y.exp,k.a.t("指数")),b()(F,P.y.log,k.a.t("对数")),b()(F,P.y.power,k.a.t("乘幂")),b()(F,P.y.poly,k.a.t("多项式")),b()(F,P.y.movingAvg,k.a.t("移动平均")),n("ce428b7e85")),H=n("9541c1076d"),X=n.n(H),Y=n("14c02e2331");function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){var t=function(e,t){var n,i,r,o,a,l,s,u,c=e.paragraphList,d=null==c||null===(n=c[0])||void 0===n||null===(i=n.textRuns)||void 0===i?void 0:i[0],h=null==c||null===(r=c[0])||void 0===r||null===(o=r.paragraphProps)||void 0===o?void 0:o.defaultRunProps;return[W(W({},null==c?void 0:c[0]),{},{textRuns:[{text:(null==d?void 0:d.text)||"",styles:W(W(W({fontFamily:(null==h||null===(a=h.fonts)||void 0===a?void 0:a.latin)||(null==h||null===(l=h.fonts)||void 0===l?void 0:l.ea)||"默认字体"},h),null==t||null===(s=t.paragraphList)||void 0===s||null===(u=s[0].paragraphProps)||void 0===u?void 0:u.defaultRunProps),null==d?void 0:d.styles),type:"run"}]})]}(e,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).defaultProps),n=J(t);return Object(j.j)(n).style}function J(e,t){return U.a.convertFromTextModel({paragraphList:e,textBodyStyle:t||{bodyStyle:{paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0}}},{noConvertBack:!0})}function q(e){return J(e.getParagraphList(),e.getTextBodyStyle())}function Z(e,t,n,i){var r,o,a,l,s,u=null==t||null===(r=t.paragraphList)||void 0===r||null===(o=r[0])||void 0===o||null===(a=o.paragraphProps)||void 0===a?void 0:a.defaultRunProps,c=function(e,t,n,i){var r=null!=i&&i.defaultAlignCenter?"center":"left",o=null==i?void 0:i.defaultLineHeight;if(e)return e.map((function(e){var n,i,a=null==e||null===(n=e.paragraphProps)||void 0===n?void 0:n.defaultRunProps,l=(null===(i=e.textRuns)||void 0===i?void 0:i.map((function(e){var n=W(W(W({},t),a),null==e?void 0:e.styles);return W(W({},e),{},{styles:n})})))||[];return W(W({},e),{},{textRuns:l,paragraphProps:W({lineHeight:o,textAlign:r},null==e?void 0:e.paragraphProps)})}));return[{paragraphProps:{textAlign:r,lineHeight:o},textRuns:[{text:n||"",styles:W({},t)}]}]}(null==e?void 0:e.paragraphList,u,n,{defaultAlignCenter:null===(l=null==i?void 0:i.defaultAlignCenter)||void 0===l||l,defaultLineHeight:null==i?void 0:i.defaultLineHeight});return J(c,Q(null==e?void 0:e.textBodyStyle,null==t?void 0:t.textBodyStyle,{noDefaultPadding:null===(s=null==i?void 0:i.noDefaultPadding)||void 0===s||s,anchorLeft:null==i?void 0:i.anchorLeft}))}function Q(e,t,n){var i,r,o,a,l=e||t;e&&t&&(l=X()({},t,e));var s=null!=n&&n.noDefaultPadding?0:Y.g,u=null!=n&&n.noDefaultPadding?0:Y.e,c=null!=n&&n.noDefaultPadding?0:Y.f,d=(l||{}).bodyStyle,h=null!==(i=null==d?void 0:d.paddingLeft)&&void 0!==i?i:c,f=null!==(r=null==d?void 0:d.paddingTop)&&void 0!==r?r:s,p=null!==(o=null==d?void 0:d.paddingRight)&&void 0!==o?o:c,v=null!==(a=null==d?void 0:d.paddingBottom)&&void 0!==a?a:u,g=W(W({},d),{},{paddingLeft:h,paddingRight:p,paddingTop:f,paddingBottom:v});if((l=W(W({},l),{},{bodyStyle:g}))&&null!=n&&n.anchorLeft){var y=W(W({},l.wrapperStyle),{},{alignItems:void 0,justifyContent:void 0});l=W(W({},l),{},{wrapperStyle:y})}return l}var $=n("2a5f3314a4");function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(){function e(t,n){a()(this,e),this.dataLabelProperty=t,this.context=n}return s()(e,[{key:"getConfig",value:function(){var e=this.dataLabelProperty,t=e.content,n=e.dataItem,i=e.layout,r=e.labelPosition,o=e.text,a=q(this.dataLabelProperty),l={content:t,position:this.getLabelPosition(n.value,this.dataLabelProperty,i),originPosition:r,style:te(te(te({},K(this.dataLabelProperty,{})),o&&K(o,{defaultProps:this.dataLabelProperty})),{},{customStyles:te({text:a},Object(j.f)(Object(j.h)(this.dataLabelProperty.props)))}),customOffset:{x:null==i?void 0:i.left,y:null==i?void 0:i.top},labelLine:!1,autoRotate:!1};if(this.dataLabelProperty.formatCodeColor&&(l.style.fill=this.dataLabelProperty.formatCodeColor,!o)){var s,u=null===(s=a.children[0])||void 0===s?void 0:s.children[0];u&&(u.color=this.dataLabelProperty.formatCodeColor)}return l}},{key:"getLabelPosition",value:function(e,t,n){return n?"":t.labelPosition?_[t.labelPosition]:""}},{key:"subChart",get:function(){return this.context.getSubChartModel().getSubChartProperty()}}],[{key:"getFiledMappingConfig",value:function(e,t){var n=this;return{fields:["id"],callback:function(i){var r=e.find((function(e){return e.id===i}));return r?n.getLabelConfig(r,t):{}},cfg:{layout:{type:"auto-adjust",cfg:{}}}}}},{key:"getReLayoutLabelContent",value:function(e,t,n){var i=function(e,t){return{type:"document",children:[{type:"paragraph",children:[{type:"text",text:e,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle}]}]}}(e,n);return Object($.r)(i,t)._children[0]._children.map((function(e){return e._children.map((function(e){return e.text.replace("\n","")})).join("")})).join("\n")}},{key:"getLabelConfig",value:function(e,t){var n=e.label;return"boolean"==typeof n?!!n||null:n}}]),e}(),ie=n("a23b91db65"),re=n("7a5536c9bf"),oe=n.n(re),ae=n("90f8e58679"),le=n("4b0c0f4cca"),se=["outline"];function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=function(){function e(t){var n=this;a()(this,e),b()(this,"data",void 0),b()(this,"createTrendlineRenderConf",(function(e){var t,i=e.xScale,r=e.yScale,o=e.xAxis,a=e.yAxis,l=e.coordinate,s=e.seriesColor,u=ce({},l);e.type===ie.b.BAR_CHART&&(u.actions=[].concat(oe()(null!==(t=u.actions)&&void 0!==t?t:[]),[["transpose"]]));return{type:ie.b.LINE_CHART,data:n.data,geometryStyle:n.createFieldMappingCfg((function(e){var t=n.data.find((function(t){return t.id===e}));if(!t)return{};var i=(t||{}).border,r=Object(j.d)(t),o=r.outline,a=L()(r,se),l=ce({},o),s=ce({outline:l},a);return{lineWidth:null==i?void 0:i.lineWidth,lineDash:null==i?void 0:i.lineDash,stroke:null==i?void 0:i.stroke,lineJoin:null==i?void 0:i.lineJoin,lineCap:null==i?void 0:i.lineCap,customStyles:Object(j.f)(s)}}),"id"),geometryShape:"smooth",seriesColor:s,xScale:i,yScale:r,xAxis:ce(ce({},o),{},{label:{formatter:function(){return" "}},title:null}),yAxis:a,coordinate:u,lineChartConfig:{pointVisible:!1}}})),b()(this,"createFieldMappingCfg",(function(e){return{fields:[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id"],callback:e}})),this.trendlines=t}return s()(e,[{key:"getConfig",value:function(e){return this.normalizeTrendlineData(),this.createTrendlineRenderConf(e)}},{key:"normalizeTrendlineData",value:function(){var e=this;this.data=[],this.trendlines.map((function(t,n){t.initTrendlineDataSource(new ae.a),t.data.forEach((function(n){var i=n.category,r=n.categoryIndex,o="number"==typeof i?i:"".concat(i).concat(A.a).concat(r);e.data.push(ce(ce(ce({},n),Object(j.i)(n.props,{isLine:!0})),{},{category:o,specialGeometryType:le.c.trendLine,trendlineIndex:t.idx}))}))}))}}]),e}(),he=n("63945b6fba"),fe=n.n(he),pe=function(){function e(t){a()(this,e),this.subChartProperty=t}return s()(e,[{key:"getConfig",value:function(){var e,t,n=this.subChartProperty,i=n.xAxis,r=n.yAxis,o=[];return(null==r||null===(e=r.scaling)||void 0===e?void 0:e.orientation)===P.p.maxMin&&o.push(["reflect","y"]),(null==i||null===(t=i.scaling)||void 0===t?void 0:t.orientation)===P.p.maxMin&&o.push(["reflect","x"]),{actions:o}}}]),e}(),ve=(n("826dc923b3"),n("ee6bb53310")),ge=n.n(ve),ye=n("24d5b39d83"),be=n.n(ye),me=n("eabf3daf43"),Oe=n("e49595a6eb"),we=n("2d8a32746a"),Ce=n("9789b08c01"),ke=n("67d3be6cf9"),Pe=n.n(ke);function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=function(){function e(t,n){a()(this,e),b()(this,"xAxisProperty",void 0),b()(this,"yAxisProperty",void 0),b()(this,"xScale",void 0),b()(this,"yScale",void 0),this.subChart=t,this.chartModel=n;var i=t.xAxis,r=t.yAxis;this.xAxisProperty=i,this.yAxisProperty=r}return s()(e,[{key:"init",value:function(){return this.xScale=this.getXScale(),this.yScale=this.getYScale(),this}},{key:"getAxisConfig",value:function(){return{xAxis:this.getAxisOptions(this.xAxisProperty,"xAxis",this.subChart.type),yAxis:this.getAxisOptions(this.yAxisProperty,"yAxis",this.subChart.type)}}},{key:"getScaleConfig",value:function(){return{xScale:this.xScale,yScale:this.yScale}}},{key:"getXScale",value:function(){var e=this.yAxisProperty,t=this.xAxisProperty,n={range:(null==e?void 0:e.crossBetween)===P.e.midCat?[0,1]:void 0};if("date"===(null==t?void 0:t.type)){var i,r,o=((null===(i=this.subChart.data)||void 0===i||null===(r=i.map)||void 0===r?void 0:r.call(i,(function(e){if(""!==e.category)return Number(e.category)})))||[]).filter((function(e){return!Pe()(e)})),a=Math.min.apply(Math,oe()(o)),l=Math.max.apply(Math,oe()(o)),s=t.scaling||{},u=s.max,c=void 0===u?l:u,d=s.min,h=void 0===d?a:d;n=Te(Te({},n),{},{maxLimit:c,minLimit:h,useDefaultScaleRange:!0})}return n}},{key:"getYScale",value:function(){var e=this.yAxisProperty,t=this.subChart,n=t.series;if(t&&e&&n.length){var i,r,o=t.grouping;if(t.isPercentStackedGrouping(o))return{formatPattern:null!==(i=null===(r=e.numFmt)||void 0===r?void 0:r.formatCode)&&void 0!==i?i:"0%"};var a=e.scale,l={type:(e.scaling||{}).logBase?"log":void 0};if(a){var s=a.max,u=a.min,c=Te(Te({},l),{},{max:s,min:u,ticks:e.ticks});return t.isStackedGrouping(o)&&(c=Te(Te({},c),{},{maxLimit:s,minLimit:u})),c}return l}}},{key:"getAxisOptions",value:function(e,t,n){var i,r,o;if(e){var a,l,s,u,c,d=!(null!=e&&e.paragraphList),h=this.findOverlayAxis(e),f=K(a=d&&h?{paragraphList:h.paragraphList}:e,{}),p=Z(void 0,a,"2.0",{defaultLineHeight:1}),v=Te(Te({},f),{},{customStyles:Te({text:p},Object(j.f)(Object(j.h)(null===(i=a)||void 0===i?void 0:i.props,{filter:["outline"]})))}),g=Object(j.i)(e.props),y=g.border,b=g.outline,m=g.effects,O={id:e.axId};if(e.isDelete&&this.subChart.type!==P.z.RadarChart||!this.hasBorder(null==e?void 0:e.props))O.line=null;else if(n!==P.z.RadarChart){var w=b||{color:we.a,width:1};O.line={style:Te(Te({stroke:we.a},y),{},{customStyles:Object(j.f)({outline:w,effects:m})})}}if("value"===e.type){if(l=4,null!==(s=this.yAxisProperty)&&void 0!==s&&s.scale)l=(Math.ceil((null===(u=this.yAxisProperty.scale)||void 0===u?void 0:u.majorUnit)/(null===(c=this.yAxisProperty.scale)||void 0===c?void 0:c.minorUnit))||5)-1}else"category"===e.type?l=1:"date"===e.type&&(l=0);if(O.tickLine=null,O.subTickLine=null,null!==O.line){var C;if(e.majorTickMark!==P.w.none)O.tickLine={style:Te(Te({},y),{},{customStyles:Object(j.f)({outline:b})}),length:.35*v.fontSize||we.b.AXIS_TICK_LINE_LENGTH,tickMark:this.getTickMark(e.majorTickMark)},"xAxis"===t&&(null===(C=this.yAxisProperty)||void 0===C?void 0:C.crossBetween)===P.e.between&&(O.tickLine.alignTick=!1);e.minorTickMark&&e.minorTickMark!==P.w.none&&(O.subTickLine={style:Te(Te({},y),{},{outline:b}),count:l,length:.35*v.fontSize*.75||we.b.AXIS_SUB_TICK_LINE_LENGTH,tickMark:this.getTickMark(e.minorTickMark)})}O.label=e.isDelete?null:this.getAxisLabel(e,v),e.title&&(O.title=this.getAxisTitle(e.title)),e.isDelete||fe()(null===(r=e.units)||void 0===r?void 0:r.label)||(O.title=this.getAxisUnitLabel(e.units)),O.grid=this.getGrid(e.majorGridlines,t);var k=this.getGrid(e.minorGridlines,t);O.subGrid=k?Te(Te({},k),{},{count:l}):k;var S="xAxis"===t?this.yAxisProperty:this.xAxisProperty,x=!this.subChart.data.some((function(e){return e.value>=0}));return O.position=this.getAxisPosition(e.position,(null==S||null===(o=S.scaling)||void 0===o?void 0:o.orientation)===P.p.maxMin,x),O}}},{key:"getAxisLabel",value:function(e,t){var n,i,r,o,a,l=this,s="category"===e.type||"date"===e.type;s?i=(null===(r=this.subChart.series[0])||void 0===r?void 0:r.categoryFormatCode)||(null===(o=e.numFmt)||void 0===o?void 0:o.formatCode):i=null===(a=e.numFmt)||void 0===a?void 0:a.formatCode;var u=this.subChart.type===P.z.BarChart&&this.subChart.direction===P.b.bar;return e.tickLabelPosition===P.v.none?null:{autoRotate:"value"!==e.type&&!Object(Oe.fmtIsDate)(i||"")&&!u,style:t,offset:(t.fontSize+(null!==(n=e.lblOffset)&&void 0!==n?n:we.b.AXIS_LABEL_OFFSET)/100*t.fontSize/2)/2,formatter:function(t,n,r,o){var a,u,c,d,h,f,p,v;("string"==typeof t&&(t=Object(A.c)(t)),null!==(a=e.units)&&void 0!==a&&a.unit&&!isNaN(Number(t)))&&(t=be.a.mul(t,(null===(c=z[e.units.unit])||void 0===c?void 0:c.value)||1).valueOf());if(s){var g,y=l.subChart.series[0].dataList.map((function(e){return e.categoryPoint}));d=Object(A.b)(t,(null===(g=y[r])||void 0===g?void 0:g.formatCode)||i)}return d=Object(A.b)(t,i),null!=o&&null!==(u=o.customStyles)&&void 0!==u&&u.text&&(o.customStyles=Te(Te({},null==o?void 0:o.customStyles),{},{text:Object(Ce.b)(o.customStyles.text)}),h=o.customStyles.text,f=d,(v=null==h||null===(p=h.children[0])||void 0===p?void 0:p.children[0])&&(v.text="".concat(null!=f?f:""))),d}}}},{key:"getAxisUnitLabel",value:function(e){var t,n,i,r=K(null==e?void 0:e.label,{}),o=null===(t=z[(null==e?void 0:e.unit)||P.d.PBDEFAULT])||void 0===t?void 0:t.text,a=Z(null==e||null===(n=e.label)||void 0===n?void 0:n.text,null==e?void 0:e.label,o);return{style:Te(Te({},r),{},{customStyles:Te({text:a},Object(j.f)(Object(j.h)(null==e||null===(i=e.label)||void 0===i?void 0:i.props)))}),text:o,position:"end"}}},{key:"getAxisTitle",value:function(e){var t,n,i=K(null!==(t=null==e?void 0:e.text)&&void 0!==t?t:e,{}),r=Object(me.f)(null==e||null===(n=e.text)||void 0===n?void 0:n.paragraphList)||k.a.t("坐标轴标题"),o=q(e);return{style:Te(Te({},i),{},{customStyles:Te({text:o},Object(j.f)(Object(j.h)(null==e?void 0:e.props)))}),text:r}}},{key:"getGrid",value:function(e,t){var n,i,r;if(!e||null!=e&&null!==(n=e.props)&&void 0!==n&&null!==(i=n.style)&&void 0!==i&&null!==(r=i.border)&&void 0!==r&&r.noFill)return null;var o,a={};"xAxis"===t&&(a.alignTick=(null===(o=this.yAxisProperty)||void 0===o?void 0:o.crossBetween)!==P.e.between);var l=Object(j.i)({style:Te(Te({},null==e?void 0:e.props.style),{},{border:Te({},null==e?void 0:e.props.style.border)})}),s=l.border,u=l.outline,c=l.effects,d={color:we.a,width:1};return ge()(a,"line",{style:Te(Te({},s),{},{stroke:(null==s?void 0:s.stroke)||we.a,customStyles:Object(j.f)({effects:c,outline:Te(Te({},d),u)})})}),a}},{key:"hasBorder",value:function(e){var t;return null==e||null===(t=e.style)||void 0===t||!t.border||!fe()(e.style.border)}},{key:"getAxisPosition",value:function(e,t,n){var i,r;return(t?(i={},b()(i,P.a.l,"right"),b()(i,P.a.r,"left"),b()(i,P.a.b,n?"bottom":"top"),b()(i,P.a.t,n?"top":"bottom"),i):(r={},b()(r,P.a.l,"left"),b()(r,P.a.r,"right"),b()(r,P.a.b,n?"top":"bottom"),b()(r,P.a.t,n?"bottom":"top"),r))[e]}},{key:"getTickMark",value:function(e){var t;return(t={},b()(t,P.w.cross,"cross"),b()(t,P.w.in,"in"),b()(t,P.w.out,"out"),b()(t,P.w.PBDEFAULT,"none"),b()(t,P.w.none,"none"),t)[e||P.w.none]}},{key:"findOverlayAxis",value:function(e){var t,n=null===(t=this.chartModel.chartProperty.axes)||void 0===t?void 0:t.axisList,i=null==n?void 0:n.find((function(t){return t.position===e.position}));if(i&&!i.isDelete)return i}}],[{key:"getAxisConfigWithTitle",value:function(e,t,n){var i,r,o=K(null!==(i=null==n?void 0:n.text)&&void 0!==i?i:n,{}),a=Object(me.f)(null==n||null===(r=n.text)||void 0===r?void 0:r.paragraphList)||k.a.t("坐标轴标题"),l=q(n),s={style:Te(Te({},o),{},{customStyles:Te({text:l},Object(j.f)(Object(j.h)(null==n?void 0:n.props)))}),text:a};return Te(Te({},t),{},{title:Te(Te({},s),{},{offset:130})})}}]),e}(),Ae=function(e){h()(n,e);var t=Se(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getXScale",value:function(){var e=x()(g()(n.prototype),"getXScale",this).call(this),t=this.xAxisProperty,i=this.subChart;if(i&&t){var r=(t.scaling||{}).logBase;e=Te(Te({},e),{},{type:r?"log":void 0});var o=i.xAxis||{},a=o.scale,l=o.ticks;if(a){var s=a.max,u=a.min;a.majorUnit;e=Te(Te({},e),{},{max:s,min:u,maxLimit:s,minLimit:u,ticks:l})}return e}}}]),n}(Le),je=["fill","border"],Ee=["fill","border"];function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=function(){function e(t,n){var i=this;a()(this,e),b()(this,"id",void 0),b()(this,"data",void 0),b()(this,"series",void 0),b()(this,"axis",void 0),b()(this,"createAxisTitleConf",(function(e){var t=i.axis.yAxisProperty,n=Ie({},e);return"boolean"!=typeof n.yAxis&&null!=t&&t.title&&(n.yAxis=Le.getAxisConfigWithTitle(i.context,n.yAxis,t.title)),n.legend=!1,n})),b()(this,"getGeometryShape",void 0),b()(this,"getGeometrySize",void 0),b()(this,"createIdMappingCfg",(function(e,t){return{fields:["id"],callback:function(n){var r=(t||i.data).find((function(e){return e.id===n}));return r?e(r):{}}}})),b()(this,"createFieldMappingCfg",(function(e){return{fields:[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id"],callback:e}})),this.context=t,this.layout=n,this.id="".concat(this.subChart.type,"_").concat(this.subChart.id)}return s()(e,[{key:"init",value:function(){return this.normalize(),this}},{key:"getConfig",value:function(){var e,t,n=this.getRenderConfig(),i=[n];if(null!==(e=this.subChart.trendlines)&&void 0!==e&&e.length){var r=new de(this.subChart.trendlines).getConfig(n);i.push(r)}var o=this.axis.yAxisProperty,a="value"===(null==o?void 0:o.type),l=!(null!=o&&o.isDelete),s=!fe()(null==o||null===(t=o.units)||void 0===t?void 0:t.label),u=!fe()(null==o?void 0:o.title);if(a&&s&&u&&l){var c=this.createAxisTitleConf(n);i.push(c)}return{type:ie.b.CUSTOM_COMBO_CHART,subChartRendererConfigs:i}}},{key:"getRenderConfig",value:function(){var e=this;return Ie({type:this.type,id:this.id,limitInPlot:this.getLimitInPlot(),limitInPlotAppendMargin:this.getLimitInPlotAppendMargin(),data:this.data,geometryStyle:this.createIdMappingCfg((function(t){var n=e.getGeometryStyle(t);return e.filterShapeAttr(n)})),geometryOptions:this.getGeometryOptions(),geometryShape:this.getGeometryShape?{fields:["name"],callback:this.getGeometryShape}:void 0,seriesColor:this.getSeriesColor(),geometrySize:this.getGeometrySize?this.createIdMappingCfg((function(t){return e.getGeometrySize(t)})):void 0,adjusts:this.getAdjustsConfig(),serLines:this.getSerLines(),label:this.getLabelMappingConfig(),theme:this.getThemeConfig(),coordinate:this.getCoordinateConfig()},this.getAxisConfig())}},{key:"normalize",value:function(){this.normalizeSeries(),this.normalizeData()}},{key:"normalizeSeries",value:function(){var e=this;this.series=this.subChart.series.map((function(t){var n=Object(j.i)(t.props),i=n.fill,r=n.border,o=L()(n,je);return Ie(Ie({name:t.name,index:t.idx||0,fill:i,border:r},o),{},{values:t.dataList.map((function(e){var t;return null===(t=e.valuePoint)||void 0===t?void 0:t.value})),categories:t.dataList.map((function(e){var t;return null===(t=e.categoryPoint)||void 0===t?void 0:t.value})),type:e.subChart.type,trendlines:t.trendlines,marker:e.getMarkerConfig(t.marker),disable:t.disable,seriesId:t.seriesId})}))}},{key:"normalizeData",value:function(){var e,t=this;this.data=null===(e=this.subChart.data)||void 0===e?void 0:e.map((function(e,n){return t.normalizeDataItem(e,n)}))}},{key:"normalizeDataItem",value:function(e,t){var n=e.type,i=e.ser,r=e.marker,o=e.label,a=e.category,l=e.categoryIndex,s=e.originCategory,u=e.value,c=e.originValue,d=e.dataPoint,h=e.serIndex,f="".concat(n,"_").concat(i.idx,"_").concat(t),p="number"==typeof a?a:"".concat(a).concat(A.a).concat(l);return Ie(Ie({name:i.name,serIndex:h,category:p,originCategory:s,categoryIndex:l,value:u,originValue:c},Object(j.i)(e.props,{isLine:this.isLine()})),{},{type:n,id:f,label:this.getDataLabelItemConfig({label:o}),marker:this.getMarkerConfig(r),seriesId:i.seriesId,dataId:e.id,dataPointStyle:d&&Object(j.i)(d.props)})}},{key:"isLine",value:function(){return!1}},{key:"getMarkerConfig",value:function(e){if(e&&e.symbol!==P.n.none)return new N(e).getConfig()}},{key:"getCoordinateConfig",value:function(){return new pe(this.subChart).getConfig()}},{key:"getLabelMappingConfig",value:function(){return ne.getFiledMappingConfig(this.data,this.subChart)}},{key:"getDataLabelItemConfig",value:function(e){var t=e.label;return!!t&&this.getDataLabel(t).getConfig()}},{key:"getDataLabel",value:function(e){return new ne(e,this.context)}},{key:"getAxis",value:function(){return new Le(this.subChart,this.context.getChartModel()).init()}},{key:"getAxisConfig",value:function(){var e=this.getAxis();this.axis=e;var t=e.getScaleConfig(),n=t.xScale,i=t.yScale,r=e.getAxisConfig();return{xScale:n,yScale:i,xAxis:r.xAxis,yAxis:r.yAxis}}},{key:"isShowMarker",value:function(e){return e.some(this.hasMarker)}},{key:"hasMarker",value:function(e){return e.marker&&e.marker.symbol!==P.n.none}},{key:"getGeometryStyle",value:function(e,t){var n=e||{},i=n.fill,r=n.border;return{fill:i,lineWidth:null==r?void 0:r.lineWidth,lineDash:null==r?void 0:r.lineDash,stroke:null==r?void 0:r.stroke,lineJoin:null==r?void 0:r.lineJoin,lineCap:null==r?void 0:r.lineCap,customStyles:this.getGeometryCustomStyles(e)}}},{key:"getGeometryCustomStyles",value:function(e){return Object(j.f)(e)}},{key:"getGeometryOptions",value:function(){}},{key:"getSeriesColor",value:function(){return this.series.map((function(e){var t;return(null===(t=e.border)||void 0===t?void 0:t.stroke)||""}))}},{key:"getAdjustsConfig",value:function(){return[]}},{key:"filterShapeAttr",value:function(e){return(null==e?void 0:e.fill)===j.a?(delete e.fill,e):e}},{key:"getLimitInPlot",value:function(){return!0}},{key:"getSerLines",value:function(){var e=this.subChart.serLines;if(e){var t,n=Object(j.i)(null===(t=e[0])||void 0===t?void 0:t.props),i=n.fill,r=n.border,o=L()(n,Ee);return this.filterShapeAttr(Ie(Ie({fill:i},r),{},{customStyles:Object(j.f)(o)}))}return{}}},{key:"subChart",get:function(){var e;return null===(e=this.context.getSubChartModel())||void 0===e?void 0:e.getSubChartProperty()}},{key:"getThemeConfig",value:function(){return{styleSheet:{}}}},{key:"getLimitInPlotAppendMargin",value:function(){return!0}}]),e}();function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var Ge=function(e){h()(n,e);var t=Fe(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"type",get:function(){return ie.b.RADAR_CHART}},{key:"getRenderConfig",value:function(){return Be(Be({},x()(g()(n.prototype),"getRenderConfig",this).call(this)),{},{radarChartConfig:{pointVisible:this.pointVisible,areaVisible:this.areaVisible}})}},{key:"getAxis",value:function(){return new Ne(this.subChart,this.context.getChartModel()).init()}},{key:"getGeometryOptions",value:function(){return{geometryStyles:this.getGeometryStyles(),geometrySizes:this.getGeometrySizes(),geometryShapes:this.getGeometryShapes()}}},{key:"getGeometryStyles",value:function(){var e=this;return{line:this.createIdMappingCfg((function(t){var n=t||{},i=n.fill,r=n.border;return e.filterShapeAttr({fill:i,fillOpacity:1,lineWidth:null==r?void 0:r.lineWidth,lineDash:null==r?void 0:r.lineDash,stroke:null==r?void 0:r.stroke,lineJoin:null==r?void 0:r.lineJoin,lineCap:null==r?void 0:r.lineCap,customStyles:e.getAreaCustomStyles(t)})})),area:this.createIdMappingCfg((function(){return{fill:"transparent",fillOpacity:0}})),point:this.createFieldMappingCfg((function(t){var n=e.series.find((function(e){return e.name===t}));if(null!=n&&n.marker){var i=n.marker,r=i.fill,o=i.border;return e.filterShapeAttr({fill:r,lineWidth:null==o?void 0:o.lineWidth,lineDash:null==o?void 0:o.lineDash,stroke:null==o?void 0:o.stroke,lineJoin:null==o?void 0:o.lineJoin,lineCap:null==o?void 0:o.lineCap,customStyles:e.getPointCustomStyles(n.marker)})}}),"name")}}},{key:"getAreaCustomStyles",value:function(e){return Object(j.f)(e)}},{key:"getPointCustomStyles",value:function(e){return Object(j.f)(e)}},{key:"getGeometrySizes",value:function(){var e=this;return{point:this.createIdMappingCfg((function(t){if(!e.hasMarker(t))return 0;var n=t.marker;return null==n?void 0:n.size}))}}},{key:"getGeometryShapes",value:function(){return{point:this.createIdMappingCfg((function(e){var t=e.marker;return(null==t?void 0:t.symbol)||G}))}}},{key:"pointVisible",get:function(){return this.isShowMarker(this.series)}},{key:"lineVisible",get:function(){return this.isShowBorder(this.series)}},{key:"areaVisible",get:function(){return this.isShowFill(this.series)}},{key:"isShowBorder",value:function(e){return e.some((function(e){return!fe()(e.border)}))}},{key:"isShowFill",value:function(e){return e.some((function(e){return!fe()(e.fill)}))}}]),n}(De),Ne=function(e){h()(n,e);var t=Fe(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getGrid",value:function(e,t){var i=x()(g()(n.prototype),"getGrid",this).call(this,e,t);if(!i)return i;if("yAxis"===t)ge()(i,"line.type","line");else if("xAxis"===t)return null;return i}}]),n}(Le);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var He=function(e){h()(n,e);var t=Ue(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"type",get:function(){return ie.b.AREA_CHART}},{key:"subChart",get:function(){return this.context.getSubChartModel().getSubChartProperty()}},{key:"getRenderConfig",value:function(){return ze(ze({},x()(g()(n.prototype),"getRenderConfig",this).call(this)),{},{displayInvalidDataPointAs:ie.d.Gap,showSinglePoint:!1,geometryConfig:this.getGeometryConfig()})}},{key:"getGeometryStyle",value:function(e,t){var n=(e||{}).border;return{lineWidth:null==n?void 0:n.lineWidth,lineDash:null==n?void 0:n.lineDash,stroke:null==n?void 0:n.stroke,lineJoin:null==n?void 0:n.lineJoin,lineCap:null==n?void 0:n.lineCap,customStyles:this.getGeometryCustomStyles(e)}}},{key:"getSeriesColor",value:function(){return this.series.map((function(e){return e.fill===j.a?"":e.fill||""}))}},{key:"getGeometryOptions",value:function(){return{geometryStyles:this.getGeometryStyles()}}},{key:"getGeometryStyles",value:function(){var e=this;return{area:this.createIdMappingCfg((function(t){var n=t||{},i=n.fill,r=n.border;return e.filterShapeAttr({fill:i,fillOpacity:1,lineWidth:null==r?void 0:r.lineWidth,lineDash:null==r?void 0:r.lineDash,stroke:null==r?void 0:r.stroke,lineJoin:null==r?void 0:r.lineJoin,lineCap:null==r?void 0:r.lineCap,customStyles:e.getAreaCustomStyles(t)})}))}}},{key:"getAdjustsConfig",value:function(){var e=this.subChart.grouping;return e===P.i.stacked?[{type:"stack",reverseOrder:!1,stackPositiveAndNegativeSeparately:!1}]:e===P.i.percentStacked?[{type:"stack",reverseOrder:!1,isPercent:!0,stackPositiveAndNegativeSeparately:!1}]:[]}},{key:"getLimitInPlotAppendMargin",value:function(){return!1}},{key:"getDataLabel",value:function(e){return new Xe(e,this.context)}},{key:"getAreaCustomStyles",value:function(e){return Object(j.f)(e)}},{key:"getGeometryConfig",value:function(){if(this.subChart.grouping===P.i.percentStacked)return{zIndexReversed:!0}}}]),n}(De),Xe=function(e){h()(n,e);var t=Ue(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getLabelPosition",value:function(e,t,n){return t.labelPosition?_[t.labelPosition]:R.Center}}]),n}(ne),Ye=(n("8e7cce0ada"),n("2a6f332b5e"),n("2f766f71b0")),Ve=n.n(Ye),We=(n("0acdc5834b"),n("2504ad7290"),n("d9812f1c6f"));function Ke(e){return""===e||null==e||isNaN(e)}function Je(){var e=window?window.devicePixelRatio:1;return e>=1?Math.ceil(e):1}var qe,Ze=We.a.isMobile,Qe=["outline"];function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var nt=(qe={},b()(qe,P.b.col,ie.b.COLUMN_CHART),b()(qe,P.b.bar,ie.b.BAR_CHART),qe),it=function(e){h()(n,e);var t=tt(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"type",get:function(){return nt[this.subChart.direction]}},{key:"subChart",get:function(){return this.context.getSubChartModel().getSubChartProperty()}},{key:"getAxis",value:function(){return new rt(this.subChart,this.context.getChartModel()).init()}},{key:"getDataLabel",value:function(e){return new ot(e,this.context)}},{key:"getSeriesColor",value:function(){return this.series.map((function(e){return e.fill===j.a?"":e.fill||""}))}},{key:"getGeometryStyle",value:function(e,t){var n=e||{},i=n.fill,r=n.border,o=n.value,a=null==r?void 0:r.lineDash;return a&&0===a[0]&&r.lineWidth&&(a=[1,1].map((function(e){return e*r.lineWidth}))),et(et({fill:i,lineWidth:null==r?void 0:r.lineWidth,lineDash:a},null!=r&&r.stroke?{lineJoin:(null==r?void 0:r.lineJoin)||"round"}:{}),{},{stroke:Ke(o)?"transparent":null==r?void 0:r.stroke,customStyles:this.getGeometryCustomStyles(e)})}},{key:"getGeometryCustomStyles",value:function(e){var t=(e||{}).value,n=Object(j.d)(e),i=n.outline,r=void 0===i?{}:i,o=L()(n,Qe),a=et({},r);return(a.color||a.gradFill)&&(a.linejoin=a.linejoin||C.A.Round),Ke(t)&&(a.color=void 0,a.gradFill=void 0,a.noFill=1),Object(j.f)(et({outline:a},o))}},{key:"getAdjustsConfig",value:function(){var e,t=this.subChart.overlap,n=this.subChart.grouping,i=[];if(n===P.c.stacked)i.push({type:"stack",reverseOrder:!1}),t=null!==(e=t)&&void 0!==e?e:100;else if(n===P.c.percentStacked){var r;i.push({type:"stack",reverseOrder:!1,isPercent:!0}),t=null!==(r=t)&&void 0!==r?r:100}else{var o;t=null!==(o=t)&&void 0!==o?o:0}var a=-.01*t;return i.push({type:"dodge",marginRatio:a}),i}},{key:"getThemeConfig",value:function(){var e,t=this.subChart,n=t.series,i=t.gapWidth,r=void 0===i?100:i,o=t.grouping,a=null!==(e=this.subChart.overlap)&&void 0!==e?e:o===P.c.stacked||o===P.c.percentStacked?100:0,l=this.series.find((function(e){return e.categories&&e.categories.length>0}))||{},s=l.categories,u=void 0===s?[]:s,c=l.values,d=void 0===c?[]:c,h=n.length,f=u.length||d.length;return{columnWidthRatio:h*f/(.01*-a*(h-1)*f+.01*r*f+h*f)}}},{key:"getCoordinateConfig",value:function(){return new at(this.subChart).getConfig()}}]),n}(De),rt=function(e){h()(n,e);var t=tt(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getXScale",value:function(){return{min:void 0,max:void 0,type:"cat"}}},{key:"getGrid",value:function(e,t){var i=x()(g()(n.prototype),"getGrid",this).call(this,e,t);return i&&"xAxis"===t&&(i.alignTick=!1),i}},{key:"getAxisPosition",value:function(e,t,i){var r,o;return this.subChart.direction===P.b.bar?(t?(r={},b()(r,P.a.l,i?"bottom":"top"),b()(r,P.a.r,i?"top":"bottom"),b()(r,P.a.b,"right"),b()(r,P.a.t,"left"),r):(o={},b()(o,P.a.l,i?"top":"bottom"),b()(o,P.a.r,i?"bottom":"top"),b()(o,P.a.b,"left"),b()(o,P.a.t,"right"),o))[e]:x()(g()(n.prototype),"getAxisPosition",this).call(this,e,t,i)}}]),n}(Le),ot=function(e){h()(n,e);var t=tt(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getLabelPosition",value:function(e,t,n){var i=t.labelPosition,r=this.subChart,o=r.grouping,a=r.direction;if(!i&&(o===P.c.stacked||o===P.c.percentStacked))return R.Center;if(a===P.b.bar)return _[i||""]||R.OutEnd;if(e<0&&i===P.g.outEnd)return R.Bottom;var l=!Ve()(this.subChart.series.map((function(e){return e.dataList}))).some((function(e){var t;return(null==e||null===(t=e.valuePoint)||void 0===t?void 0:t.value)&&Number(e.valuePoint.value)>0}))?R.Bottom:R.Top;return i?_[i]:l}}]),n}(ne),at=function(e){h()(n,e);var t=tt(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getConfig",value:function(){var e,t,n,i,r=this.subChartProperty,o=r.xAxis,a=r.yAxis,l=[];this.subChartProperty.direction===P.b.bar?((null==a||null===(e=a.scaling)||void 0===e?void 0:e.orientation)===P.p.maxMin&&l.push(["reflect","x"]),(null==o||null===(t=o.scaling)||void 0===t?void 0:t.orientation)===P.p.maxMin&&l.push(["reflect","y"])):((null==a||null===(n=a.scaling)||void 0===n?void 0:n.orientation)===P.p.maxMin&&l.push(["reflect","y"]),(null==o||null===(i=o.scaling)||void 0===i?void 0:i.orientation)===P.p.maxMin&&l.push(["reflect","x"]));return{actions:l}}}]),n}(pe),lt=n("5dc281b610"),st=["outline","background"],ut=["outline","background"];function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var ft=function(e){h()(n,e);var t=ht(n);function n(){var e;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),b()(c()(e),"getGeometryShape",(function(t){var n=e.subChart.series.find((function(e){return e.name===t}));return null!=n&&n.smooth?"smooth":"line"})),e}return s()(n,[{key:"type",get:function(){return ie.b.LINE_CHART}},{key:"getRenderConfig",value:function(){return dt(dt({},x()(g()(n.prototype),"getRenderConfig",this).call(this)),{},{displayInvalidDataPointAs:ie.d.Gap,showSinglePoint:!1,lineChartConfig:{pointVisible:this.pointVisible}})}},{key:"is3D",get:function(){return this.subChart.is3D}},{key:"pointVisible",get:function(){return this.isShowMarker(this.subChart.data)}},{key:"subChart",get:function(){return this.context.getSubChartModel().getSubChartProperty()}},{key:"getDataLabel",value:function(e){return new pt(e,this.context)}},{key:"getGeometryOptions",value:function(){return{geometryStyles:this.getGeometryStyles(),geometrySizes:this.getGeometrySizes(),geometryShapes:this.getGeometryShapes()}}},{key:"getGeometryStyle",value:function(e){var t=this.getNextDataItem(e)||e||{},n=t.border,i=t.fill,r=null==n?void 0:n.lineWidth,o=null==n?void 0:n.lineDash;return{lineWidth:r,stroke:this.is3D?i:null==n?void 0:n.stroke,lineDash:o,lineJoin:null==n?void 0:n.lineJoin,lineCap:null==n?void 0:n.lineCap,customStyles:this.getGeometryCustomStyles(e)}}},{key:"isLine",value:function(){return!0}},{key:"getGeometryCustomStyles",value:function(e){var t=this.getNextDataItem(e)||e,n=Object(j.d)(t),i=n.outline,r=n.background,o=L()(n,st),a=dt({},i);return this.is3D&&Object(j.b)(a,r),Object(j.f)(dt({outline:a},o))}},{key:"getSeriesColor",value:function(){return this.series.map((function(e){var t;return(null===(t=e.border)||void 0===t?void 0:t.stroke)||""}))}},{key:"getAdjustsConfig",value:function(){var e=x()(g()(n.prototype),"getAdjustsConfig",this).call(this),t=this.subChart.grouping;return t===P.i.stacked&&e.push({type:"stack",reverseOrder:!1,stackPositiveAndNegativeSeparately:!1}),t===P.i.percentStacked&&e.push({type:"stack",reverseOrder:!1,isPercent:!0,stackPositiveAndNegativeSeparately:!1}),e}},{key:"getNextDataItem",value:function(e){return this.data.find((function(t){return t.serIndex===e.serIndex&&t.categoryIndex===e.categoryIndex+1}))}},{key:"getGeometryStyles",value:function(){var e=this;return{point:this.createIdMappingCfg((function(t){var n,i=t.marker,r=t.value,o=t.border,a=t.fill;if(!i||Ke(r))n={fill:"transparent",stroke:"transparent"};else{var l,s=e.is3D?a:null==o?void 0:o.stroke;n=e.filterShapeAttr(dt(dt({fill:i.fill||s},i.border),{},{stroke:(null===(l=i.border)||void 0===l?void 0:l.stroke)||s}))}return dt(dt({},n),{},{customStyles:e.getPointCustomStyles(t)})}))}}},{key:"getPointCustomStyles",value:function(e){var t,n,i,r,o=e.marker,a=e.value,l=Object(j.d)(e),s=l.outline,u=l.background,c=L()(l,ut);!o||Ke(a)?(t={noFill:1},n={noFill:1}):(this.is3D?(i=u,r=Object(j.b)({},u)):(r=i=Object(j.c)(s)).solidFill&&(r.color=r.solidFill.color.srgb_color,delete r.solidFill),n=o.background||i,t=Object(lt.a)(r,o.outline,["color","gradFill","noFill"]));return Object(j.f)(dt({outline:t,background:n},c))}},{key:"getGeometrySizes",value:function(){var e=this;return{point:this.createIdMappingCfg((function(t){var n;if(!e.hasMarker(t))return 0;var i=t.marker,r=t.border,o=t.serIndex,a=null!=r&&r.originLineWidth?null==r?void 0:r.lineWidth:null===(n=e.series[o].border)||void 0===n?void 0:n.lineWidth;return(null==i?void 0:i.size)||a}))}}},{key:"getGeometryShapes",value:function(){return{point:this.createIdMappingCfg((function(e){var t=e.marker;return(null==t?void 0:t.symbol)||G}))}}}]),n}(De),pt=function(e){h()(n,e);var t=ht(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getLabelPosition",value:function(e,t,n){return _[t.labelPosition||""]||R.Right}}],[{key:"getFiledMappingConfig",value:function(e,t){var i=x()(g()(n),"getFiledMappingConfig",this).call(this,e,t);return i.cfg.layout.cfg.minWidth=250,i}}]),n}(ne);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var bt=function(e){h()(n,e);var t=yt(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"type",get:function(){return ie.b.PIE_CHART}},{key:"getRenderConfig",value:function(){return gt(gt({},x()(g()(n.prototype),"getRenderConfig",this).call(this)),{},{xAxis:!1,yAxis:!1})}},{key:"normalizeData",value:function(){x()(g()(n.prototype),"normalizeData",this).call(this),this.data=this.data.filter((function(e){return!!e.value}))}},{key:"normalizeDataItem",value:function(e,t){return gt(gt({},x()(g()(n.prototype),"normalizeDataItem",this).call(this,e,t)),{},{value:e.value&&Math.abs(e.value)})}},{key:"getGeometryStyle",value:function(e){var t=e||{},n=t.fill,i=t.border;return{fill:n,lineWidth:null==i?void 0:i.lineWidth,lineDash:null==i?void 0:i.lineDash,stroke:(null==i?void 0:i.stroke)||n,lineJoin:null==i?void 0:i.lineJoin,customStyles:this.getGeometryCustomStyles(e)}}},{key:"getCoordinateConfig",value:function(){return new mt(this.subChart).getConfig()}},{key:"getLimitInPlot",value:function(){return!1}},{key:"getDataLabel",value:function(e){return new Ot(e,this.context)}}]),n}(De),mt=function(e){h()(n,e);var t=yt(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getConfig",value:function(){var e=x()(g()(n.prototype),"getConfig",this).call(this),t=this.subChartProperty.firstSliceAngle,i=n.checkRadiusCollapsedByLabel(this.subChartProperty);return e.cfg=gt(gt({},e.cfg),{},{radius:i?.867:1}),e.actions||(e.actions=[]),e.actions.push(["rotate",Math.PI*(t/180)]),e}}],[{key:"checkRadiusCollapsedByLabel",value:function(e){var t,n,i=null===(t=e.series[0])||void 0===t||null===(n=t.dataLabels)||void 0===n?void 0:n.labelPosition,r=i===P.g.outEnd||i===P.g.bestFit,o=!1,a=!1;return e.data.forEach((function(e){var t=e.label;t&&((null==t?void 0:t.labelPosition)!==P.g.inEnd&&(null==t?void 0:t.labelPosition)!==P.g.ctr||(a=!0),t.layout&&(o=!0))})),r&&a&&!o&&(r=!1),r}}]),n}(pe),Ot=function(e){h()(n,e);var t=yt(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getConfig",value:function(){var e=x()(g()(n.prototype),"getConfig",this).call(this),t=e.style,i={};return e.originPosition===P.g.ctr&&(i.textAlign="center"),gt(gt({},e),{},{autoRotate:!1,style:gt(gt({},t),i)})}},{key:"getLabelPosition",value:function(e,t,n){return n?R.OutEnd:t.labelPosition===P.g.bestFit?R.InEnd:_[t.labelPosition||""]||R.OutEnd}}]),n}(ne),wt=n("14502724a6"),Ct=n.n(wt);function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var xt=function(e){h()(n,e);var t=St(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getConfig",value:function(){var e=this,t=x()(g()(n.prototype),"getConfig",this).call(this),i=Ct()(t.subChartRendererConfigs,1)[0],r=[],o=this.series.length;if(o>1){var a,l=this.data,s=(null===(a=i.coordinate)||void 0===a?void 0:a.cfg)||{},u=s.innerRadius,c=void 0===u?0:u,d=s.radius,h=void 0===d?0:d;return this.series.map((function(t,n){var a,s=l.filter((function(e){return e.serIndex===t.index})),u=(1-c)/o,d=h*(1-(o-n-1)*u),f=Pt(Pt({},i),{},{data:s,id:"".concat(e.id,"_").concat(n),coordinate:Pt(Pt({},i.coordinate),{},{cfg:Pt(Pt({},null===(a=i.coordinate)||void 0===a?void 0:a.cfg),{},{radius:d,innerRadius:1-u/d})})});r.push(f)})),Pt(Pt({},t),{},{subChartRendererConfigs:r})}return r.push(i),Pt(Pt({},t),{},{subChartRendererConfigs:r})}},{key:"getCoordinateConfig",value:function(){return new Tt(this.subChart).getConfig()}},{key:"getDataLabel",value:function(e){return new Lt(e,this.context)}}]),n}(bt),Tt=function(e){h()(n,e);var t=St(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getConfig",value:function(){var e=x()(g()(n.prototype),"getConfig",this).call(this),t=this.subChartProperty,i=t.holeSize,r=t.data.some((function(e){return e.label}));return e.cfg=Pt(Pt({},e.cfg),{},{innerRadius:i/100,radius:r?.867:1}),e}}]),n}(mt),Lt=function(e){h()(n,e);var t=St(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getConfig",value:function(){var e=x()(g()(n.prototype),"getConfig",this).call(this);return e&&"boolean"!=typeof e?Pt(Pt({},e),{},{style:Pt(Pt({},null==e?void 0:e.style),{},{textAlign:"center"}),autoRotate:!1}):e}},{key:"getLabelPosition",value:function(e,t,n){return R.Center}}]),n}(ne);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var Rt=function(e){h()(n,e);var t=Et(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"type",get:function(){return ie.b.SCATTER_CHART}},{key:"getRenderConfig",value:function(){return jt(jt({},x()(g()(n.prototype),"getRenderConfig",this).call(this)),{},{displayInvalidDataPointAs:ie.d.Gap,showSinglePoint:!1})}},{key:"normalizeSeries",value:function(){x()(g()(n.prototype),"normalizeSeries",this).call(this),this.series=this.series.map((function(e){var t,n;return jt(jt({},e),{},{categories:null===(t=e.categories)||void 0===t?void 0:t.map((function(e,t){return"number"!=typeof e&&e?t+1:e})),values:null===(n=e.values)||void 0===n?void 0:n.map((function(e){return"number"!=typeof e&&e?0:e}))})}))}},{key:"getGeometryOptions",value:function(){return{geometryStyles:this.getGeometryStyles(),geometryShapes:this.getGeometryShapes(),geometrySizes:this.getGeometrySizes()}}},{key:"subChart",get:function(){var e;return null===(e=this.context.getSubChartModel())||void 0===e?void 0:e.getSubChartProperty()}},{key:"getDataLabel",value:function(e){return new It(e,this.context)}},{key:"getAxis",value:function(){return new Ae(this.subChart,this.context.getChartModel()).init()}},{key:"pointVisible",get:function(){var e;return!(null===(e=this.series[0].marker)||void 0===e||!e.symbol)}},{key:"getGeometryStyles",value:function(){var e=this;return{point:this.pointVisible?this.createIdMappingCfg((function(t){var n=t.marker;return n?jt(jt({fill:n.fill},n.border),{},{customStyles:e.getPointCustomStyles(n)}):{}})):null,line:this.createFieldMappingCfg((function(t){var n=e.series.find((function(e){return e.name===t}));if(n){var i=n.border;return jt(jt({},i),{},{stroke:(null==i?void 0:i.stroke)||"transparent",customStyles:e.getLineCustomStyles(n)})}}),"name")}}},{key:"getPointCustomStyles",value:function(e){return Object(j.f)(e)}},{key:"getLineCustomStyles",value:function(e){return Object(j.f)(e)}},{key:"getGeometryShapes",value:function(){var e=this;return{line:this.createFieldMappingCfg((function(t){var n=e.subChart.series.find((function(e){return e.name===t}));return null!=n&&n.smooth?"smooth":"line"}),"name"),point:this.createIdMappingCfg((function(e){var t=e.marker;return(null==t?void 0:t.symbol)||G}))}}},{key:"getGeometrySizes",value:function(){var e=this;return{point:this.createIdMappingCfg((function(t){var n;if(!e.hasMarker(t))return 0;var i=t.marker,r=t.border,o=t.serIndex,a=null!=r&&r.originLineWidth?null==r?void 0:r.lineWidth:null===(n=e.series[o].border)||void 0===n?void 0:n.lineWidth;return(null==i?void 0:i.size)||a}))}}}]),n}(De),It=function(e){h()(n,e);var t=Et(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,null,[{key:"getFiledMappingConfig",value:function(e,t){var i=x()(g()(n),"getFiledMappingConfig",this).call(this,e,t);return i.cfg.layout.cfg.minWidth=250,i}}]),n}(ne);function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var Ft=function(e){h()(n,e);var t=Bt(n);function n(){var e;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),b()(c()(e),"getGeometrySize",(function(e){return e.size})),e}return s()(n,[{key:"type",get:function(){return ie.b.BUBBLE_CHART}},{key:"getRenderConfig",value:function(){var e=x()(g()(n.prototype),"getRenderConfig",this).call(this);return this.subChart.showNegBubbles||(e.data=e.data.filter((function(e){return e.originSize>=0}))),e}},{key:"normalizeDataItem",value:function(e,t){var i=x()(g()(n.prototype),"normalizeDataItem",this).call(this,e,t);if(e.originSize<0){var r,o,a,l,s,u,c,d,h;i.fill="transparent",i.border=Mt(Mt({},i.border),{},{stroke:null!==(r=i.border)&&void 0!==r&&r.stroke?null===(o=i.border)||void 0===o?void 0:o.stroke:"#000",lineWidth:null!==(a=i.border)&&void 0!==a&&a.lineWidth?null===(l=i.border)||void 0===l?void 0:l.lineWidth:1.5}),i.background={noFill:1};var f=(null===(s=i.outline)||void 0===s?void 0:s.color)||(null===(u=i.outline)||void 0===u?void 0:u.gradFill)||(null===(c=i.outline)||void 0===c?void 0:c.noFill);i.outline=Mt(Mt(Mt({},i.outline),f?{}:{color:"#000000"}),{},{width:null!==(d=null===(h=i.outline)||void 0===h?void 0:h.width)&&void 0!==d?d:.75})}return Mt(Mt({},i),{},{size:e.size,originSize:e.originSize})}},{key:"normalizeData",value:function(){var e=this;x()(g()(n.prototype),"normalizeData",this).call(this),this.data=this.data.filter((function(t){return!e.isInvalidDataItem(t)}))}},{key:"getDataLabel",value:function(e){return new Gt(e,this.context)}},{key:"getAxis",value:function(){return new Ae(this.subChart,this.context.getChartModel()).init()}},{key:"isInvalidDataItem",value:function(e){return this.isValueNil(e.originCategory)||this.isValueNil(e.originValue)}},{key:"isValueNil",value:function(e){return""===e||null==e}}]),n}(De),Gt=function(e){h()(n,e);var t=Bt(n);function n(){return a()(this,n),t.apply(this,arguments)}return n}(ne),Nt=["fill","border"],_t=["fill","border"];function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var Xt=function(e){h()(n,e);var t=Ht(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"type",get:function(){return ie.b.CANDLESTICK_CHART}},{key:"getConfig",value:function(){var e,t=x()(g()(n.prototype),"getConfig",this).call(this),i=[],r=Ct()(t.subChartRendererConfigs,1)[0];if(r.type=x()(g()(n.prototype),"type",this),this.subChart.highLowLinesData){var o=this.getHighLowLinesConf(r);i.push(o)}if(this.subChart.upDownBarsData){var a=this.getUpDownBarsConf(r);i.push(a)}return(e=t.subChartRendererConfigs).push.apply(e,i),t}},{key:"normalizeData",value:function(){x()(g()(n.prototype),"normalizeData",this).call(this);var e=this.subChart,t=e.highLowLinesData,i=e.upDownBarsData;t&&(this.highLowLinesData=t.map((function(e){return Ut(Ut({},e),{},{specialGeometryType:le.c.highLowLine})}))),i&&(this.upDownBarsData=i.map((function(e){return Ut(Ut({},e),{},{specialGeometryType:le.c.upDownBar})})))}},{key:"subChart",get:function(){var e;return null===(e=this.context.getSubChartModel())||void 0===e?void 0:e.getSubChartProperty()}},{key:"getHighLowLinesConf",value:function(e){var t,n=e.xAxis,i=e.yAxis,r=e.xScale,o=e.yScale,a=Object(j.i)(null===(t=this.subChart.highLowLines)||void 0===t?void 0:t.props,{filter:["background"]});return{type:ie.b.STICK_CHART,data:this.highLowLinesData||[],geometryStyle:Ut(Ut({},a.border),{},{customStyles:Object(j.f)(a)}),xAxis:n,yAxis:i,xScale:r,yScale:o}}},{key:"getUpDownBarsConf",value:function(e){var t=this,n=e.xAxis,i=e.yAxis,r=e.xScale,o=e.yScale;return{type:ie.b.BOX_CHART,data:this.upDownBarsData,geometryStyle:this.createFieldMappingCfg((function(e){var n,i,r=Ct()(e,2),o=r[0];if(r[1]>o){var a,l,s=Object(j.i)(null===(a=t.subChart.upDownBars)||void 0===a||null===(l=a.upBars)||void 0===l?void 0:l.props),u=s.fill,c=s.border,d=L()(s,Nt);return Ut(Ut({fill:u},c),{},{customStyles:Object(j.f)(d)})}var h=Object(j.i)(null===(n=t.subChart.upDownBars)||void 0===n||null===(i=n.downBars)||void 0===i?void 0:i.props),f=h.fill,p=h.border,v=L()(h,_t);return Ut(Ut({fill:f},p),{},{customStyles:Object(j.f)(v)})}),"value"),xAxis:n,yAxis:i,xScale:r,yScale:o}}}]),n}(ft),Yt=n("1f95bda786");function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var Jt=function(e){h()(n,e);var t=Kt(n);function n(){var e;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),b()(c()(e),"adjustOfPieDataLabel",(function(t,n,i){i.forEach((function(i){if("boolean"!=typeof i.label&&i.label&&!t&&n){var r=e.getOfPieBarDataLabel(i.label);i.label=r;var o=e.data.find((function(e){return e.id===i.id}));o&&(o.label=r)}}))})),e}return s()(n,[{key:"type",get:function(){return ie.b.OF_PIE_CHART}},{key:"getConfig",value:function(){var e=this,t=this.getRenderConfig(),n=this.normalizeDataItem(this.subChart.parentOtherData,-1),i=this.normalizeDataItem(this.subChart.childDefaultData,-1);return{type:this.type,subChartRendererConfigs:[Wt(Wt({},t),{},{ofPieChartConfig:{gapWidth:this.subChart.gapWidth,secondPieSize:this.subChart.secondPieSize,splitPos:this.subChart.splitPos,secondPiePts:this.subChart.secondPiePts,ofPieType:this.subChart.ofPieType,splitType:this.subChart.splitType,radiusCollapsedByLabel:mt.checkRadiusCollapsedByLabel(this.subChart),parentOtherPointConfig:{geometryStyle:this.filterShapeAttr(this.getGeometryStyle(n)),label:n.label,dataId:Yt.a},childDefaultPointConfig:{geometryStyle:this.filterShapeAttr(this.getGeometryStyle(i)),label:i.label},adjustOfPieDataLabel:this.adjustOfPieDataLabel,updateParentOtherDataLabelWithValue:function(t,n){return e.updateParentOtherDataLabelWithValue(e.subChart.parentOtherData,e.subChart.data[0],t,n)}}})]}}},{key:"getRenderConfig",value:function(){return Wt(Wt({},x()(g()(n.prototype),"getRenderConfig",this).call(this)),{},{xAxis:!1,yAxis:!1})}},{key:"subChart",get:function(){var e;return null===(e=this.context.getSubChartModel())||void 0===e?void 0:e.getSubChartProperty()}},{key:"normalizeDataItem",value:function(e,t){return Wt(Wt({},x()(g()(n.prototype),"normalizeDataItem",this).call(this,e,t)),{},{value:e.value&&Math.abs(e.value)})}},{key:"getGeometryStyle",value:function(e){var t=e||{},n=t.fill,i=t.border;return{fill:n,lineWidth:null==i?void 0:i.lineWidth,lineDash:null==i?void 0:i.lineDash,stroke:(null==i?void 0:i.stroke)||n,lineJoin:null==i?void 0:i.lineJoin,customStyles:this.getGeometryCustomStyles(e)}}},{key:"getLimitInPlot",value:function(){return!1}},{key:"getDataLabelItemConfig",value:function(e){var t=e.label;return!!t&&this.getDataLabel(t).getConfig()}},{key:"getDataLabel",value:function(e){return new Ot(e,this.context)}},{key:"getOfPieBarDataLabel",value:function(e){var t=e.originPosition,n=e.position;switch(t){case P.g.bestFit:case P.g.outEnd:n=R.Right;break;case P.g.ctr:n=R.Center;break;case P.g.inEnd:n=R.InEnd}return Wt(Wt({},e),{},{position:n,autoRotate:!1,style:Wt({},e.style)})}},{key:"updateParentOtherDataLabelWithValue",value:function(e,t,n,i){var r=this.subChart.generateOtherLabel(e,t,{tempData:t,childTotal:n,parentTotal:i});return this.getDataLabelItemConfig({label:r})}}]),n}(De),qt=(n("29f8c5f672"),n("85d48ef22b"),function(){function e(t,n,i){a()(this,e),b()(this,"subChartRendererConfigs",[]),b()(this,"layout",void 0),b()(this,"configHelpers",void 0),b()(this,"legendItems",void 0),b()(this,"getConfigHelper",void 0),b()(this,"axisPositionMap",void 0),this.charts=t,this.layout=n,this.legendItems=[],this.getConfigHelper=i,this.setChartRendererConfigs(n)}return s()(e,[{key:"getConfig",value:function(){var e=this.subChartRendererConfigs,t=void 0===e?[]:e;return{type:ie.b.CUSTOM_COMBO_CHART,subChartRendererConfigs:t}}},{key:"getLegendItems",value:function(){return this.legendItems}},{key:"setChartRendererConfigs",value:function(e){var t=this,n=this.charts.map((function(n,i){return t.getConfigHelper(n,e)})).filter((function(e){return!!e}));this.configHelpers=n,this.subChartRendererConfigs=Ve()(n.map((function(e){return e.getConfig().subChartRendererConfigs}))),this.adjustAxisTitle()}},{key:"adjustAxisTitle",value:function(){var e=this;this.axisPositionMap=new Map,this.subChartRendererConfigs.forEach((function(t){[t.xAxis,t.yAxis].forEach((function(t){var n;if(null!==(n=t)&&void 0!==n&&n.title){var i,r,o,a=t.position,l=e.axisPositionMap.get(a);if(l&&t.id!==l.id)t.title.spacing=(null===(i=l.label)||void 0===i?void 0:i.style.lineHeight)+2*(null===(r=l.label)||void 0===r?void 0:r.offset)+(null===(o=l.title)||void 0===o?void 0:o.style.lineHeight);else e.axisPositionMap.set(a,t)}}))}))}}]),e}()),Zt=function(){function e(){a()(this,e)}return s()(e,null,[{key:"getConfigHelperWithModel",value:function(e,t){var n=e.plotArea.charts;return n.length>1?this.createComboChartConfigHelper(n,t):this.createConfigHelperByType(null==n?void 0:n[0],t)}},{key:"getConfigHelper",value:function(e,t){var n;if(e){switch(e.type){case P.z.AreaChart:n=new He(e.getContext(),t).init();break;case P.z.BarChart:n=new it(e.getContext(),t).init();break;case P.z.LineChart:n=new ft(e.getContext(),t).init();break;case P.z.RadarChart:n=new Ge(e.getContext(),t).init();break;case P.z.PieChart:n=new bt(e.getContext(),t).init();break;case P.z.DoughnutChart:n=new xt(e.getContext(),t).init();break;case P.z.ScatterChart:n=new Rt(e.getContext(),t).init();break;case P.z.BubbleChart:n=new Ft(e.getContext(),t).init();break;case P.z.StockChart:n=new Xt(e.getContext(),t).init();break;case P.z.OfPieChart:n=new Jt(e.getContext(),t).init()}return n}console.error("[ChartConfigFactory]",k.a.t("subChart为空"))}},{key:"createConfigHelperByType",value:function(e,t){var n=this.getConfigHelper(e,t);if(n)return n;console.warn(k.a.t("不支持的图表类型"))}},{key:"createComboChartConfigHelper",value:function(t,n){return new qt(t,n,e.getConfigHelper)}}]),e}(),Qt=n("f2b6d66c40");var $t=n("9d90e7d680"),en=n("33c34da0d5");var tn=n("0a8ecd6412");n("9d0daf5c3f");function nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var rn=function(e){h()(n,e);var t=nn(n);function n(e){var i;return a()(this,n),i=t.call(this),b()(c()(i),"factoryOptions",void 0),b()(c()(i),"props",void 0),b()(c()(i),"imageResource",void 0),b()(c()(i),"enableResourceTransform",void 0),b()(c()(i),"transformResourceToImage",(function(){return new Promise((function(e,t){var n,o=null===(n=i.resource)||void 0===n?void 0:n.data;if(o)try{o.toBlob(function(){var t=r()(O.a.mark((function t(n){var r,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&(r=URL.createObjectURL(n),o=new C.x(new Promise((function(e){var t=new window.Image;t.src=r,t.onload=function(){return e(t)}}))),o.onImageLoaded((function(){var t,n;i.imageResource=o,null===(t=(n=i.props).afterResourceTransform)||void 0===t||t.call(n),URL.revokeObjectURL(r),e()})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(e){t(e)}}))})),i.updateProps(e),i}return s()(n,[{key:"updateProps",value:function(e){var t=this;this.props=e;var n,i=this.props,r=i.height,o=i.width,a=i.resource,l=i.factoryOptions,s=i.enableResourceTransform,u=void 0!==s&&s;(this.factoryOptions=l,this.width=o,this.height=r,this.enableResourceTransform=u,this.resource!==a)&&(this.imageResource=null,this.resource=a,u&&(n=function(){t.transformResourceToImage()},new Promise((function(e){setTimeout((function(){e(n())}),50)}))))}},{key:"draw",value:function(e){var t=this.imageResource||this.resource;t&&!t.isEmpty&&e.drawImage(t,0,0,this.width,this.height)}}]),n}(C.v),on=(n("bd80bf2d0f"),n("22569efd03"),n("63513d8b56"),0),an=function(){function e(t){a()(this,e),b()(this,"schedulingTasks",[]),b()(this,"inQueueTasks",[]),b()(this,"schedulingTotalMemory",0),b()(this,"maximumSchedulingNumber",void 0),b()(this,"maxMemoryLimit",void 0),b()(this,"scheduleInterval",void 0),b()(this,"mode",void 0);var n=t.max,i=t.interval,r=t.memory,o=t.mode;this.mode=o,this.maximumSchedulingNumber=n||10,this.scheduleInterval=i||50,this.maxMemoryLimit=r||5242880}var t,n;return s()(e,[{key:"runTask",value:function(e,t){var n=this,i=t||{},r=i.memory,o=i.priority;return new Promise((function(i,a){var l={id:"".concat(null==t?void 0:t.name,"task-").concat(Math.random().toString(16),"-").concat(Date.now()),task:e,resolve:i,reject:a,memory:r||0,priority:o||on};n.add(l)}))}},{key:"add",value:function(e){this.inQueue(e),this.scheduleNextTask()}},{key:"shouldScheduleImmediately",value:function(e){return"count"===this.mode?this.schedulingTasks.length<this.maximumSchedulingNumber:0===this.schedulingTotalMemory||this.schedulingTotalMemory+e.memory<=this.maxMemoryLimit}},{key:"completeTask",value:(n=r()(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitInterval();case 2:(n=this.schedulingTasks.findIndex((function(e){return e.id===t.id})))>-1&&(this.schedulingTasks.splice(n,1),this.releaseMemory(t)),this.scheduleNextTask();case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"scheduleNextTask",value:function(){var e=this.getNextTask();e&&this.shouldScheduleImmediately(e)&&(this.removeFormInQueueTasks(e),this.schedule(e))}},{key:"inQueue",value:function(e){this.inQueueTasks.push(e)}},{key:"removeFormInQueueTasks",value:function(e){var t=this.inQueueTasks.findIndex((function(t){return t.id===e.id}));t>-1&&this.inQueueTasks.splice(t,1)}},{key:"schedule",value:(t=r()(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.schedulingTasks.push(t),this.increaseMemory(t),e.prev=2,e.next=5,t.task();case 5:n=e.sent,t.resolve(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.reject(e.t0);case 12:this.completeTask(t);case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return t.apply(this,arguments)})},{key:"increaseMemory",value:function(e){"memory"===this.mode&&(this.schedulingTotalMemory+=e.memory)}},{key:"releaseMemory",value:function(e){"memory"===this.mode&&(this.schedulingTotalMemory-=e.memory)}},{key:"getNextTask",value:function(){var e=null;return this.inQueueTasks.forEach((function(t){(!e||t.priority>e.priority)&&(e=t)})),e}},{key:"waitInterval",value:function(){var e=this;return new Promise((function(t){setTimeout((function(){t()}),e.scheduleInterval)}))}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e({mode:"count",max:Ze?5:100,interval:Ze?50:0})),e.instance}}]),e}();b()(an,"instance",void 0);n("963f2eaace"),n("8aebbf296a"),n("f45588a8ad"),n("de37db1287"),n("c9a7ecac4d");function ln(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dn=0,hn=function(){function e(t){a()(this,e),b()(this,"canvasPool",void 0),b()(this,"inQueueApplier",void 0),b()(this,"deliverPromise",void 0),b()(this,"memoryInUse",void 0),b()(this,"memoryLimit",void 0),b()(this,"autoClear",void 0);var n=t||{},i=n.memoryLimit,r=void 0===i?52428800:i,o=n.autoClear,l=void 0===o||o;this.canvasPool=new Set,this.inQueueApplier=[],this.memoryLimit=r,this.autoClear=l,this.memoryInUse=0}var t;return s()(e,[{key:"applyCanvas",value:function(e){var t=this,n=this.getAvailableCanvasObject(e);return n?(this.markCanvasObjectInUse(n,e),Promise.resolve(n)):new Promise((function(n){t.inQueueApplier.push({resolver:n,option:cn({priority:dn},e)})}))}},{key:"releaseCanvas",value:function(e){var t=this.getNextApplier(),n=t.applier,i=t.index;n&&this.shouldResolveCanvasObjectToNextApplier(n,e)?(this.inQueueApplier.splice(i,1),this.resetCanvas(e,this.autoClear),this.markCanvasObjectInUse(e,n.option),n.resolver(e)):this.resetCanvas(e,!0)}},{key:"shouldResolveCanvasObjectToNextApplier",value:function(e,t){return!(e.option.memory+this.memoryInUse>this.memoryLimit&&!this.isAllIdel())}},{key:"findApplierToFreeCanvas",value:function(){var e=this;this.deliverPromise=(this.deliverPromise||Promise.resolve()).then(r()(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getEarliestCanvas())){t.next=5;break}return t.next=4,e.forceApplierToFreeCanvas(n);case 4:e.releaseCanvas(n);case 5:case"end":return t.stop()}}),t)}))))}},{key:"forceApplierToFreeCanvas",value:(t=r()(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=t.onForceFree)||void 0===n?void 0:n.call(t);case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"getAvailableCanvasObject",value:function(e){var t=this.memoryInUse+e.memory>=this.memoryLimit,n=this.getIdleCanvasObject(),i=this.canvasPool.size>=0&&!this.isAllIdel();if(t&&i)return null;if(n)return n;var r=this.createCanvasObject(e);return this.canvasPool.add(r),r}},{key:"createCanvasObject",value:function(e){return{id:"".concat(Math.random().toString(16),"-").concat(Date.now()),instance:document.createElement("canvas"),inUse:!1,onForceFree:e.onForceFree,memory:e.memory,usingTime:0}}},{key:"isAllIdel",value:function(e){var t=!0;return this.canvasPool.forEach((function(n,i){n.inUse&&n.id!==(null==e?void 0:e.id)&&(t=!1)})),t}},{key:"getIdleCanvasObject",value:function(){var e,t=null,n=ln(this.canvasPool);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(!i.inUse){t=i;break}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"resetCanvas",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.inUse=!1,this.releaseMemory(e),t&&(e.instance.height=1,e.instance.width=1)}},{key:"getNextApplier",value:function(){var e=null,t=-1;return this.inQueueApplier.forEach((function(n,i){(!e||n.option.priority>e.option.priority)&&(e=n,t=i)})),{applier:e,index:t}}},{key:"getEarliestCanvas",value:function(){var e=null;return this.canvasPool.forEach((function(t,n){(!e||t.usingTime<e.usingTime)&&(e=t)})),e}},{key:"markCanvasObjectInUse",value:function(e,t){e.inUse=!0,e.usingTime=Date.now();var n=t.memory,i=t.onForceFree;e.memory=n,e.onForceFree=i,this.increaseMemory(e)}},{key:"increaseMemory",value:function(e){this.memoryInUse+=e.memory}},{key:"releaseMemory",value:function(e){this.memoryInUse-=e.memory,e.memory=0}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e({memoryLimit:Ze?52428800:1073741824})),e.instance}}]),e}();b()(hn,"instance",void 0);n("281cbdced7"),n("9e0de5ce55");var fn=n("2d47c066fb"),pn=n("b4b606ae45");function vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var gn=function(e){h()(n,e);var t=vn(n);function n(e){var i;return a()(this,n),i=t.call(this),b()(c()(i),"hitAreaList",void 0),b()(c()(i),"blankArea",void 0),b()(c()(i),"factoryOptions",void 0),i.updateProps(e),i}return s()(n,[{key:"updateProps",value:function(e){var t=this,n=e.width,i=e.height,r=e.hitAreas,o=e.factoryOptions;this.factoryOptions=o,this.blankArea&&(this.blankArea.dispose(),this.removeChild(this.blankArea)),this.blankArea=this.createBlankArea(n,i),this.addChild(this.blankArea),this.hitAreaList&&(this.hitAreaList.forEach((function(e){e.dispose(),t.removeChild(e)})),this.hitAreaList=[]),this.hitAreaList=r.map((function(e){var n=new yn(e);return t.addChild(n),n}))}},{key:"createBlankArea",value:function(e,t){var n=this,i="M 0 0 L ".concat(e," 0 L ").concat(e," ").concat(t," L 0 ").concat(t," Z"),r=new C.N(i);return r.fill=new C.i(C.h.Transparent),r.onMouseDown((function(){var e;null===(e=n.chartEditLogic)||void 0===e||e.handlePlotBlankMouseDown()})),r}},{key:"chartEditLogic",get:function(){return this.factoryOptions.logicService.getLogic(this.factoryOptions)}}]),n}(C.k),yn=function(e){h()(n,e);var t=vn(n);function n(e){var i;a()(this,n),i=t.call(this),b()(c()(i),"factoryOptions",void 0),b()(c()(i),"element",void 0),b()(c()(i),"lastClickTimestamp",void 0),b()(c()(i),"handleMouseDown",(function(e){var t=Date.now();i.chartEditLogic.handleElementSelected(i.element,i.isSingleClick(t)),i.recordClickTimestamp(t)}));var r=new C.i(C.h.Transparent);if(i.id="".concat(fn.b,"-").concat(e.element.id),/hit=1/.test(location.search)){var o=Math.round(16777215*Math.random()),l="#".concat(o.toString(16).padStart(6,"0"));r=new C.i(C.h.fromHex(l))}return Object(pn.c)(e.element.shapeType)?(i.strokeWidth=15,i.stroke=r):i.fill=r,i.updateProps(e),i.onMouseDown(i.handleMouseDown),i}return s()(n,[{key:"updateProps",value:function(e){this.path=e.path,this.x=e.x||0,this.y=e.y||0,this.element=e.element,this.factoryOptions=e.factoryOptions}},{key:"chartEditLogic",get:function(){return this.factoryOptions.logicService.getLogic(this.factoryOptions)}},{key:"recordClickTimestamp",value:function(e){this.lastClickTimestamp=e}},{key:"isSingleClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:550;return!this.lastClickTimestamp||e-this.lastClickTimestamp>=t}}]),n}(C.N);function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var wn=function(e){h()(n,e);var t=On(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getElements",value:function(e){var t=e.views.map((function(e){return e.controllers.find((function(e){return"axis"===e.name}))})),n=Ve()(t.map((function(e){return null==e?void 0:e.getComponents()}))),i=this.getAxisElements(n),r=this.getGridElements(n);return[].concat(oe()(r),oe()(i))}},{key:"getAxisElements",value:function(e){var t=this,n=e.filter((function(e){return"axis"===e.type})),i=null==n?void 0:n.map((function(e,n){var i,r,o,a,l,s=null===(o=(null===(i=e.component)||void 0===i||null===(r=i.cfg)||void 0===r?void 0:r.group).cfg)||void 0===o?void 0:o.children,u=e.direction,c=mn(mn({},e.extra),{},{axisId:null===(a=e.component)||void 0===a||null===(l=a.cfg)||void 0===l?void 0:l.id});if(s){var d=[],h=s.find((function(e){return"axis-line"===e.cfg.name})),f=s.find((function(e){return"axis-label-group"===e.cfg.name})),p=(s.find((function(e){return"axis-tickline-group"===e.cfg.name})),s.find((function(e){return"axis-title"===e.cfg.name})));if(f)if(t.isPolarisCoordinate(e)){var v,g="".concat(le.a.AXIS_LABEL,"-").concat(u,"-group-").concat(n),y=null===(v=f.cfg.children)||void 0===v?void 0:v.map((function(e,n){var i,r=(null===(i=e.getCanvasBBox)||void 0===i?void 0:i.call(e))||e.getBBox(),o=t.convertBBoxToRect(r);return{rect:o,path:t.convertRectToPath(o),direction:u,type:le.a.AXIS_LABEL,id:"".concat(le.a.AXIS_LABEL,"-").concat(u,"-").concat(n),extra:c,groupId:g}}));if(y){var b={group:y,id:g,type:le.a.AXIS_LABEL};d.push(b)}}else{var m,O=(null===(m=f.getCanvasBBox)||void 0===m?void 0:m.call(f))||f.getBBox(),w=t.convertBBoxToRect(O),C={rect:w,path:t.convertRectToPath(w),direction:u,type:le.a.AXIS_LABEL,id:"".concat(le.a.AXIS_LABEL,"-").concat(u,"-").concat(n),extra:c};if(h){var k=h.getBBox(),P=Math.min(O.minY,k.minY),S=Math.min(O.minX,k.minX);C.rect={top:P,left:S,width:Math.max(O.maxX,k.maxX)-S,height:Math.max(O.maxY,k.maxY)-P},C.path=t.convertRectToPath(C.rect)}d.push(C)}if(p){var x,T,L=t.convertBBoxToRect((null===(x=p.getCanvasBBox)||void 0===x?void 0:x.call(p))||(null===(T=p.getBBox)||void 0===T?void 0:T.call(p))),A=t.convertRectToPath(L);d.push({rect:L,path:A,direction:u,type:le.a.AXIS_TITLE,id:"".concat(le.a.AXIS_TITLE,"-").concat(u,"-").concat(n),extra:c})}return d}var j=e.component.getBBox(),E={height:j.height,width:j.width,left:j.x,top:j.y};return[{rect:E,path:t.convertRectToPath(E),extra:c,direction:u,type:le.a.AXIS_LABEL,id:"".concat(le.a.AXIS_LABEL,"-").concat(u)}]}));return Ve()(i)}},{key:"getGridElements",value:function(e){var t=this,n=e.filter((function(e){return"grid"===e.type})).filter((function(e){return!!e})),i=[];return n.forEach((function(e,n){var r,o,a,l,s,u,c,d=null==e||null===(r=e.component)||void 0===r||null===(o=r.cfg)||void 0===o?void 0:o.items,h=[],f=[];null==e||null===(a=e.component)||void 0===a||null===(l=a.cfg)||void 0===l||null===(s=l.group)||void 0===s||null===(u=s.cfg)||void 0===u||null===(c=u.children)||void 0===c||c.forEach((function(i,r){var o,a,l=i.cfg,s=l.canvasBBox,u=l.attrs,c=l.bbox,p=t.convertBBoxToRect(s||c),v="subGrid"===(null==d?void 0:d[r].type),g=v?le.a.MINOR_GRID:le.a.MAJOR_GRID,y={rect:p,path:(null==u?void 0:u.path)||[],extra:mn(mn({},null==e?void 0:e.extra),{},{axisId:null==e||null===(o=e.extra)||void 0===o||null===(a=o.axis)||void 0===a?void 0:a.id}),type:g,id:"".concat(g,"-").concat(n,"-").concat(r),direction:null==e?void 0:e.direction,shapeType:"line",selectStyle:le.b.ANCHOR,disableSingleSelect:!0};v?f.push(y):h.push(y)})),[h,f].map((function(e){if(e.length>0){var t=e[0].type,r="".concat(t,"-group").concat(n),o={group:e.map((function(e){return mn(mn({},e),{},{groupId:r})})),type:t,id:r};i.push(o)}}))})),i}},{key:"isPolarisCoordinate",value:function(e){return"circle"===e.component.cfg.type}}]),n}(pn.a);function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var kn=function(e){h()(n,e);var t=Cn(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getElements",value:function(e){var t=e.controllers.find((function(e){return"legend"===e.name})),n=null==t?void 0:t.getComponents().find((function(e){return"legend"===e.type}));if(n){var i=n.component.getBBox(),r={height:i.height,width:i.width,top:i.y,left:i.x};return[{rect:r,path:this.convertRectToPath(r),extra:n.extra,type:le.a.LEGEND,id:le.a.LEGEND}]}return[]}}]),n}(pn.a);function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var Tn=function(e){h()(n,e);var t=xn(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getElements",value:function(e){var t=this,n=e.views.map((function(e){return{viewId:e.id,geometries:e.geometries}})),i=[];return n.map((function(e){var n=e.geometries,r=e.viewId;n.map((function(e,n){var o=[];e.elements.map((function(e,i){if(e.labelShape.length>0)return e.labelShape.map((function(e){var a,l,s=null==e?void 0:e.cfg;if(!s)return null;var u=s.data,c=s.cacheCanvasBBox||(null===(a=s.children.find((function(e){var t;return"text"===(null===(t=e.cfg)||void 0===t?void 0:t.type)})))||void 0===a||null===(l=a.getCanvasBBox)||void 0===l?void 0:l.call(a)),d={left:(null==c?void 0:c.x)||0,top:(null==c?void 0:c.y)||0,width:(null==c?void 0:c.width)||0,height:(null==c?void 0:c.height)||0},h=t.convertRectToPath(d);o.push({extra:u,rect:d,path:h,type:le.a.DATA_LABEL,id:"".concat(le.a.DATA_LABEL,"-").concat(u.id,"-").concat(r,"-").concat(n,"-").concat(i)})}))}));var a=t.groupBy(o,"extra.seriesId");Object.keys(a).forEach((function(e,t){var o="".concat(le.a.DATA_LABEL,"-").concat(r,"-").concat(n,"-").concat(e);i.push({group:a[e].map((function(e){return Sn(Sn({},e),{},{groupId:o})})),type:le.a.DATA_LABEL,id:o})}))}))})),i}}]),n}(pn.a),Ln=n("ea00dd14b1"),An=n.n(Ln);function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var In,Dn=function(e){h()(n,e);var t=Rn(n);function n(){var e;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),b()(c()(e),"filterLineMarker",(function(t){var n=t.find((function(e){return Object(pn.c)(e.shapeType)})),i=t.find((function(t){return e.isMarkerShape(t.shapeType)}));return n&&i?t.filter((function(t){return!e.isMarkerShape(t.shapeType)})):t})),b()(c()(e),"filterAreaLine",(function(t){var n=t.find((function(e){return Object(pn.c)(e.shapeType)})),i=t.find((function(t){return e.isAreaShape(t.shapeType)}));return n&&i?t.filter((function(e){return!Object(pn.c)(e.shapeType)})):t})),e}return s()(n,[{key:"getElements",value:function(e){var t=this,n=Ve()(e.views.map((function(e){return e.geometries}))),i=Ve()(n.map((function(e){return e.elements}))).map((function(e,n){var i=e.getData(),r=Array.isArray(i)?i[0]:i,o=r.seriesId,a=Object(pn.d)(r.specialGeometryType),l=a?le.b.ENDS_ANCHOR:le.b.ANCHOR,s=e.shape.attr(),u=t.generatePath(s),c=e.shapeType;return{id:"".concat(le.a.GEOMETRY,"-").concat(n),type:le.a.GEOMETRY,path:u,rect:{left:0,top:0,height:0,width:0},shapeType:c,selectStyle:l,extra:{data:i,seriesId:o,dataId:r.dataId,chartId:r.chartId,specialGeometryType:r.specialGeometryType},disableGroupSelect:a,disableSingleSelect:Object(pn.e)(r.specialGeometryType)||Object(pn.b)(r.specialGeometryType)||s.symbol||Object(pn.c)(c)}})),r=[],o=An()(i,(function(e){return e.extra.specialGeometryType===le.c.upDownBar?"upDownBars_".concat(e.extra.data.barType):e.extra.specialGeometryType===le.c.highLowLine?"sitck":e.extra.specialGeometryType===le.c.trendLine?"trendline_".concat(e.extra.seriesId):e.extra.seriesId}));return Object.keys(o).forEach((function(e,n){var i=t.generateGroupId(e),a=t.filterElement(o[e]);r.push({group:a.map((function(e){return En(En({},e),{},{groupId:i})})),type:le.a.GEOMETRY,id:i})})),r}},{key:"generateGroupId",value:function(e){return"".concat(le.a.GEOMETRY,"-").concat(e)}},{key:"generatePath",value:function(e){var t=e.path,n=e.symbol,i=e.x,r=e.y,o=e.r;return n?this.generateSymbolPath(i,r,o):t}},{key:"generateSymbolPath",value:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]}},{key:"filterElement",value:function(e){return[this.filterAreaLine].reduce((function(e,t){return t(e)}),e)}}]),n}(pn.a);function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fn,Gn=(In={},b()(In,ie.a.ANCHOR,le.b.ANCHOR),b()(In,ie.a.EDGE,le.b.ENDS_ANCHOR),b()(In,ie.a.RECT,le.b.BORDER),In),Nn=function(){function e(){a()(this,e),b()(this,"axis",void 0),b()(this,"legend",void 0),b()(this,"dataLabel",void 0),b()(this,"geometry",void 0),this.axis=new wn,this.legend=new kn,this.dataLabel=new Tn,this.geometry=new Dn}return s()(e,[{key:"getChartElements",value:function(e){var t=this.axis.getElements(e),n=this.legend.getElements(e),i=this.dataLabel.getElements(e),r=this.geometry.getElements(e);return[].concat(oe()(t),oe()(r),oe()(n),oe()(i))}},{key:"convertToChartElement",value:function(e){var t,n,i=e.elementType,r=Bn(Bn({},e.rect),{},{left:(null===(t=e.rect)||void 0===t?void 0:t.x)||0,top:(null===(n=e.rect)||void 0===n?void 0:n.y)||0}),o={id:e.id,groupId:e.groupId,type:i,rect:r,path:e.path,shapeType:e.shapeType,selectStyle:Gn[e.borderType]};if(this.isGridLineElement(e)&&(o.type="subGrid"===e.gridType?le.a.MINOR_GRID:le.a.MAJOR_GRID),this.isAxisElement(e)&&(o.direction=e.position,o.extra={axisId:e.extra.axisId}),this.isGeometryElement(e)||this.isDataLabelElement(e)){var a=Array.isArray(e.data)?e.data[0]:e.data,l=a.seriesId,s=a.dataId,u=a.specialGeometryType,c=a.chartId;o.extra={seriesId:l,dataId:s,specialGeometryType:u,chartId:c,data:e.data}}return o}},{key:"isGridLineElement",value:function(e){return e.elementType===ie.e.GRID}},{key:"isAxisElement",value:function(e){return e.elementType===ie.e.AXIS_LABEL||e.elementType===ie.e.AXIS_TITLE||e.elementType===ie.e.AXIS_TICK||e.elementType===ie.e.GRID}},{key:"isGeometryElement",value:function(e){return e.elementType===ie.e.GEOMETRY}},{key:"isDataLabelElement",value:function(e){return e.elementType===ie.e.DATA_LABEL}}]),e}(),_n=n("b4060fa5e7"),zn=["fill","border"],Un=["fill","border"];function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yn=(Fn={},b()(Fn,P.m.b,ie.c.BOTTOM),b()(Fn,P.m.l,ie.c.LEFT),b()(Fn,P.m.t,ie.c.TOP),b()(Fn,P.m.tr,ie.c.TOP_RIGHT),b()(Fn,P.m.r,ie.c.RIGHT),b()(Fn,P.m.PBDEFAULT,ie.c.BOTTOM),Fn),Vn=function(){function e(t,n){a()(this,e),b()(this,"chartHelper",void 0),b()(this,"chartProps",void 0),b()(this,"chartLayout",void 0),this.context=n,this.chartHelper=t,this.chartProps=n.getChartModel(),this.chartLayout=t.layout}return s()(e,[{key:"getCommonConfig",value:function(){return{legend:this.generateLegendConfig()}}},{key:"generateLegendConfig",value:function(){var e,t=this,n=this.context.getPropertyModule("legend");if(!n)return!1;var i=n||{},r=i.layout,o=i.props,a=i.position,l=i.overlay,s=(null===(e=this.context.getPropertyModule("legend"))||void 0===e?void 0:e.items.map((function(e,n){var i=t.getTextDocElement(e,n);return{name:e.name,marker:t.getMarkerConfig(e.marker),docElement:i,style:{customStyles:{text:i}}}})))||[],u=Object(j.i)(o),c=u.fill,d=u.border,h=L()(u,zn),f=this.chartLayout.getTitleOccupiedHeight();return{custom:!0,items:s,position:Yn[a||""]||ie.c.BOTTOM,customLayout:r,style:Xn(Xn({fill:c},d),{},{customStyles:Object(j.f)(h)}),overlay:l,margin:[f],chartBox:this.chartLayout.g2CanvasBox,onMarkerMeasured:function(e){var t=(null==e?void 0:e.style)||{},n=t.customStyles,i=void 0===n?{}:n,r=t.lineWidth,o=i.strokeStyle;fe()(o)||void 0===r||(o.lineWidth=r)},getReLayoutLegendItemBox:function(e,t){var n,i=Xn(Xn({},e.docElement),{},{docSizeType:$.e.WrapContent}),r=Object($.r)(i,t),o=null==r||null===(n=r.children[0])||void 0===n?void 0:n.children,a=t;(null==o?void 0:o.length)<=1&&(a=Math.ceil(Object($.q)(r)));var l=null==o?void 0:o.map((function(e){var t;return null==e||null===(t=e.children)||void 0===t?void 0:t.map((function(e){return e.text})).join("")})).join("\n");return{rect:{height:Object($.u)(r.rect.height),width:Object($.u)(r.rect.width)},text:l,textWidth:a}}}}},{key:"getMarkerConfig",value:function(e){var t=Object(j.e)(Object(j.i)(e.props,{isLine:e.symbol===_n.a.Line,filter:["effects"]})),n=t.fill,i=t.border,r=L()(t,Un);return{symbol:Object(j.g)(e.symbol)||e.symbol,style:Xn(Xn({fill:n},i),{},{customStyles:Object(j.f)(r)})}}},{key:"getTextDocElement",value:function(t,n){var i,r=this.chartProps.legend,o=null==r||null===(i=r.legendEntryList)||void 0===i?void 0:i.find((function(e){return e.id===n})),a=e.getLegendParaList(t.name,(null==o?void 0:o.paragraphList)||(null==r?void 0:r.paragraphList)||[]),l=Q(null==o?void 0:o.textBodyStyle,null==r?void 0:r.textBodyStyle,{noDefaultPadding:!0,anchorLeft:!0})||{bodyStyle:{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0}};return U.a.convertFromTextModel({paragraphList:a,textBodyStyle:l},{noConvertBack:!0})}}],[{key:"getLegendParaList",value:function(e,t){var n,i;return[Xn(Xn({},null==t?void 0:t[0]),{},{textRuns:[{text:e,styles:Xn({},(null==t||null===(n=t[0])||void 0===n||null===(i=n.paragraphProps)||void 0===i?void 0:i.defaultRunProps)||{}),type:"run"}]})]}}]),e}(),Wn=function(){function e(t,n){a()(this,e),b()(this,"chartHelper",void 0),b()(this,"chartModel",void 0),b()(this,"chartLayout",void 0),this.context=n,this.chartHelper=t,this.chartModel=n.getChartModel()}return s()(e,[{key:"getCommonConfig",value:function(){return{plotArea:this.generatePlotAreaConfig()}}},{key:"generatePlotAreaConfig",value:function(){var e=this.chartModel.plotArea,t=Object(j.i)(e.props),n=t.fill,i=t.border;return{style:{fill:n,fillOpacity:1,lineWidth:null==i?void 0:i.lineWidth,lineDash:null==i?void 0:i.lineDash,stroke:null==i?void 0:i.stroke,lineJoin:null==i?void 0:i.lineJoin,lineCap:null==i?void 0:i.lineCap,customStyles:Object(j.f)(t)}}}}]),e}();function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qn=function(){function e(t,n){a()(this,e),b()(this,"commonConfigHelpers",void 0),this.commonConfigHelpers=[],this.commonConfigHelpers.push(new Vn(t,n)),this.commonConfigHelpers.push(new Wn(t,n))}return s()(e,[{key:"getCommonConfig",value:function(){return this.commonConfigHelpers.reduce((function(e,t){var n=t.getCommonConfig();return Jn(Jn({},e),n)}),{})}}]),e}();n("4bbb5840d5"),n("a2a09da1e3");n("9a49a41579");n("3df6907cce"),C.A.Miter,C.A.Bevel,C.A.Round,C.z.Butt,C.z.Round,C.z.Square;var Zn=n("ab17200d42");en.a.Both,en.a.Both,en.a.Both,en.a.Both,en.a.Both;n("0ef3962c55"),n("7f877c3077");var Qn=n("895c129953"),$n=(Qn.a.MOUSEDOWN,Qn.a.MOUSEUP,Qn.a.MOUSEMOVE,Qn.a.MOUSEENTER,Qn.a.MOUSELEAVE,Qn.a.DBLCLICK,n("e0808780a7"));function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ni(e){return Array.isArray(e.data)?e.data[0]:e.data}var ii=n("5cdbac46e8");function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p()(this,n)}}var li=function(e){h()(l,e);var t,n,i,o=ai(l);function l(e){var t;return a()(this,l),t=o.call(this),b()(c()(t),"model",void 0),b()(c()(t),"factoryOptions",void 0),b()(c()(t),"chartConfigHelper",void 0),b()(c()(t),"chartConfig",void 0),b()(c()(t),"chartLayout",void 0),b()(c()(t),"chartInstance",void 0),b()(c()(t),"canvasObject",void 0),b()(c()(t),"g2Chart",void 0),b()(c()(t),"preG2Chart",void 0),b()(c()(t),"chartElements",void 0),b()(c()(t),"wholeChart",void 0),b()(c()(t),"renderStatus",void 0),b()(c()(t),"renderResolver",void 0),b()(c()(t),"chartElementsManager",void 0),b()(c()(t),"hitAreaContainer",void 0),b()(c()(t),"plotComponent",void 0),b()(c()(t),"chartContext",void 0),b()(c()(t),"chartRender",void 0),b()(c()(t),"drawChartPromise",void 0),b()(c()(t),"resizing",!1),b()(c()(t),"lastRenderFrame",void 0),b()(c()(t),"debouncedUpdate",void 0),b()(c()(t),"chartBox",void 0),b()(c()(t),"isEditable",!1),b()(c()(t),"updateChart",r()(O.a.mark((function e(){var n,i,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.chartConfigHelper=Zt.getConfigHelperWithModel(t.model,t.chartLayout),i=new qn(t.chartConfigHelper,t.model.getContext()).getCommonConfig(),(r=null===(n=t.chartConfigHelper)||void 0===n?void 0:n.getConfig())&&(r.commonConfig=i),t.chartConfig=r,t.destroyPreChart(),t.preG2Chart=t.g2Chart,t.drawChartPromise=t.drawSourceChart(),e.next=11,t.drawChartPromise;case 11:e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),window.log.error("updateChart error",e.t0),t.chartRenderFailed();case 18:t.chartRenderComplete();case 19:case"end":return e.stop()}}),e,null,[[0,13]])})))),b()(c()(t),"getThumbPageScale",(function(){var e=t.factoryOptions,n=e.region,i=e.getPageScale;if(n===tn.s.LEFTLIST){var r=null==i?void 0:i();if(r)return 2.5*r}return 1})),t.debouncedUpdate=function(){return t.updateChartPlot()},t.updateProps(e),t.chartElementsManager=new Nn,t}return s()(l,[{key:"updateChartPlot",value:function(){var e=this;this.wholeChart.isActualRenderChart?Ze?an.getInstance().runTask((function(){return e.updateChart()})):this.updateChart():(this.updateFallbackImage(),this.chartRenderComplete())}},{key:"updateProps",value:function(e,t){var n=e.frame,i=e.model,r=e.factoryOptions,o=e.titleRect,a=e.wholeChart;this.factoryOptions=r,this.wholeChart=a;var l,s,u,c=null!=t?t:this.shouldUpdateSource(n,i);if(this.model=i,this.lastRenderFrame=n,c){this.clearExpiredLayout();var d=(l=this.model.props.style,s=l.height,u=l.width,{height:Math.floor(s),width:Math.floor(u),left:0,top:0}),h=function(e,t){return void 0!==e?{height:t.height,width:t.width,top:t.top,left:t.left,overlay:!!e.overlay}:{height:0,width:0,top:0,left:0,overlay:!0}}(this.model.title,o),f=function(e,t){if(t&&Object.keys(t).length>0)return{width:e.width*t.width,height:e.height*t.height,left:e.width*t.left,top:e.height*t.top}}(d,this.model.plotArea.layout),p={chartBox:d,titleBox:h,plotManualLayoutBox:f};this.chartBox=d,this.chartLayout=new w.b(p),this.debouncedUpdate()}}},{key:"updateFallbackImage",value:function(){var e=this.chartBox,t=e.width,n=e.height;this.updatePlotComponent({height:n,width:t,resource:this.createFallbackImageSource(),factoryOptions:this.factoryOptions}),this.resetShouldUpdate()}},{key:"createFallbackImageSource",value:function(){var e,t=this.chartBox,n=t.width,i=t.height,r=this.model.fallbackImageSrc;return r?(e=r,en.i.get({alloyParams:{urlOrImage:e}})):function(e,t,n){return new C.x(new Promise((function(i){var r=new window.Image;r.onload=function(){return i(r)},r.src=Object($t.b)(e,t,n)})))}(Qt.default.t("暂不支持此图表"),n,i)}},{key:"shouldUpdateSource",value:function(e,t){var n,i,r=null!==(n=null===(i=this.factoryOptions.editingStateManager)||void 0===i?void 0:i.isResizing)&&void 0!==n&&n,o=this.resizing,a=!!this.factoryOptions.isEditable,l=this.isEditable;if(this.resizing=r,this.isEditable=a,l!==a)return!0;if(r)return!1;if(o&&!r)return!1;this.plotComponent;var s=this.lastRenderFrame||{},u=s.width,c=s.height,d=e.width,h=e.height;return u!==d||c!==h||t.shouldChartUpdate}},{key:"drawSourceChart",value:(i=r()(O.a.mark((function e(){var t=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.chartConfig){e.next=3;break}return console.error(Qt.default.t("slide不支持的图表类型"),this.model),e.abrupt("return");case 3:return this.destroyPreChart(),e.next=6,this.renderChartResource(this.chartConfig);case 6:return e.abrupt("return",si((function(){t.keepPrevSelectState(),t.resetShouldUpdate()})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"resetSelectState",value:function(){var e,t=null===(e=this.chartInstance)||void 0===e?void 0:e.getSelectManager();null==t||t.resetSelectState()}},{key:"keepPrevSelectState",value:function(){if(this.factoryOptions.region===tn.s.CANVAS){var e=this.model.selectedElement;e&&this.initSelectState(e)}}},{key:"initSelectState",value:function(e){var t;if((null==e?void 0:e.type)!==le.a.TITLE){var n=null===(t=this.chartInstance)||void 0===t?void 0:t.getSelectManager();null==n||n.updateWithSelectEventData(null==e?void 0:e.selectEventData)}}},{key:"chartRenderComplete",value:function(){this.model.resolveChartRender()}},{key:"chartRenderFailed",value:function(){this.model.rejectChartRender()}},{key:"destroyExpiredChart",value:function(e){var t;null==e||e.destroy(),null===(t=this.chartContext)||void 0===t||t.disposeEvent()}},{key:"getChartResourceCanvas",value:function(){var e;return null===(e=this.g2Chart.ele)||void 0===e?void 0:e.getElementsByTagName("canvas")[0]}},{key:"renderChartResource",value:(n=r()(O.a.mark((function e(t){var n,i,r,o,a,l,s,u,c,d;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.chartBox,o=r.width,a=r.height,this.chartRender=new $n.a({container:this,forbidWebgl:Zn.e,getScaleForPatternFill:this.getThumbPageScale}),u=oi({container:l,autoFit:!1,useDomTitle:!1,width:Math.floor(o),height:Math.floor(a),syncViewPadding:!0,chartLayout:this.chartLayout,renderContext:s,renderer:"custom",defaultInteractions:[],selectCfg:{legend:{singleSelectable:!1}},disableInteractions:!0},null===(n=this.chartRender)||void 0===n?void 0:n.getChartConfig()),e.next=12;break;case 7:d=e.sent,this.canvasObject=d;case 9:this.chartInstance=new w.a(oi(oi({},u),{},{canvas:null===(c=this.canvasObject)||void 0===c?void 0:c.instance})),e.next=13;break;case 12:this.chartInstance=new w.a(u);case 13:this.g2Chart=this.chartInstance.getAntVChart(),this.g2Chart.animate(!1),null===(i=this.chartRender)||void 0===i||i.initEvent(this.g2Chart),this.customSelectEvent(),this.chartInstance.draw(t);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"customSelectEvent",value:function(){var e;(null===(e=this.model)||void 0===e?void 0:e.currentEditState)===ii.b.EDITABLE&&(this.registerCustomElementProcess(),this.registerSpecialElementGroupingRule(),this.addSelectElementObserver())}},{key:"registerCustomElementProcess",value:function(){var e,t=null===(e=this.chartInstance)||void 0===e?void 0:e.getSelectManager();null==t||t.registerElementProcess("geometry",(function(e){var t;return Object(pn.c)(e.shapeType)&&(null===(t=e.data[0])||void 0===t?void 0:t.specialGeometryType)===le.c.trendLine?oi(oi({},e),{},{borderType:ie.a.EDGE}):e}))}},{key:"registerSpecialElementGroupingRule",value:function(){var e,t=null===(e=this.chartInstance)||void 0===e?void 0:e.getSelectManager();null==t||t.registerGroupingRule("geometry",(function(e,t,n){var i=e.origin.data;if((Array.isArray(i)?i[0]:i||{}).specialGeometryType){var r=function(e,t){var n=Array.isArray(t)?t[0].name:t.name,i=(Array.isArray(t)?t[0]:t).specialGeometryType,r=e.filter((function(e){var t;return(null===(t=ni(e))||void 0===t?void 0:t.specialGeometryType)===i}));if(i===le.c.upDownBar){var o=t.barType;return{groupId:"upDownBars_".concat(o),elements:r.filter((function(e){var t;return(null===(t=ni(e))||void 0===t?void 0:t.barType)===o})),singleSelectable:!1}}return i===le.c.highLowLine?{groupId:"stick",elements:r,singleSelectable:!1}:i===le.c.trendLine?ti({groupId:"trendline_".concat(n)},r.find((function(e){var t;return(null===(t=ni(e))||void 0===t?void 0:t.name)===n}))):void 0}(t,i);if(r)return r}return function(e,t,n,i){var r,o=Array.isArray(n)?n[0].seriesId:n.seriesId,a="".concat(i,"-series-").concat(o,"-").concat(e.name),l=t.filter((function(e){var t=e.data;return(Array.isArray(t)?t[0].seriesId:t.seriesId)===o})).map((function(e){return ti(ti({},e),{},{groupId:a})}));return{groupId:a,elements:l,singleSelectable:!Object(pn.c)(null===(r=l[0])||void 0===r?void 0:r.shapeType)}}(e,t,i,n)}))}},{key:"addSelectElementObserver",value:function(){var e,t,n=this;null===(e=this.chartInstance)||void 0===e||e.on("select-change",(function(e){console.log("chart select-change",e);var t=e.data;e.elementType;if("beforedestroy"!==e.stage)if(n.isSelectGroup(t)){var i=t.elements.map((function(e){return n.chartElementsManager.convertToChartElement(e)}));n.model.markSelected({group:i,id:t.groupId,type:i[0].type,selectEventData:e})}else t?n.model.markSelected(oi(oi({},n.chartElementsManager.convertToChartElement(t)),{},{selectEventData:e})):n.model.removeAllSelectedElements()})),null===(t=this.chartInstance)||void 0===t||t.on("mousedown",(function(){var e,t;null===(e=n.chartEditLogic)||void 0===e||null===(t=e.handleChartInstanceMouseDown)||void 0===t||t.call(e)}))}},{key:"isSelectGroup",value:function(e){return!(null==e||!e.elements)}},{key:"releaseChartResource",value:(t=r()(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.drawChartPromise;case 2:this.destroyPreChart(),null===(t=this.g2Chart)||void 0===t||t.destroy(),this.g2Chart=void 0,this.chartInstance=void 0,this.drawChartPromise=void 0,this.chartConfig=void 0,this.canvasObject&&(n=this.canvasObject,this.canvasObject=void 0,hn.getInstance().releaseCanvas(n));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"resetShouldUpdate",value:function(){this.factoryOptions.region===tn.s.CANVAS&&this.model.setChartHasUpdated(!0)}},{key:"updateChartElements",value:function(){this.chartElements=this.getChartElements()}},{key:"updateHitArea",value:function(){var e,t=null===(e=this.chartEditLogic)||void 0===e?void 0:e.getChartHitAreaProps(this.chartElements);if(t){var n=this.chartLayout.g2CanvasBox,i=n.width,r=n.height;this.hitAreaContainer?(this.removeChild(this.hitAreaContainer),this.addChild(this.hitAreaContainer),this.hitAreaContainer.updateProps({width:i,height:r,factoryOptions:this.factoryOptions,hitAreas:t})):(this.hitAreaContainer=new gn({width:i,height:r,factoryOptions:this.factoryOptions,hitAreas:t}),this.addChild(this.hitAreaContainer))}}},{key:"chartEditLogic",get:function(){return this.factoryOptions.logicService.getLogic(this.factoryOptions)}},{key:"updatePlotComponent",value:function(e){this.plotComponent?this.plotComponent.updateProps(e):(this.plotComponent=new rn(e),this.addChild(this.plotComponent))}},{key:"clearExpiredLayout",value:function(){this.chartLayout=void 0}},{key:"getChartElements",value:function(){var e=this.g2Chart;return e?(this.chartElementsManager||(this.chartElementsManager=new Nn),this.chartElementsManager.getChartElements(e)):[]}},{key:"calculateCanvasMemory",value:function(){var e=this.chartBox;return e.width*e.height*Je()*4}},{key:"scaleCanvas",value:function(e){var t=this.factoryOptions.getPageScale();if(Ze&&!(t>=1)){var n=Je();e.changeSize(this.chartBox.width*t*n,this.chartBox.height*t*n),e.scale(t*n)}}},{key:"destroyPreChart",value:function(){this.preG2Chart&&(this.destroyExpiredChart(this.preG2Chart),this.preG2Chart=void 0)}}]),l}(C.k),si=function(e){return new Promise((function(t){setTimeout((function(){t(e())}),50)}))}},"86ade74201":function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));n("342844cefa"),n("a84962d637"),n("8a35b54c1d"),n("c554310b5c"),n("bcb5d93d36");var i,r=n("14502724a6"),o=n.n(r),a=n("9132715560"),l=n.n(a),s=n("6a364eb35c"),u=n.n(s),c=n("85d0a7609b"),d=n.n(c),h=(n("0acdc5834b"),n("3dc760a4d9"),n("b8217400dc"),n("e6f68cdf2e"),n("8ee19818c4"),n("963f2eaace"),n("6e20b6a7d8"),n("af802ec74b"),n("563386153f"),n("c6244f7705"),n("bd80bf2d0f"),n("ce428b7e85"));!function(e){e[e.INPUT_IDLE=0]="INPUT_IDLE",e[e.INPUT_START=1]="INPUT_START",e[e.INPUTTING=2]="INPUTTING",e[e.INPUT_END=3]="INPUT_END"}(i||(i={}));var f=function(){function e(t){l()(this,e),d()(this,"uploadDelegate",void 0),d()(this,"curState",i.INPUT_IDLE),d()(this,"inputTimer",void 0),d()(this,"paraTextsBeforeStart",void 0),d()(this,"paraTextsInputting",void 0),this.uploadDelegate=t}return u()(e,[{key:"enterInputIdle",value:function(e){this.curState=i.INPUT_IDLE,this.paraTextsBeforeStart=e,this.cancelTimer()}},{key:"cancel",value:function(){this.isInputState()&&(this.cancelTimer(),this.onInputEnd(this.paraTextsInputting,!1))}},{key:"onEditorChange",value:function(e){this.isNoInputState()&&!this.isParaTextEqual(e)&&this.onInputStart(e),this.isInputState()&&this.onInputting(e)}},{key:"clear",value:function(){this.paraTextsInputting=[],this.paraTextsBeforeStart=[]}},{key:"isNoInputState",value:function(){return this.curState===i.INPUT_IDLE||this.curState===i.INPUT_END}},{key:"isInputState",value:function(){return this.curState===i.INPUT_START||this.curState===i.INPUTTING}},{key:"cancelTimer",value:function(){this.inputTimer&&clearTimeout(this.inputTimer),this.inputTimer=null}},{key:"startTimer",value:function(e){var t=this;this.inputTimer=setTimeout((function(){t.inputTimer=null,t.onInputEnd(e,!0)}),2500)}},{key:"onInputStart",value:function(e){this.curState=i.INPUT_START,this.doWhenInput(e)}},{key:"onInputting",value:function(e){this.curState=i.INPUTTING,this.doWhenInput(e)}},{key:"onInputEnd",value:function(e){var t,n,r,o,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(this.curState=i.INPUT_END,this.needUploadData(a,e))?(null===(t=window.log)||void 0===t||t.info("editor auto save happen"),null===(n=this.uploadDelegate)||void 0===n||n.triggerUploadData()):null===(r=this.uploadDelegate)||void 0===r||null===(o=r.resetHasValueChangeFlag)||void 0===o||o.call(r);this.paraTextsBeforeStart=e,this.paraTextsInputting=[]}},{key:"needUploadData",value:function(e,t){return e&&!this.isParaTextEmpty(t)&&!this.isParaTextEqual(t)}},{key:"doWhenInput",value:function(e){this.paraTextsInputting=e,this.cancelTimer(),this.startTimer(e)}},{key:"isParaTextEqual",value:function(e){var t=this.paraTextsBeforeStart;if(Array.isArray(e)&&Array.isArray(t)){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i].paraIndex!==t[i].paraIndex||e[i].text!==t[i].text)return!1;return!0}return!1}},{key:"isParaTextEmpty",value:function(e){if(Array.isArray(e)){var t;if(e.length>1)return!1;var n=null===(t=e[0])||void 0===t?void 0:t.text;if(n&&n.length>0)return!1}return!0}}]),e}(),p=n("1e07095161"),v=n("609550d527"),g=n("51b2ea9953"),y=n("eabf3daf43"),b=n("0a8ecd6412"),m=n("9789b08c01"),O=(n("3bf1976a4f"),n("123ec094e2"));function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){var n=Object(O.a)(e.anchor,e.focus),i=t.reduce((function(e,t,i){return i<n.sIndex||i>n.eIndex?e:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.sIndex,r=void 0===i?0:i,o=n.eIndex,a=void 0===o?0:o,l=n.sOffset,s=void 0===l?0:l,u=n.eOffset,c=void 0===u?0:u;if(t>a||t<r)return!1;if(t<a&&t>r)return!0;var d=e.textRuns.reduce((function(e,t){var n;return e+(null===(n=t.text)||void 0===n?void 0:n.length)||0}),0);return t===r&&t===a?0===s&&c===d:t===r?0===s:t!==a||c===d}(t,i,n)?e.concat(C(C({},t),{},{para:!0})):e.concat(C(C(C({},t),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.sIndex,r=void 0===i?0:i,o=n.eIndex,a=void 0===o?0:o,l=n.sOffset,s=void 0===l?0:l,u=n.eOffset,c=void 0===u?0:u,d=e.textRuns.reduce((function(e,t){var n;return e+(null===(n=t.text)||void 0===n?void 0:n.length)||0}),0),h=t===r?s:0,f=t===a?c:d,p=Object(y.o)(e,h,f);return{textRuns:p.removedTextRuns}}(t,i,n)),{},{para:!1}))}),[]);return i}var P=n("d9812f1c6f"),S=n("38ba58fbda"),x=P.a.isMac?"metaKey":"ctrlKey",T=function(){function e(t){var n=t.triggerRedo,i=t.triggerUndo;l()(this,e),d()(this,"triggerRedo",void 0),d()(this,"triggerUndo",void 0),this.triggerRedo=n,this.triggerUndo=i}return u()(e,[{key:"handleKeyZEvent",value:function(e){var t,n;return!!e[x]&&(null===(t=e.preventDefault)||void 0===t||t.call(e),null===(n=e.stopPropagation)||void 0===n||n.call(e),P.a.isMac?(e.shiftKey?this.triggerRedo():this.triggerUndo(),!0):(this.triggerUndo(),!0))}},{key:"handleKeyYEvent",value:function(e){var t,n;return!!e[x]&&(null===(t=e.preventDefault)||void 0===t||t.call(e),null===(n=e.stopPropagation)||void 0===n||n.call(e),this.triggerRedo(),!0)}}]),e}(),L=(n("75563bc376"),n("4bbb5840d5"),n("433247001a"),n("1bab7b5fb7"),n("0aeae65bf4"),n("7cedfefaf9")),A=n.n(L),j=n("c2f805291c"),E=n("9b4040e03e"),R=n("0442e400dc"),I=function(){function e(t){var n=t.editor,i=t.getSelection,r=t.operationHandler;l()(this,e),d()(this,"editor",void 0),d()(this,"getSelection",void 0),d()(this,"operationHandler",void 0),this.editor=n,this.getSelection=i,this.operationHandler=r}return u()(e,[{key:"handleTabEvent",value:function(e){return this.operationHandler.setIndent(null!=e&&e.shiftKey?R.b.INDENT_REDUCE:R.b.INDENT_INCREASE),!0}},{key:"handleEnterEvent",value:function(e){var t=this.editor;if(!t.selection)return!1;var n=t.getStartPoint(),i=t.getParent(n.path)[0];return Object(p.e)(i)||this.autoNumbering(),!1}},{key:"handleBackspaceEvent",value:function(e){var t,n,i,r,a=this.editor.getValue(),l=this.getSelection();if(null===l)return!1;var s=l.anchor,u=l.focus;if(!Object(p.f)(s,u))return!1;var c=o()(s.path,1)[0],d=a.children[c];return!!Object(p.e)(d)&&(null===(t=e.preventDefault)||void 0===t||t.call(e),null===(n=e.stopPropagation)||void 0===n||n.call(e),null===(i=(r=this.operationHandler).setCharacter)||void 0===i||i.call(r,{type:j.b.ITEMSYMBOL_NONE}),!0)}},{key:"autoNumbering",value:function(){var e=this.editor,t=e.getStartPoint(),n=t.path.slice(0,-1),i=e.getStartPoint(n),r=e.getString({anchor:i,focus:t});if(r){var o=this.getMatchedNumbering(r);if(o){var a,l,s=o.type,u=o.matchedString,c=e.getAfterPoint(i,u.length);e.deleteText({anchor:i,focus:c}),null===(a=(l=this.operationHandler).setCharacter)||void 0===a||a.call(l,{type:s})}}}},{key:"getMatchedNumbering",value:function(e){var t=Object(E.a)(),n="",i=t.find((function(t){var i=t.startText;if(e.startsWith("".concat(i," "))){var r=new RegExp("^(".concat(A()(i),"\\s+)\\S+")),a=e.match(r);if(a){var l=o()(a,2);return n=l[1],!0}}return!1}));return i&&{type:i.type,matchedString:n}}}]),e}(),D=function(){function e(t){var n=t.editor;l()(this,e),d()(this,"editor",void 0),this.editor=n}return u()(e,[{key:"handleTabEvent",value:function(){return this.editor.insertText("\t"),!0}}]),e}(),M=function(){function e(t){var n=this,i=t.editor,r=t.getSelection,o=t.operationHandler,a=t.triggerUndo,s=t.triggerRedo,u=t.shouldPreventTab;l()(this,e),d()(this,"eventMap",void 0),d()(this,"editor",void 0),d()(this,"getSelection",void 0),d()(this,"shouldPreventTab",void 0),d()(this,"undoHandler",void 0),d()(this,"characterHandler",void 0),d()(this,"tabstopHandler",void 0),this.editor=i,this.getSelection=r,this.shouldPreventTab=u,this.undoHandler=new T({triggerUndo:a,triggerRedo:s}),this.characterHandler=new I({editor:i,getSelection:r,operationHandler:o}),this.tabstopHandler=new D({editor:i}),this.eventMap={tab:function(e){var t,i;return null===(t=e.preventDefault)||void 0===t||t.call(e),null===(i=e.stopPropagation)||void 0===i||i.call(e),!n.shouldPreventTab&&(n.shouldHandleCharacterTab()?n.characterHandler.handleTabEvent(e):n.tabstopHandler.handleTabEvent())},enter:function(e){return n.characterHandler.handleEnterEvent(e)},backspace:function(e){return n.characterHandler.handleBackspaceEvent(e)},z:function(e){return n.undoHandler.handleKeyZEvent(e)},y:function(e){return n.undoHandler.handleKeyYEvent(e)}}}return u()(e,[{key:"handleEvent",value:function(e){var t,n,i,r=null===(t=e.key)||void 0===t?void 0:t.toLowerCase();return null===(n=(i=this.eventMap)[r])||void 0===n?void 0:n.call(i,e)}},{key:"shouldHandleCharacterTab",value:function(){var e=this.editor.getValue(),t=this.getSelection();if(null===t)return!1;var n=t.anchor,i=t.focus,r=o()(n.path,1)[0],a=e.children[r];return!!Object(p.e)(a)&&!!Object(p.f)(n,i)}}]),e}(),B=n("5a4e4e2c55"),F=n("aa3cc80657"),G=n("65634518db"),N=n("c2b620c600"),_=n("0e41c725b0"),z=n("2a5f3314a4"),U=function(){function e(){l()(this,e)}return u()(e,null,[{key:"register",value:function(){if(!this.hasRegistered){var e;if(this.isNeedExternalKeyEvent())this.invokeShortcut(),null===(e=window.mqq)||void 0===e||e.addEventListener("shortcutKeyEvent",this.dispatchKeyboardEvent);this.hasRegistered=!0}}},{key:"unRegister",value:function(){var e;(this.hasRegistered=!1,this.isNeedExternalKeyEvent())&&(null===(e=window.mqq)||void 0===e||e.removeEventListener("shortcutKeyEvent",this.dispatchKeyboardEvent))}},{key:"invokeShortcut",value:function(){this.hasInvoked||(_.e.invokeDocx("registerShortcutKeyEvent",{shortcutKey:[{input:"left",modifier:""},{input:"right",modifier:""},{input:"up",modifier:""},{input:"down",modifier:""}]}),this.hasInvoked=!0)}},{key:"isNeedExternalKeyEvent",value:function(){return window.mqq&&P.a.isIPad&&P.a.isTencentDocApp}}]),e}();function H(e,t){return new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelable:!0,charCode:0,code:e,ctrlKey:!1,detail:0,key:e,keyCode:t,metaKey:!1,repeat:!1,shiftKey:!1})}d()(U,"hasRegistered",!1),d()(U,"hasInvoked",!1),d()(U,"dispatchKeyboardEvent",(function(e){var t=document.querySelector(".".concat(z.f));t&&("up"===e.input&&(null==t||t.dispatchEvent(H("ArrowUp",38))),"down"===e.input&&(null==t||t.dispatchEvent(H("ArrowDown",40))),"left"===e.input&&(null==t||t.dispatchEvent(H("ArrowLeft",37))),"right"===e.input&&(null==t||t.dispatchEvent(H("ArrowRight",39))))}));var X=n("477433b002"),Y=n("153bd00100"),V=n("382929c8da"),W=(n("826dc923b3"),n("9da6335152")),K=n("d3d31c86eb"),J=n("8930941e65"),q=n("787f07bc3b"),Z=n("54a7b7d7a1"),Q=n("14c02e2331"),$=n("d13c0b2ee1"),ee=n("2835303a33"),te=n("06e1dc2299");function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(){function e(t,n){var i=this;l()(this,e),d()(this,"editor",void 0),d()(this,"editorModel",void 0),d()(this,"operationMap",void 0),d()(this,"setFontSizeIncrease",(function(e,t,n){var r=i.editor.getLeafNodeAndRangeRef(i.editor.operationRange),o=i.editor.isEditing&&!i.editor.isExpanded();r.forEach((function(r){var a=r,l=a.node,s=a.rangeRef,u=o?i.editor.getStyle():l,c=u.fontSize,d=u.rawFontSize,h=u.displayFontSize,f=u.fontSizeFrom,p=u["raw-fontSize"],v=Object.create(null);Object(J.a)(c).isNullOrUndefined()||(v.fontSize=i.getSize(c+e*Z.g,t*Z.g,n*Z.g)),Object(J.a)(d).isNullOrUndefined()||(v.rawFontSize=i.getSize(d+e,t,n)),Object(J.a)(h).isNullOrUndefined()||(v.displayFontSize=i.getSize(h+e*Z.g,t*Z.g,n*Z.g)),Object(J.a)(f).isNullOrUndefined()||(v.fontSizeFrom="textrun"),Object(J.a)(p).isNullOrUndefined()||(v["raw-fontSize"]=!0),i.editor.isSelectAllText()&&(v.displayFontSize=v.fontSize),i.editor.setStylesForSelection(v,s)})),0===r.length&&i.handleFontSizeChangeNoSelection(e,t,n)})),d()(this,"getSize",(function(e,t,n){return e>n?n:e<t?t:e})),d()(this,"handleFontSizeChangeNoSelection",(function(e,t,n){var r=N.a.getOriginProps(i.editor.getStyle());if(r.displayFontSize){var o=i.getSize(r.displayFontSize+e*Z.g,t*Z.g,n*Z.g)/Z.g;i.setFontSizeInner(o)}})),d()(this,"setCharacterAndUpdate",(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.type,o=void 0===r?"":r,a=n.color,l=n.size,s=n.customText,u=n.customImage,c=n.startNumber,d=n.range,h=void 0===d?"default":d,f=arguments.length>1?arguments[1]:void 0,p=i.editor.getEditorValue(),v=i.editor.getConvertFromDocElement(p).paragraphList,g=i.editor.getSelectionNodes((function(e){return"paragraph"===e.type})),b=null==g||null===(e=g[0])||void 0===e?void 0:e[1],m=null==g||null===(t=g[(null==g?void 0:g.length)-1])||void 0===t?void 0:t[1],O=null==b?void 0:b[(null==b?void 0:b.length)-1],w=null==m?void 0:m[(null==m?void 0:m.length)-1],C=v.map((function(e,t){var n,r;if("all"!==h&&(t<O||t>w))return e;var d=i.getLevel(f,e),p=Object(B.b)(e.paragraphCharacter,{type:o,color:a,size:l,customText:s,customImage:u,startNumber:c});p.raw=Object.keys(p);var v=ie(ie({},e),{},{paragraphCharacter:p}),g=Object(y.a)({textRunStyle:null===(n=v.textRuns)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.styles});return p.character?v.paragraphProps=Object($.b)({level:d,fontSize:g.rawFontSize,marginLeft:v.paragraphProps.marginLeft,textIndent:v.paragraphProps.textIndent,characterType:o,shapeModel:i.editorModel.model},v.paragraphProps):v.paragraphProps=Object($.a)({shapeModel:i.editorModel.model,level:d,marginLeft:v.paragraphProps.marginLeft,textIndent:v.paragraphProps.textIndent},v.paragraphProps),Object(J.a)(f).isNullOrUndefined()||(v.paragraphProps.level=f),v}));i.editor.updateRawData(C,void 0,void 0,i.editorModel.autoFitType)})),d()(this,"setParaIndent",(function(){var e,t,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type,r=void 0===n?R.b.INDENT_INCREASE:n,o=i.editor.getEditorValue(),a=i.editor.getConvertFromDocElement(o).paragraphList,l=i.editor.getSelectionNodes((function(e){return"paragraph"===e.type})),s=null==l||null===(e=l[0])||void 0===e?void 0:e[1],u=null==l||null===(t=l[l.length-1])||void 0===t?void 0:t[1],c=null==s?void 0:s[(null==s?void 0:s.length)-1],d=null==u?void 0:u[(null==u?void 0:u.length)-1],h=a.map((function(e,t){return t<c||t>d?e:Object(ee.a)(e,r,i.editorModel.model)}));i.editor.updateRawData(h,void 0,void 0,i.editorModel.autoFitType)})),this.editorModel=t,this.initOperationMap(),this.editor=n}return u()(e,[{key:"operations",value:function(e,t,n){var i=this.operationMap[e],r=!1,o=!0;return i&&(o=void 0===(o=i(t,n))||o,r=!0),{isHandled:r,needUpdate:o}}},{key:"setIndent",value:function(e){return this.editor.props.disableIndentation||(e===R.b.INDENT_INCREASE?Object(K.c)({opername:W.e.DOC_PPT,module:W.d.INDENT,action:W.b.INDENT}):Object(K.c)({opername:W.e.DOC_PPT,module:W.d.INDENT,action:W.b.DEC_INDENT}),this.setParaIndent({type:e})),!1}},{key:"setCharacter",value:function(e){return this.setCharacterAndUpdate(ie(ie({},e),{},{range:this.editor.isEditing?"default":"all"})),!1}},{key:"setFontSize",value:function(e){Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_FORMAT,action:W.b.TEXT_SIZE});var t=e.match(/-([\d.]*)pt/);if(t){var n=Number(t[1]),i=this.editor.isSelectAllText(),r=this.editorModel.resizeLevel;Object(J.a)(r).isNullOrUndefined()||i||(n=Number(Object(q.c)(n,r)));var o=this.editor.operationRange;this.setFontSizeInner(n,o)}}},{key:"setFontSizeUp",value:function(e){Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_FORMAT,action:W.b.TEXT_SIZE}),this.setFontSizeChange(e)}},{key:"setFontSizeDown",value:function(e){Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_FORMAT,action:W.b.TEXT_SIZE}),this.setFontSizeChange(e)}},{key:"setFontColor",value:function(e){var t,n;Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_FORMAT,action:W.b.TEXT_COLOR}),e.srgb_color&&(e.srgb_color=e.srgb_color.toUpperCase()),this.setFontFill({tdColor:e});var i={};Q.z.map((function(e){return i[e]=null})),null===(t=this.editor)||void 0===t||null===(n=t.removeStylesForSelection)||void 0===n||n.call(t,ie(ie({},i),{},{fillBackground:null}),this.editor.operationRange)}},{key:"setFontBackground",value:function(e){return Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_FORMAT,action:W.b.TEXT_HIGHLIGHT}),this.editor.setStylesForSelection({backgroundColor:(null==e?void 0:e.srgb_color)||null},this.editor.operationRange)}},{key:"setFontVerticalAlign",value:function(e){switch(Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_SET,action:W.b.TEXT_VERTICAL_ALIGN}),e){case R.a.VERTICAL_TOP:return this.editor.setStylesForTextBody({alignItems:"flex-start"});case R.a.VERTICAL_CENTER:return this.editor.setStylesForTextBody({alignItems:"center"});case R.a.VERTICAL_BOTTOM:return this.editor.setStylesForTextBody({alignItems:"flex-end"})}}},{key:"setFontHorizontalAlign",value:function(e){switch(Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_SET,action:W.b.TEXT_HORIONTAL_ALIGN}),e){case R.a.HORIZONTAL_LEFT:return this.editor.setStylesForPara({textAlign:"left"},this.editor.operationRange);case R.a.HORIZONTAL_CENTER:return this.editor.setStylesForPara({textAlign:"center"},this.editor.operationRange);case R.a.HORIZONTAL_RIGHT:return this.editor.setStylesForPara({textAlign:"right"},this.editor.operationRange);case R.a.HORIZONTAL_JUSTIFY:return this.editor.setStylesForPara({textAlign:"justify"},this.editor.operationRange);case R.a.HORIZONTAL_DISTRIBUTE:return this.editor.setStylesForPara({textAlign:"distribute"},this.editor.operationRange)}}},{key:"setFontFamily",value:function(e){return Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_FORMAT,action:W.b.TEXT_FONT}),this.editor.setStylesForSelection({fontFamily:e,fonts:{ea:e,latin:e}},this.editor.operationRange)}},{key:"setFontFamilyWithLang",value:function(e){if(e.ea||e.latin){var t={fonts:{}};return e.ea&&(t.fonts.ea=e.ea),e.latin&&(t.fonts.latin=e.latin),this.editor.setStylesForSelection(t,this.editor.operationRange)}}},{key:"setFontBold",value:function(e){return Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_FORMAT,action:W.b.TEXT_BOLD}),e?this.editor.setStylesForSelection({fontWeight:"bold"},this.editor.operationRange):this.editor.setStylesForSelection({fontWeight:"normal"},this.editor.operationRange)}},{key:"setFontItalic",value:function(e){return Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_FORMAT,action:W.b.TEXT_ITALIC}),e?this.editor.setStylesForSelection({fontStyle:"italic"},this.editor.operationRange):this.editor.setStylesForSelection({fontStyle:"normal"},this.editor.operationRange)}},{key:"setEffect",value:function(e){return this.editor.setStylesForSelection(e,this.editor.operationRange)}},{key:"setFontFill",value:function(e){var t=this,n=ie({},e);n.tdColor&&(n.color=n.tdColor.srgb_color),n=ie(ie({},n),{},{fill:Object(te.c)({fillBackground:ie({},n)})});var i=this.editor.getLeafNodeAndRangeRef(this.editor.operationRange);i.some((function(e){return e.node["origin-href"]}))?i.forEach((function(e){var i=e.node,r=e.rangeRef,o=i["origin-href"];o?t.editor.setStylesForSelection(ie({href:ie(ie({},o),{},{colorType:"tx"})},n),r):t.editor.setStylesForSelection(n,r)})):this.editor.setStylesForSelection(n,this.editor.operationRange)}},{key:"setFontBorder",value:function(e){return this.editor.setStylesForSelection(e,this.editor.operationRange)}},{key:"setFontUnderline",value:function(e){return Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_FORMAT,action:W.b.TEXT_UNDERLINE}),e?this.editor.setStylesForSelection({textDecoration:"underline"},this.editor.operationRange):this.editor.setStylesForSelection({textDecoration:"none"},this.editor.operationRange)}},{key:"setDelete",value:function(e){return Object(K.c)({opername:W.e.DOC_PPT,module:W.d.PC_TEXT_FORMAT,action:W.b.TEXT_DELETE}),e?this.editor.setStylesForSelection({del:"sng"},this.editor.operationRange):this.editor.setStylesForSelection({del:"none"},this.editor.operationRange)}},{key:"setParagraphProps",value:function(e){this.handleParaPropsFontScale(e),Object(J.a)(e.paddingTop).isNumber()&&(e.rawPaddingTop=e.paddingTop),Object(J.a)(e.paddingBottom).isNumber()&&(e.rawPaddingBottom=e.paddingBottom),this.editor.setStylesForPara(e,this.editor.operationRange)}},{key:"setTextBaseLineOffset",value:function(e){this.editor.setStylesForSelection(d()({},Q.x,e),this.editor.operationRange)}},{key:"setTextDirection",value:function(e){this.editor.setStylesForTextBody({textDirection:e})}},{key:"setColumnsData",value:function(e){var t=e.columnNumber,n=e.columnSpace,i={};Object(J.a)(t).isNumber()&&(i.columnNumber=t),Object(J.a)(n).isNumber()&&(i.columnSpace=n),Object.keys(i).length>0&&this.editor.setStylesForTextBody(i)}},{key:"setFontSizeInner",value:function(e,t){var n=e*Z.g;return this.editor.setStylesForSelection({rawFontSize:e,displayFontSize:n,fontSize:n,fontSizeFrom:"textrun"},t)}},{key:"setFontSizeChange",value:function(e){var t=e.size||0,n=e.min||8,i=e.max||192,r=this.editor.isSelectAllText(),o=this.editorModel.resizeLevel;return o&&!r&&(t=Object(q.c)(t,o)),this.setFontSizeIncrease(t,n,i)}},{key:"getLevel",value:function(e,t){return e||t.paragraphProps.level||0}},{key:"handleParaPropsFontScale",value:function(e){var t=["marginLeft","textIndent","paddingTop","paddingBottom","tabSize"];e.lineHeight&&"absolute"===e.lineHeightIs&&t.push("lineHeight"),t.forEach((function(t){"number"==typeof e[t]&&(e[t]=e[t]*Z.g)})),e.tabList&&(e.tabList=e.tabList.map((function(e){return ie(ie({},e),{},{position:e.position*Z.g})})))}},{key:"initOperationMap",value:function(){var e,t=this;this.operationMap=(e={"font-size":function(e){return t.setFontSize(e)},"font-size-up":function(e){return t.setFontSizeUp(e)},"font-size-down":function(e){return t.setFontSizeDown(e)},"font-color":function(e){return t.setFontColor(e)},"font-background":function(e){return t.setFontBackground(e)},"font-vertical-align":function(e){return t.setFontVerticalAlign(e)},"font-horizontal-align":function(e){return t.setFontHorizontalAlign(e)},"font-family":function(e){return t.setFontFamily(e)},"font-bold":function(e){return t.setFontBold(e)},"font-italic":function(e){return t.setFontItalic(e)},"font-underline":function(e){return t.setFontUnderline(e)},"font-delete":function(e){return t.setDelete(e)}},d()(e,V.a.BULLET_SET,(function(e){return t.setCharacter(e)})),d()(e,"paragraph-props",(function(e){return t.setParagraphProps(e)})),d()(e,"indent",(function(e){return t.setIndent(e)})),d()(e,Q.n,(function(e){return t.setEffect(e)})),d()(e,"text-baseline-offset",(function(e){return t.setTextBaseLineOffset(e)})),d()(e,V.a.TEXT_DIRECTION,(function(e){return t.setTextDirection(e)})),d()(e,Q.o,(function(e){return t.setFontFill(e)})),d()(e,Q.m,(function(e){return t.setFontBorder(e)})),d()(e,V.a.UNIFORM_FONT,(function(e){return t.setFontFamilyWithLang(e)})),d()(e,V.a.COLUMNS,(function(e){return t.setColumnsData(e)})),e)}}]),e}(),oe=37,ae=39,le=38,se=40;function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=function(){function e(t,n,i){var r=this;l()(this,e),d()(this,"editorView",void 0),d()(this,"dataModel",void 0),d()(this,"services",void 0),d()(this,"hasValueChange",!1),d()(this,"saveFocusCallBack",void 0),d()(this,"alreadyChange",!1),d()(this,"editorAutoSave",void 0),d()(this,"operationKey",void 0),d()(this,"editorEvent",void 0),d()(this,"operationHandler",void 0),d()(this,"getAutoFitType",(function(e,t){var n;if(t!==g.a.FONT_AUTO_FIT||!r.isSelectAllText()||r.operationKey!==b.p.FONT_SIZE&&r.operationKey!==b.p.FONT_SIZE_UP)return t;var i=ce({},r.props.textRect||Object(y.b)()),o=ce({},r.props.textBodyStyle),a=h.a.convertFromTextModel({paragraphList:e,textBodyStyle:o},{noConvertBack:!1});return v.a.getEditorBlockSize(a,{textRect:i,textBodyStyle:o})>(Object(Y.b)(null===(n=o.wrapperStyle)||void 0===n?void 0:n.textDirection)?i.width:i.height)&&(t=g.a.NO_AUTO_FIT),t})),d()(this,"setStylesForSelection",(function(e,t){var n=Object.entries(e).reduce((function(t,n){var i=o()(n,2),r=i[0],a=i[1],l=N.a.transformTextStyle(r,a,e);if(l){var s=Object.entries(l),u=o()(s,1),c=o()(u[0],2),d=c[0],h=c[1];t[d]=h}return t["origin-".concat(r)]=a,t["origin-raw-".concat(r)]=!0,t}),{}),i=r.dataModel.model||{},a=i.isFromMaster,l=i.isFromLayout,s=i.isPlaceholder;(a||l)&&s?r.handleMasterPlaceholder(n,t):r.editor.changeTextProps(n,t,(function(e,t,n){return[V.a.EFFECT,"origin-".concat(V.a.EFFECT)].includes(e)?ce(ce({},t),n):n}))})),d()(this,"removeStylesForSelection",(function(e,t){Object.entries(e).forEach((function(e){var n=o()(e,2),i=n[0],a=n[1],l=N.a.transformTextStyle(i,a);if(l){var s=o()(Object.entries(l)[0],2),u=s[0];s[1];r.editor.removeTextProps(u,t)}else r.editor.removeTextProps(i,t);r.editor.removeTextProps("origin-".concat(i),t)}))})),d()(this,"setStylesForTextBody",(function(e){r.updateHasValueChangeFlag(!0);var t=Object.entries(e).reduce((function(t,n){var i=o()(n,2),r=i[0],a=i[1],l=N.a.transformEditorStyle(r,a,e);if(l){var s=Object.entries(l),u=o()(s,1),c=o()(u[0],2),d=c[0],h=c[1];t[d]=h}return t["origin-".concat(r)]=a,t["origin-raw-".concat(r)]=!0,t}),{});r.editor.changeDocumentProps(t)})),d()(this,"setStylesForPara",(function(e,t){var n=Object.entries(e).reduce((function(t,n){var i=o()(n,2),r=i[0],a=i[1],l=N.a.transformParaStyle(r,a,e);if(l){var s=Object.entries(l),u=o()(s,1),c=o()(u[0],2),d=c[0],h=c[1];t[d]=h}return t["origin-".concat(r)]=a,t["origin-raw-".concat(r)]=!0,t}),{});r.editor.changeParagraphProps(n,t)})),d()(this,"updateHasValueChangeFlag",(function(e){r.hasValueChange=e,r.editorView.updateChangeFlag(e)})),d()(this,"handleMasterPlaceholder",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.editor.selection,n=r.dataModel.model||{},i=n.isTitleOrCtrTitlePl,a=n.isSubTitlePl;i||a?r.editor.getNodes((function(e){return"paragraph"===e.type})).forEach((function(t){var n=o()(t,2),i=n[0],a=n[1];r.supplyEffect(i,e),r.editor.changeTextProps(e,a)})):r.editor.getNodes((function(e){return"paragraph"===e.type}),t).forEach((function(t){var n=o()(t,2),i=n[0],a=n[1];r.supplyEffect(i,e),r.editor.changeTextProps(e,a)}))})),d()(this,"handleSelectionChangeInEditing",(function(e){var t=r.services,n=t.textEditorStateService,i=t.accessibilityManager;if(n&&(n.isEditorTextExpanded=!!r.editorView.isExpanded()),e&&i){var o=r.getParagraphTextAndOffset(e);if(o){var a=o.offset,l=o.focusParagraphText;null==i||i.promise().then((function(e){null==e||e.readKeyArrowContent(a,l)}))}}})),d()(this,"handleUndo",(function(){var e;null===(e=r.services.undoRedoService)||void 0===e||e.undo()})),d()(this,"handleRedo",(function(){var e;null===(e=r.services.undoRedoService)||void 0===e||e.redo()})),d()(this,"onMouseUp",(function(){var e,t;null===(e=(t=r.props).onMouseUp)||void 0===e||e.call(t),r.updateTextEditorState(!1)})),d()(this,"onBlur",(function(){r.updateTextEditorState(!1)})),d()(this,"onMouseDown",(function(e){var t,n;null===(t=(n=r.props).onMouseDown)||void 0===t||t.call(n,e),r.updateTextEditorState(!0)})),d()(this,"onMouseMove",(function(){var e=r.services.textEditorStateService;e&&(e.isEditorTextMouseDown=!0)})),d()(this,"isPreview",(function(){var e;return!(null===(e=r.services.textEditorStateService)||void 0===e||!e.isTextPreview)})),d()(this,"onKeyDown",(function(e){var t=e.keyCode,n=r.services.accessibilityManager;if(n){var i=function(e,t){switch(t){case g.d.VERTICAL:case g.d.ROTATE_90:case g.d.WORD_ART_VERTICAL_RTL:var n;return(n={},d()(n,oe,se),d()(n,ae,le),d()(n,le,oe),d()(n,se,ae),n)[e]||e;case g.d.ROTATE_270:var i;return(i={},d()(i,oe,le),d()(i,ae,se),d()(i,le,ae),d()(i,se,oe),i)[e]||e;case g.d.WORD_ART_VERTICAL_LTR:var r;return(r={},d()(r,oe,le),d()(r,ae,se),d()(r,le,oe),d()(r,se,ae),r)[e]||e;case g.d.HORIZONTAL:default:return e}}(t,r.dataModel.textDirection);null==n||n.promise().then((function(e){e.handleKeydown(i)}))}})),this.editorView=t,this.dataModel=n,this.services=i,this.operationHandler=this.createOperations(),this.editorAutoSave=new f({triggerUploadData:function(){r.editor.isComposing||r.triggerSave()},resetHasValueChangeFlag:function(){r.updateHasValueChangeFlag(!1)}})}return u()(e,[{key:"operationRange",get:function(){return this.isEditing?this.editor.selection:this.editor.getRange()}},{key:"isEditing",get:function(){var e;return(null===(e=this.editor)||void 0===e?void 0:e.isEditing)||!1}},{key:"isReadyEditing",get:function(){var e;return(null===(e=this.editor)||void 0===e?void 0:e.isReadyEditing)||!1}},{key:"isTextEnterable",get:function(){var e;return(null===(e=this.editor)||void 0===e?void 0:e.isTextEnterable)||!1}},{key:"changeFlag",get:function(){return this.hasValueChange||!1}},{key:"setFocus",value:function(e,t){var n,i,r;this.isEditing?(null===(n=this.editor)||void 0===n||n.focus(),null==e||e()):(this.saveFocusCallBack=e,t&&"number"==typeof t.worldX&&"number"==typeof t.worldY?null===(i=this.editor)||void 0===i||i.triggerMouseDown({posXOfWorld:t.worldX,posYOfWorld:t.worldY}):null===(r=this.editor)||void 0===r||r.focus())}},{key:"setReadyEditing",value:function(){var e;null===(e=this.editor)||void 0===e||e.setReadyEditing()}},{key:"triggerBlur",value:function(){var e,t;this.isReadyEditing?this.removeReadyEditing():(null===(e=this.editor)||void 0===e||e.blur(),this.isEditing||null===(t=this.onBlur)||void 0===t||t.call(this))}},{key:"removeReadyEditing",value:function(){var e;null===(e=this.editor)||void 0===e||e.removeReadyEditing()}},{key:"operations",value:function(e,t,n){var i,r;this.operationKey=e,this.hasValueChange&&this.triggerUpdate();var o,a=this.operationHandler.operations(e,t,n),l=a.isHandled;a.needUpdate&&(this.isExpanded()&&(this.alreadyChange=!0),null!==(o=this.isPreview)&&void 0!==o&&o.call(this)||this.triggerUpdate());return null===(i=(r=this.props).onStyleChange)||void 0===i||i.call(r,{style:this.editorView.getAllStylesSync()}),l}},{key:"getBackDeleteTextProps",value:function(){if(this.isEditing){var e=this.editor.getStyle();return null!=e&&e.inlineProps?[]:["origin-href"]}return[]}},{key:"addHighlight",value:function(e,t){var n={isHighlightFlag:!0,highlightResult:e,keyword:t};this.dataModel.setRawData({searchInfo:n},!0)}},{key:"addSearchMark",value:function(e,t){var n={isSearchingFlag:!0,searchResult:e,keyword:t};this.dataModel.setRawData({searchInfo:n},!0)}},{key:"removeHighlight",value:function(){this.dataModel.setRawData({searchInfo:{isHighlightFlag:!1,highlightResult:[],keyword:""}},!0)}},{key:"removeSearchMark",value:function(){this.dataModel.setRawData({searchInfo:{isSearchingFlag:!1,searchResult:[],keyword:""}},!0)}},{key:"copy",value:function(){if(!this.isExpanded())return null;var e=this.editor.copy();return e?{paragraphListWithoutInherit:{paragraphList:h.a.convertParagraphElementsToParagraphList(e,this.dataModel.resizable)},paragraphListWithInherit:{paragraphList:h.a.convertParagraphElementsToParagraphList(e,this.dataModel.resizable,!1,!1)}}:null}},{key:"paste",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=function(){var i,r;t.triggerSave();var o=t.dataModel.doConvertParagraphListToParagraphElements(e.paragraphList);null===(i=(r=t.props).onBeforeValueChange)||void 0===i||i.call(r),t.editor.paste(o,n),t.triggerUpdate(),t.alreadyChange=!0};if(this.isEditing)return i();this.setFocus((function(){i()}))}},{key:"cut",value:function(){if(this.isEditing){var e,t;if(!this.isExpanded())return null;null===(e=(t=this.props).onBeforeValueChange)||void 0===e||e.call(t);var n=this.editor.cut();return this.triggerUpdate(),{paragraphListWithoutInherit:{paragraphList:h.a.convertParagraphElementsToParagraphList(n,this.dataModel.resizable)},paragraphListWithInherit:{paragraphList:h.a.convertParagraphElementsToParagraphList(n,this.dataModel.resizable,!1,!1)}}}return null}},{key:"emptyParagraph",value:function(){var e=this.dataModel.getParagraphList(!0);if(null!=e&&e.length){var t=e.slice(0,1),n=t[0].textRuns;t[0].textRuns=(null==n?void 0:n.length)&&n.slice(0,1)||[{text:"",styles:{}}],t[0].textRuns[0].text="",this.updateRawData(t)}}},{key:"getExpandedRect",value:function(){var e,t;return this.isEditing&&(null===(e=(t=this.editor).getSelectionRect)||void 0===e?void 0:e.call(t))||null}},{key:"getSelection",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=null===(e=this.editor)||void 0===e?void 0:e.selection;return n&&t?this.editor.rangeUtil.convertToParagraph(n):n}},{key:"getSelectionPara",value:function(){return this.isEditing?k(this.getSelection(),this.dataModel.getParagraphList().map((function(e){return ce(ce({},e),{},{paragraphProps:ce(ce({},e.paragraphProps),e.paragraphCharacter)})}))):[]}},{key:"getTextLinkState",value:function(){var e;return!(null===(e=this.getLinkManager())||void 0===e||!e.getTextLinkState(this.editor))}},{key:"setSelectionAll",value:function(){var e,t;null===(e=this.editor)||void 0===e||null===(t=e.selectAll)||void 0===t||t.call(e)}},{key:"setTextLink",value:function(){var e,t=this;return!!this.isEditing&&(null===(e=this.getLinkManager())||void 0===e||e.getLinkDataAndSetLink({editor:this.editor,updateDataCB:function(){return t.triggerUpdate()}}),!0)}},{key:"insertText",value:function(e,t){this.editor.insertText(e,Object(p.i)(t))}},{key:"triggerRedo",value:function(){var e;this.isReadOnly||(P.a.isMobile?this.triggerBlur():this.hasValueChange&&this.triggerUpdate(),null===(e=this.handleRedo)||void 0===e||e.call(this))}},{key:"triggerUndo",value:function(){var e;this.isReadOnly||(P.a.isMobile?this.triggerBlur():this.hasValueChange&&this.triggerUpdate(),null===(e=this.handleUndo)||void 0===e||e.call(this))}},{key:"handleMouseMove",value:function(e){var t,n;this.isEditing&&(null===(n=this.onMouseMove)||void 0===n||n.call(this));var i=this.editorView.getAppPosition(),r=i.x,o=i.y;null===(t=this.editor)||void 0===t||t.triggerMouseMove({posXOfWorld:e.pageX-r,posYOfWorld:e.pageY-o})}},{key:"handleValueChange",value:function(){var e,t,n;this.alreadyChange||this.updateHasValueChangeFlag(!0),this.alreadyChange=!1;var i=Object(p.c)(this.editor.getValue());this.editorAutoSave.onEditorChange(i),this.handleResizeWhenTextChange();var r=this.editor.getLayoutSize(),o=r.width,a=r.height;null===(e=(t=this.props).onTextChange)||void 0===e||e.call(t,{width:Math.ceil(o),height:Math.ceil(a)}),null===(n=this.getLinkManager())||void 0===n||n.linkFloatBarService.hideAndClearTimeout()}},{key:"handleCompositionInput",value:function(){var e,t;this.updateHasValueChangeFlag(!0);var n=this.editor.getLayoutSize(),i=n.width,r=n.height;null===(e=(t=this.props).onTextChange)||void 0===e||e.call(t,{width:Math.ceil(i),height:Math.ceil(r)})}},{key:"handleMouseDown",value:function(e){this.props.noStopMouseDown||e.stopPropagation();var t,n=e.nativeEvent;2===(null==n?void 0:n.button)&&this.isExpanded()||(null===(t=this.editor)||void 0===t||t.triggerMouseDown({posXOfWorld:e.worldX,posYOfWorld:e.worldY},n));this.onMouseDown(n)}},{key:"handleMouseUp",value:function(){this.onMouseUp(),this.editor.triggerMouseUp()}},{key:"handleClick",value:function(e){var t,n;null===(t=(n=this.props).onClick)||void 0===t||t.call(n,null==e?void 0:e.nativeEvent)}},{key:"handleTouchStart",value:function(e){if(this.isEditing){var t,n,i;null===(t=this.editor)||void 0===t||t.triggerTouchStart({posXOfWorld:e.worldX,posYOfWorld:e.worldY});var r=e.nativeEvent;null===(n=(i=this.props).onTouchStart)||void 0===n||n.call(i,r)}else{var o;null===(o=this.editor)||void 0===o||o.triggerTouchStart({posXOfWorld:e.worldX,posYOfWorld:e.worldY})}}},{key:"handleTouchMove",value:function(e){if(this.isEditing){var t=this.editorView.getAppPosition(),n=t.x,i=t.y,r=document.documentElement,o=r.scrollTop,a=void 0===o?0:o,l=r.scrollLeft,s=void 0===l?0:l;this.editor.triggerTouchMove({posXOfWorld:Object(S.a)(e).pageX-(n+s),posYOfWorld:Object(S.a)(e).pageY-(i+a)})}}},{key:"handleTouchEnd",value:function(e){var t;null===(t=this.editor)||void 0===t||t.triggerTouchEnd(e)}},{key:"updateEditorData",value:function(){var e,t=null===(e=this.editor)||void 0===e?void 0:e.getValue();if(t){var n=this.dataModel.doConvertFromDocElementKeepInheritData(t),i=n.paragraphList,r=n.textBodyStyle||{},o=r.wrapperStyle,a=r.bodyStyle,l=r.autoFitType;this.updateRawData(i,o,a,l,!0)}}},{key:"handleKeyDown",value:function(e){var t=this;if(this.isEditing){var n,i,r;this.onKeyDown(e);var o,a,l=(null===(n=this.dataModel.model)||void 0===n?void 0:n.isTitleOrCtrTitlePl)&&((null===(i=this.dataModel.model)||void 0===i?void 0:i.isFromMaster)||(null===(r=this.dataModel.model)||void 0===r?void 0:r.isFromLayout));if("Enter"===e.key&&l)return this.editor.insertSoftBreak(),!0;if("Enter"===e.key||" "===e.key)null===(o=this.getLinkManager())||void 0===o||o.setLinkWhenEnter(this.editor,(function(){requestAnimationFrame((function(){t.triggerSave()}))}));if(!this.editorEvent)this.editorEvent=new M({editor:this.editor,getSelection:this.getSelection.bind(this),operationHandler:this.operationHandler,shouldPreventTab:null!==(a=this.props.shouldPreventTab)&&void 0!==a&&a,triggerUndo:this.triggerUndo.bind(this),triggerRedo:this.triggerRedo.bind(this)});return this.editorEvent.handleEvent(e)}return!1}},{key:"handleSelectionChange",value:function(e,t){var n,i,r;this.isEditing?(this.handleParagraphCharacter(e,t),null===(n=(i=this.props).onStyleChange)||void 0===n||n.call(i,{style:this.editorView.getAllStylesSync()}),null===(r=this.handleSelectionChangeInEditing)||void 0===r||r.call(this,t)):this.handleParagraphCharacter(e,t)}},{key:"handleBeforeInput",value:function(e,t){if(this.isEditing||this.isReadyEditing){var n,i=null===(n=this.editor.selection)||void 0===n?void 0:n.focus,r=t.text[i.offset-1]||"";if(!Object(F.c)(r,e)||!Object(F.b)(r)&&!Object(F.b)(e)){var o,a,l={};Object(F.d)(e,l);var s=N.a.getOriginProps(t,"raw-"),u=s.fonts,c=s.fontFamily,d=(null==u?void 0:u[null!==(o=l.lang)&&void 0!==o?o:""])||c;return{fontFamily:null===(a=N.a.transformTextStyle("fontFamily",d))||void 0===a?void 0:a.fontFamily,"origin-fontFamily":d,"origin-lang":l.lang,"origin-raw-lang":!0}}}}},{key:"onFocus",value:function(){this.dataModel.noSaveRawData&&this.dataModel.setRawData({noSaveRawData:!1},!0)}},{key:"enterEditing",value:function(){var e,t,n,i;this.saveFocusCallBack&&(this.saveFocusCallBack(),this.clearFocusCallBack()),U.register(),this.editorAutoSave.enterInputIdle(Object(p.d)(this.dataModel.getParagraphList())),this.dataModel.noSaveRawData&&this.dataModel.setRawData({noSaveRawData:!1},!0),this.updateHasValueChangeFlag(!1),null===(e=(t=this.props).onStyleChange)||void 0===e||e.call(t,{style:this.editorView.getAllStylesSync()}),null===(n=(i=this.props).onEnterEditing)||void 0===n||n.call(i)}},{key:"exitEditing",value:function(){var e,t,n,i;if(this.clearFocusCallBack(),this.hasValueChange){var r=this.props.model;if(null!=r&&r.selectionService){var o,a,l={currentSlideType:r.selectionService.currentSlideType,slideIdArr:[r.selectionService.currentSlide.id]};if(r.rootGroupModel)l.groupElementIdArr=[{rootId:(null===(o=r.rootGroupModel)||void 0===o?void 0:o.id)||"",childId:r.id||""}],l.slideElementIdArr=[null===(a=r.rootGroupModel)||void 0===a?void 0:a.id];else r.inTable?(l.groupElementIdArr=[],l.slideElementIdArr=[r.tableModelRef.id]):(l.groupElementIdArr=[],l.slideElementIdArr=[r.id]);r.selectionService.selectedWithCommit.markSpecialOperate(X.a.textBlur,{beforeSelectedSnapshot:l})}this.triggerUpdate()}this.clear(),U.unRegister(),null===(e=(t=this.props).onStyleChange)||void 0===e||e.call(t,{style:this.editorView.getAllStylesSync()}),null===(n=(i=this.props).onExitEditing)||void 0===n||n.call(i)}},{key:"clearFocusCallBack",value:function(){this.saveFocusCallBack=null}},{key:"setSelectionToEnd",value:function(){this.isEditing&&this.editor.selectEnd()}},{key:"triggerSave",value:function(){this.isEditing&&this.hasValueChange&&this.triggerUpdate()}},{key:"resetValueChangeFlag",value:function(){this.isEditing&&(this.isExpanded()&&(this.alreadyChange=!0),this.updateHasValueChangeFlag(!1))}},{key:"dispose",value:function(){this.clear()}},{key:"clear",value:function(){var e,t,n;this.updateHasValueChangeFlag(!1),this.alreadyChange=!1,this.editorAutoSave.cancel(),this.editorAutoSave.clear(),null===(e=this.getLinkManager())||void 0===e||e.linkEditMenuService.hide(),null===(t=this.getLinkManager())||void 0===t||t.linkFloatBarService.hideAndClearTimeout(),null===(n=this.onBlur)||void 0===n||n.call(this)}},{key:"getParagraphTextAndOffset",value:function(e){var t,n;if(e){var i=e.focus,r=this.editor.getParent(i.path),a=o()(r,2)[1],l=this.editor.getString(a),s=null===(t=this.editor)||void 0===t||null===(n=t.getValue())||void 0===n?void 0:n.children;return{offset:Object(p.a)(i,s).offset,focusParagraphText:l}}}},{key:"isSelectAllText",value:function(){var e,t;return!this.isEditing||(null===(e=(t=this.editor).isSelectAll)||void 0===e?void 0:e.call(t))||!1}},{key:"updateRawData",value:function(e,t,n,i,r){if(this.editorView.onChange){var o,a={};t&&(a.wrapperStyle=t),i&&(a.autoFitType=i),n&&(a.bodyStyle=n);var l=Object(p.h)(this.dataModel.getTextBodyStyle(),a);Object(p.j)(e),l=Object(p.h)(l,a),null!=e&&e[0]&&(e[0].isEditorModelTempData=!0),l&&(l.isEditorModelTempData=!0),this.dataModel.setRawData({paragraphList:e,textBodyStyle:l},!0,!0);var s={paragraphList:Object(m.b)(e),textBodyStyle:a};if(this.needInheritStyleShape()){var u=this.dataModel.doConvertFromTextModel(e),c=this.getConvertFromDocElement(u);Object.assign(s,c)}null!==(o=this.isPreview)&&void 0!==o&&o.call(this)||this.editorView.onChange(s,this.checkIsEditing()||r||!1)}}},{key:"handleParagraphCharacter",value:function(e,t){var n,i=this;if(!this.editorView.isReadOnly()){var r=null===(n=this.editor)||void 0===n?void 0:n.getValue();if(r){var a,l,s=r.children,u=this.isSelectionExpand(t),c=this.isSelectionExpand(e),d=s.map(G.c),h=!1;if(!u&&t){var f=d[a=o()(t.anchor.path,1)[0]],p=((null==f?void 0:f.paragraphProps)||{}).character;Object(B.a)(p)&&Object(y.k)(f)&&(h=!0)}if(!c&&e){var v=d[l=o()(e.anchor.path,1)[0]],g=((null==v?void 0:v.paragraphProps)||{}).character;Object(B.a)(g)&&Object(y.k)(v)&&(h=!0)}"number"==typeof a&&"number"==typeof l&&a===l||requestAnimationFrame((function(){var e;h&&(null===(e=i.editor)||void 0===e||e.forceRender())}))}}}},{key:"isSelectionExpand",value:function(e){if(!e)return!1;var t=e.anchor,n=e.focus;return t.path.toString()!==n.path.toString()||t.offset!==n.offset}},{key:"props",get:function(){return this.editorView.getProps()}},{key:"getConvertFromDocElement",value:function(e){return this.dataModel.doConvertFromDocElementKeepInheritData(e)}},{key:"getSelectionLeafNodeAndRangeRef",value:function(){return this.editor.getSelectionLeafNodeAndRangeRef()}},{key:"getLeafNodeAndRangeRef",value:function(e){return this.editor.getLeafNodeAndRangeRef(e)}},{key:"isExpanded",value:function(){var e,t;return(null===(e=(t=this.editor).isSelectionExpanded)||void 0===e?void 0:e.call(t))||!1}},{key:"getStyle",value:function(){return this.editor.getStyle()}},{key:"getEditorValue",value:function(){return this.editor.getValue()}},{key:"getSelectionNodes",value:function(e){var t;return null===(t=this.editor)||void 0===t?void 0:t.getSelectionNodes(e)}},{key:"editor",get:function(){return this.editorView.getAlloyEditor()}},{key:"triggerUpdate",value:function(){this.editorAutoSave.cancel();var e=this.editor.getValue();this.updateData(e),this.updateHasValueChangeFlag(!1)}},{key:"updateData",value:function(e){var t,n,i=this.getConvertFromDocElement(e),r=i.paragraphList,o=i.textBodyStyle,a=this.getAutoFitType(r,this.dataModel.autoFitType),l=a===this.dataModel.autoFitType?o:ce(ce({},o),{},{autoFitType:a}),s=r;Object(p.j)(s),null===(t=(n=this.editorView).onChange)||void 0===t||t.call(n,{paragraphList:s,textBodyStyle:l},!0)}},{key:"needInheritStyleShape",value:function(){var e=this.dataModel.model||{},t=e.isTitleOrCtrTitlePl,n=e.isBodyPl;return e.isFromMaster&&(t||n)}},{key:"checkIsEditing",value:function(){var e;return null===(e=this.editor)||void 0===e?void 0:e.isEditing}},{key:"getLinkManager",value:function(){return this.services.linkManager}},{key:"isReadOnly",get:function(){return this.editorView.isReadOnly()}},{key:"handleResizeWhenTextChange",value:function(){if(this.dataModel.resizable){var e=this.editor.getValue(),t=this.getConvertFromDocElement(e).paragraphList,n=this.props,i={textRect:n.textRect,modelKey:n.modelKey,isTitle:n.isTitle,textBodyStyle:this.dataModel.getTextBodyStyle()},r=v.a.measureResizeLevel(e,i);this.dataModel.resizeLevel!==r&&this.dataModel.setRawData({paragraphList:t,resizeLevel:r},!0,!0)}}},{key:"supplyEffect",value:function(e,t){if(t.effect){var n,i,r=(null==e||null===(n=e.children)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.effect)||{};t.effect=ce(ce({},r),t.effect)}if(t["origin-effect"]){var o,a,l=(null==e||null===(o=e.children)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.effect)||{};t["origin-effect"]=ce(ce({},l),t["origin-effect"])}}},{key:"createOperations",value:function(){return new re(this.dataModel,this)}},{key:"updateTextEditorState",value:function(e){var t=this.services.textEditorStateService;t&&(t.isEditorTextMouseDown=e,t.isEditorTextExpanded=!!this.editorView.isExpanded())}}]),e}()},b4b606ae45:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return g}));var i=n("14502724a6"),r=n.n(i),o=n("9132715560"),a=n.n(o),l=n("6a364eb35c"),s=n.n(l),u=(n("0acdc5834b"),n("4b0c0f4cca")),c=n("8f58e78419"),d=n.n(c),h=function(){function e(){a()(this,e)}return s()(e,[{key:"convertRectToPath",value:function(e,t){var n=e.left,i=e.top,r=e.height,o=void 0===r?0:r,a=e.width,l=void 0===a?0:a;return f(t)?l>=o?[["M",n,i+o/2],["L",n+l,i+o/2]]:[["M",n+l/2,i],["L",n+l/2,i+o]]:[["M",n,i],["L",n+l,i],["L",n+l,i+o],["L",n,i+o],["Z"]]}},{key:"convertBBoxToRect",value:function(e,t){var n=e.minX,i=e.minY,r=e.maxX,o=e.maxY;if(t){var a=this.applyMatrix({x:n,y:i},t),l=this.applyMatrix({x:r,y:o},t);return{left:a.x,top:a.y,height:l.y-a.y,width:l.x-a.x}}return{height:o-i,width:r-n,left:n,top:i}}},{key:"applyMatrix",value:function(e,t){var n=e.x,i=e.y,o=r()(t,8),a=o[0],l=o[1],s=o[3],u=o[4];return{x:a*n+l*i+o[6],y:s*n+u*i+o[7]}}},{key:"groupBy",value:function(e,t){return e.reduce((function(e,n){var i=d()(n,t);return e[i]?e[i].push(n):e[i]=[n],e}),{})}},{key:"isAreaShape",value:function(e){return"area"===e}},{key:"isMarkerShape",value:function(e){return"circle"===e}}]),e}();function f(e){return"line"===e||"smooth"===e||"stick"===e}function p(e){return e===u.c.trendLine}function v(e){return e===u.c.upDownBar}function g(e){return e===u.c.highLowLine}},c3df4c6e22:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("9132715560"),r=n.n(i),o=n("6a364eb35c"),a=n.n(o),l=n("85d0a7609b"),s=n.n(l),u=function(){function e(t,n){r()(this,e),s()(this,"componentOptions",void 0),s()(this,"component",void 0),this.componentOptions=t,this.component=n}return a()(e,[{key:"init",value:function(){}},{key:"dispose",value:function(){}}]),e}()},ca1b1be927:function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return r})),function(e){e.BUTT="butt",e.SQUARE="square",e.ROUND="round"}(i||(i={})),function(e){e.MITER="miter",e.ROUND="round",e.BEVEL="bevel"}(r||(r={}))},ed75b4f022:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n("342844cefa"),n("a84962d637"),n("8a35b54c1d"),n("c554310b5c"),n("bcb5d93d36");var i=n("14502724a6"),r=n.n(i),o=n("9132715560"),a=n.n(o),l=n("6a364eb35c"),s=n.n(l),u=n("85d0a7609b"),c=n.n(u),d=(n("8e7cce0ada"),n("29f8c5f672"),n("c6244f7705"),n("85d48ef22b"),n("2a6f332b5e"),n("22569efd03"),n("8ee19818c4"),n("a2a09da1e3"),n("63513d8b56"),n("b8217400dc"),n("e6f68cdf2e"),n("75563bc376"),n("516fa97df2")),h=n("1068873c4f"),f=function(){function e(t){a()(this,e),c()(this,"application",void 0),c()(this,"scale",void 0),c()(this,"width",void 0),c()(this,"height",void 0),c()(this,"renderComponent",void 0);var n=t.scale,i=t.width,r=t.height,o=t.canvasWrapper,l=t.autoRender;this.scale=n,this.width=i*n,this.height=r*n;var s=new h.c,u=document.createElement("canvas");u.style.pointerEvents="none",o.appendChild(u),this.application=new d.a(s,{native:u,interactive:!1,autoRender:l}),this.application.resolution=Math.ceil(window.devicePixelRatio),this.buildSlideComponent(),this.updateInfo(this.width,this.height,n)}return s()(e,[{key:"getApplication",value:function(){return this.application}},{key:"prependChild",value:function(e){var t;null===(t=this.renderComponent)||void 0===t||t.addChildAt(e,0)}},{key:"appendChild",value:function(e){var t;null===(t=this.renderComponent)||void 0===t||t.addChild(e)}},{key:"removeChild",value:function(e){var t;null===(t=this.renderComponent)||void 0===t||t.removeChild(e)}},{key:"disposeApplication",value:function(){var e,t,n;for(null===(e=this.application)||void 0===e||e.dispose();null!==(i=this.application)&&void 0!==i&&i.stage.children[0];){var i,r,o;null===(r=this.application)||void 0===r||r.stage.removeChild(null===(o=this.application)||void 0===o?void 0:o.stage.children[0])}null===(t=this.renderComponent)||void 0===t||t.dispose(),this.clearRenderComponent(),null!==(n=this.application)&&void 0!==n&&n.view&&(this.application.view.width=0,this.application.view.height=0),this.application=null,this.renderComponent=null}},{key:"clearRenderComponent",value:function(){for(;null!==(e=this.renderComponent)&&void 0!==e&&e.children[0];){var e,t,n;null===(t=this.renderComponent)||void 0===t||t.removeChild(null===(n=this.renderComponent)||void 0===n?void 0:n.children[0])}}},{key:"updateRenderRect",value:function(e){var t=e.width,n=e.height,i=e.scale;this.width===t&&this.height===n&&this.scale===i||(this.width=t,this.height=n,this.scale=i,this.updateInfo(t,n,i))}},{key:"findAnimTarget",value:function(e){var t;return null===(t=this.renderComponent)||void 0===t?void 0:t.children.find((function(t){var n,i;return(null==t||null===(n=t.factoryOptions)||void 0===n||null===(i=n.model)||void 0===i?void 0:i.key)===e}))}},{key:"buildSlideComponent",value:function(){var e;this.renderComponent=new d.k,this.renderComponent.x=0,this.renderComponent.y=0,null===(e=this.application)||void 0===e||e.stage.addChild(this.renderComponent)}},{key:"updateInfo",value:function(e,t,n){if(this.application){var i=Math.round(e),r=Math.round(t);this.application.width=i,this.application.height=r,this.application.stage.transform.scaleX=n,this.application.stage.transform.scaleY=n,this.renderComponent&&(this.renderComponent.x=0,this.renderComponent.y=0),this.application.requestRender()}}}]),e}(),p=n("75bd1be246");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){function e(){a()(this,e),c()(this,"baseLayer",void 0),c()(this,"slideHasClickEleMap",new Map),c()(this,"operationLayer",void 0),c()(this,"overlayLayer",void 0),c()(this,"operationElements",[]),c()(this,"overlayElements",[]),c()(this,"activeBaseLayerAnims",[]),c()(this,"activeOptLayerAnims",[])}return s()(e,[{key:"hasActiveAnimInBaseLayer",get:function(){return!!this.activeBaseLayerAnims.length}},{key:"hasActiveAnimInOptLayer",get:function(){return!!this.activeOptLayerAnims.length}},{key:"initLayer",value:function(e,t,n){this.operationLayer=new f(g(g({},e),{},{canvasWrapper:t,autoRender:!1})),this.overlayLayer=new f(g(g({},e),{},{canvasWrapper:n,autoRender:!0}))}},{key:"dispose",value:function(){var e,t;null===(e=this.operationLayer)||void 0===e||e.disposeApplication(),null===(t=this.overlayLayer)||void 0===t||t.disposeApplication(),this.operationLayer=null,this.overlayLayer=null,this.baseLayer=null,this.operationElements=[],this.overlayElements=[],this.slideHasClickEleMap=new Map}},{key:"updateLayersRect",value:function(e){var t,n;null===(t=this.operationLayer)||void 0===t||t.updateRenderRect(e),null===(n=this.overlayLayer)||void 0===n||n.updateRenderRect(e)}},{key:"processSlice",value:function(e){if(this.baseLayer){var t=this.baseLayer,n=this.overlayElements,i=this.operationElements,r=function(t){return t.factoryOptions.model===e},o=t.children.findIndex(r);if(i.length||n.length)if(-1===o){if(-1===i.findIndex(r)){var a=n.findIndex(r);-1===a||this.moveOverlayToOperation(a)}}else this.moveBaseToOperation(t,(null==t?void 0:t.children.length)-o);else this.executeFirstLayer(t,o)}}},{key:"removeOperationToBaseLayer",value:function(e){if(p.f&&this.baseLayer&&this.operationElements.length){var t=this.operationElements.findIndex((function(t){return t.factoryOptions.model===e}));-1!==t?this.moveOperationToBase(t):console.error("animation target is not in operation layer when complete")}}},{key:"restoreToBaseLayer",value:function(){var e,t;if(p.f&&this.baseLayer){var n=this.baseLayer;this.operationElements.forEach((function(e){n.addChild(e)})),this.overlayElements.forEach((function(e){n.addChild(e)})),null===(e=this.operationLayer)||void 0===e||e.clearRenderComponent(),null===(t=this.overlayLayer)||void 0===t||t.clearRenderComponent(),this.operationElements=[],this.overlayElements=[],this.baseLayerRender(),this.optLayerRender()}}},{key:"addActiveAnimsKey",value:function(e,t){var n;(n={},c()(n,p.l.BASE,this.activeBaseLayerAnims),c()(n,p.l.OPERATION,this.activeOptLayerAnims),n)[t].push(e)}},{key:"removeActiveAnimsKey",value:function(e){var t=this.activeBaseLayerAnims.indexOf(e),n=this.activeOptLayerAnims.indexOf(e);-1!==t&&this.activeBaseLayerAnims.splice(t,1),-1!==n&&this.activeOptLayerAnims.splice(n,1)}},{key:"findAnimTargetInOperationLayer",value:function(e){var t;return null===(t=this.operationLayer)||void 0===t?void 0:t.findAnimTarget(e)}},{key:"findAnimTargetInOverlayLayer",value:function(e){var t;return null===(t=this.overlayLayer)||void 0===t?void 0:t.findAnimTarget(e)}},{key:"executeFirstLayer",value:function(e,t){this.moveBaseToOverlay(e,(null==e?void 0:e.children.length)-t-1),this.moveBaseToOperation(e,1)}},{key:"moveBaseToOperation",value:function(e,t){for(var n=t;n>0;){var i,r=null==e?void 0:e.children[e.children.length-1];if(!r)return;null==e||e.removeChild(r),null===(i=this.operationLayer)||void 0===i||i.prependChild(r),this.operationElements.unshift(r),n-=1}this.baseLayerRender(),this.optLayerRender()}},{key:"moveBaseToOverlay",value:function(e,t){for(var n=t;n>0;){var i,r=null==e?void 0:e.children[e.children.length-1];if(!r)return;null==e||e.removeChild(r),null===(i=this.overlayLayer)||void 0===i||i.prependChild(r),this.overlayElements.unshift(r),n-=1}this.baseLayerRender()}},{key:"moveOverlayToOperation",value:function(e){for(var t=0;t<=e;){var n,i,o=r()(this.overlayElements,1)[0];if(!o)return;null===(n=this.overlayLayer)||void 0===n||n.removeChild(o),null===(i=this.operationLayer)||void 0===i||i.appendChild(o),this.overlayElements.shift(),this.operationElements.push(o),t+=1}this.optLayerRender()}},{key:"moveOperationToBase",value:function(e){var t=this.calcCanMoveIndex(e);if(-1!==t){for(var n=0;n<=t;){var i,o,a=r()(this.operationElements,1)[0];if(!a)return;null===(i=this.operationLayer)||void 0===i||i.removeChild(a),null===(o=this.baseLayer)||void 0===o||o.addChild(a),this.operationElements.shift(),n+=1}this.optLayerRender(),this.baseLayerRender(!0)}else console.log("can not move")}},{key:"calcCanMoveIndex",value:function(e){for(var t=-1,n=0;n<=e;n++){var i=this.operationElements[n].factoryOptions.model,r=i.animList,o=i.key;if(null!=r&&r.length&&this.activeOptLayerAnims.includes(o))break;t=n}return t}},{key:"optLayerRender",value:function(e){var t;this.appRender(null===(t=this.operationLayer)||void 0===t?void 0:t.getApplication(),e)}},{key:"baseLayerRender",value:function(e){var t;this.appRender(null===(t=this.baseLayer)||void 0===t?void 0:t.app,e)}},{key:"appRender",value:function(e,t){t?null==e||e.render():null==e||e.requestRender()}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}();c()(y,"instance",void 0)},fd47808304:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));n("73b854064b");var i=n("9132715560"),r=n.n(i),o=n("6a364eb35c"),a=n.n(o),l=n("547611bd96"),s=n.n(l),u=n("bd29e2df90"),c=n.n(u),d=n("ab5eb40518"),h=n.n(d),f=n("1b4cdd6a36"),p=n.n(f),v=n("85d0a7609b"),g=n.n(v),y=n("69084d01d3"),b=n.n(y),m=n("6d623d55ad"),O=n.n(m),w=n("37091e4240");function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h()(this,n)}}var k=function(e){c()(n,e);var t=C(n);function n(e){var i;return r()(this,n),i=t.call(this,e),g()(s()(i),"updateTitleShowState",(function(e){var t=e.title,n=void 0===t?"":t,r=e.containerOffsetX,o=void 0===r?0:r,a=e.containerOffsetY,l=void 0===a?0:a,s=e.visible,u=void 0!==s&&s;i.setState({visible:u,title:n,containerOffsetX:o,containerOffsetY:l})})),i.state={visible:!1,title:"",containerOffsetX:0,containerOffsetY:0},i}return a()(n,[{key:"componentDidMount",value:function(){w.b.on(w.a.UPDATE_TITLE_SHOW_STATE,this.updateTitleShowState)}},{key:"componentWillUnmount",value:function(){w.b.off(w.a.UPDATE_TITLE_SHOW_STATE,this.updateTitleShowState)}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.containerOffsetX,i=e.containerOffsetY,r=e.visible;return b.a.createElement(O.a,{placement:"bottom",title:t,containerOffsetX:n,containerOffsetY:i,visible:r,style:{position:"absolute",left:0,top:0}},b.a.createElement("div",null))}}]),n}(b.a.Component)}}]);
//# sourceMappingURL=slide-async~89b7a519-9bb2ec.js.map