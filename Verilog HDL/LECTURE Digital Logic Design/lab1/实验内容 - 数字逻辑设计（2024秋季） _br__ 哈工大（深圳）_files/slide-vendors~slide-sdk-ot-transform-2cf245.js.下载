(this.webpackJsonp=this.webpackJsonp||[]).push([["vendors~slide-sdk-ot-transform"],{"5b4c5ae5c4":function(n,r,e){var t,o=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(n){var r,e,o;n=n||{},r||(r=void 0!==n?n:{}),r.ready=new Promise((function(n,r){e=n,o=r})),r.locateFile=function(n,r){return n.indexOf("http://")||n.indexOf("https://")?n:r+n},r.print=function(n){window.log&&window.log.info?window.log.info("formula-wasm",n):console.log(n)},r.printErr=function(n){window.log&&window.log.error?window.log.error("formula-wasm",n):console.error(n)};var i=Object.assign({},r),a="./this.program",u="";"undefined"!=typeof document&&document.currentScript&&(u=document.currentScript.src),t&&(u=t),u=0!==u.indexOf("blob:")?u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):"";var c,s=r.print||console.log.bind(console),l=r.printErr||console.warn.bind(console);Object.assign(r,i),i=null,r.thisProgram&&(a=r.thisProgram),r.wasmBinary&&(c=r.wasmBinary),r.noExitRuntime,"object"!=typeof WebAssembly&&$("no native wasm support detected");var f,m=!1,d="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function g(n,r,e){var t=r+e;for(e=r;n[e]&&!(e>=t);)++e;if(16<e-r&&n.subarray&&d)return d.decode(n.subarray(r,e));for(t="";r<e;){var o=n[r++];if(128&o){var i=63&n[r++];if(192==(224&o))t+=String.fromCharCode((31&o)<<6|i);else{var a=63&n[r++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|a:(7&o)<<18|i<<12|a<<6|63&n[r++])?t+=String.fromCharCode(o):(o-=65536,t+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else t+=String.fromCharCode(o)}return t}function h(n,r,e,t){if(0<t){t=e+t-1;for(var o=0;o<n.length;++o){var i=n.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&n.charCodeAt(++o)),127>=i){if(e>=t)break;r[e++]=i}else{if(2047>=i){if(e+1>=t)break;r[e++]=192|i>>6}else{if(65535>=i){if(e+2>=t)break;r[e++]=224|i>>12}else{if(e+3>=t)break;r[e++]=240|i>>18,r[e++]=128|i>>12&63}r[e++]=128|i>>6&63}r[e++]=128|63&i}}r[e]=0}}function p(n){for(var r=0,e=0;e<n.length;++e){var t=n.charCodeAt(e);55296<=t&&57343>=t&&(t=65536+((1023&t)<<10)|1023&n.charCodeAt(++e)),127>=t?++r:r=2047>=t?r+2:65535>=t?r+3:r+4}return r}var y,v,_,w,b,A,T,C,S,j="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function E(n,r){for(var e=n>>1,t=e+r/2;!(e>=t)&&b[e];)++e;if(32<(e<<=1)-n&&j)return j.decode(_.subarray(n,e));for(e="",t=0;!(t>=r/2);++t){var o=w[n+2*t>>1];if(0==o)break;e+=String.fromCharCode(o)}return e}function k(n,r,e){if(void 0===e&&(e=2147483647),2>e)return 0;var t=r;e=(e-=2)<2*n.length?e/2:n.length;for(var o=0;o<e;++o)w[r>>1]=n.charCodeAt(o),r+=2;return w[r>>1]=0,r-t}function O(n){return 2*n.length}function W(n,r){for(var e=0,t="";!(e>=r/4);){var o=A[n+4*e>>2];if(0==o)break;++e,65536<=o?(o-=65536,t+=String.fromCharCode(55296|o>>10,56320|1023&o)):t+=String.fromCharCode(o)}return t}function D(n,r,e){if(void 0===e&&(e=2147483647),4>e)return 0;var t=r;e=t+e-4;for(var o=0;o<n.length;++o){var i=n.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&n.charCodeAt(++o)),A[r>>2]=i,(r+=4)+4>e)break}return A[r>>2]=0,r-t}function M(n){for(var r=0,e=0;e<n.length;++e){var t=n.charCodeAt(e);55296<=t&&57343>=t&&++e,r+=4}return r}function F(){var n=f.buffer;y=n,r.HEAP8=v=new Int8Array(n),r.HEAP16=w=new Int16Array(n),r.HEAP32=A=new Int32Array(n),r.HEAPU8=_=new Uint8Array(n),r.HEAPU16=b=new Uint16Array(n),r.HEAPU32=T=new Uint32Array(n),r.HEAPF32=C=new Float32Array(n),r.HEAPF64=S=new Float64Array(n)}var P,R=[],I=[],x=[];function U(){var n=r.preRun.shift();R.unshift(n)}var B,Y=0,H=null,N=null;function $(n){throw r.onAbort&&r.onAbort(n),l(n="Aborted("+n+")"),m=!0,n=new WebAssembly.RuntimeError(n+". Build with -s ASSERTIONS=1 for more info."),o(n),n}function V(){return B.startsWith("data:application/octet-stream;base64,")}if(r.preloadedImages={},r.preloadedAudios={},B="slide_wasm.wasm",!V()){var J=B;B=r.locateFile?r.locateFile(J,u):u+J}function L(){var n=B;try{if(n==B&&c)return new Uint8Array(c);throw"both async and sync fetching of the wasm failed"}catch(n){$(n)}}function z(n){for(;0<n.length;){var e=n.shift();if("function"==typeof e)e(r);else{var t=e.O;"number"==typeof t?void 0===e.v?q(t)():q(t)(e.v):t(void 0===e.v?null:e.v)}}}var G=[];function q(n){var r=G[n];return r||(n>=G.length&&(G.length=n+1),G[n]=r=P.get(n)),r}function K(n){this.l=n-16,this.I=function(n){A[this.l+4>>2]=n},this.F=function(n){A[this.l+8>>2]=n},this.G=function(){A[this.l>>2]=0},this.C=function(){v[this.l+12>>0]=0},this.H=function(){v[this.l+13>>0]=0},this.B=function(n,r){this.I(n),this.F(r),this.G(),this.C(),this.H()}}function X(n){switch(n){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+n)}}var Z=void 0;function Q(n){for(var r="";_[n];)r+=Z[_[n++]];return r}var nn={},rn={},en={};function tn(n){if(void 0===n)return"_unknown";var r=(n=n.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=r&&57>=r?"_"+n:n}function on(n,r){return n=tn(n),new Function("body","return function "+n+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(r)}function an(n){var r=Error,e=on(n,(function(r){this.name=n,this.message=r,void 0!==(r=Error(r).stack)&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},e}var un=void 0;function cn(n){throw new un(n)}var sn=void 0;function ln(n,r,e={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var t=r.name;if(n||cn('type "'+t+'" must have a positive integer typeid pointer'),rn.hasOwnProperty(n)){if(e.D)return;cn("Cannot register type '"+t+"' twice")}rn[n]=r,delete en[n],nn.hasOwnProperty(n)&&(r=nn[n],delete nn[n],r.forEach((function(n){n()})))}var fn=[],mn=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function dn(n){return this.fromWireType(T[n>>2])}function gn(n,r){switch(r){case 2:return function(n){return this.fromWireType(C[n>>2])};case 3:return function(n){return this.fromWireType(S[n>>3])};default:throw new TypeError("Unknown float type: "+n)}}function hn(n){for(;n.length;){var r=n.pop();n.pop()(r)}}function pn(n,e,t){r.hasOwnProperty(n)?((void 0===t||void 0!==r[n].h&&void 0!==r[n].h[t])&&cn("Cannot register public name '"+n+"' twice"),function(n,e){var t=r;if(void 0===t[n].h){var o=t[n];t[n]=function(){return t[n].h.hasOwnProperty(arguments.length)||cn("Function '"+e+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[n].h+")!"),t[n].h[arguments.length].apply(this,arguments)},t[n].h=[],t[n].h[o.A]=o}}(n,n),r.hasOwnProperty(t)&&cn("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),r[n].h[t]=e):(r[n]=e,void 0!==t&&(r[n].R=t))}function yn(n,e){var t=(n=Q(n)).includes("j")?function(n,e){var t=[];return function(){if(t.length=0,Object.assign(t,arguments),n.includes("j")){var o=r["dynCall_"+n];o=t&&t.length?o.apply(null,[e].concat(t)):o.call(null,e)}else o=q(e).apply(null,t);return o}}(n,e):q(e);return"function"!=typeof t&&cn("unknown function pointer with signature "+n+": "+e),t}var vn,_n=void 0;function wn(n){var r=Q(n=Bn(n));return xn(n),r}function bn(n,r,e){switch(r){case 0:return e?function(n){return v[n]}:function(n){return _[n]};case 1:return e?function(n){return w[n>>1]}:function(n){return b[n>>1]};case 2:return e?function(n){return A[n>>2]}:function(n){return T[n>>2]};default:throw new TypeError("Unknown integer type: "+n)}}vn=()=>performance.now();var An={};function Tn(){if(!Cn){var n,r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:a||"./this.program"};for(n in An)void 0===An[n]?delete r[n]:r[n]=An[n];var e=[];for(n in r)e.push(n+"="+r[n]);Cn=e}return Cn}var Cn,Sn=[null,[],[]];function jn(n){return 0==n%4&&(0!=n%100||0==n%400)}function En(n,r){for(var e=0,t=0;t<=r;e+=n[t++]);return e}var kn=[31,29,31,30,31,30,31,31,30,31,30,31],On=[31,28,31,30,31,30,31,31,30,31,30,31];function Wn(n,r){for(n=new Date(n.getTime());0<r;){var e=n.getMonth(),t=(jn(n.getFullYear())?kn:On)[e];if(!(r>t-n.getDate())){n.setDate(n.getDate()+r);break}r-=t-n.getDate()+1,n.setDate(1),11>e?n.setMonth(e+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function Dn(n,r,e,t){function o(n,r,e){for(n="number"==typeof n?n.toString():n||"";n.length<r;)n=e[0]+n;return n}function i(n,r){return o(n,r,"0")}function a(n,r){function e(n){return 0>n?-1:0<n?1:0}var t;return 0===(t=e(n.getFullYear()-r.getFullYear()))&&0===(t=e(n.getMonth()-r.getMonth()))&&(t=e(n.getDate()-r.getDate())),t}function u(n){switch(n.getDay()){case 0:return new Date(n.getFullYear()-1,11,29);case 1:return n;case 2:return new Date(n.getFullYear(),0,3);case 3:return new Date(n.getFullYear(),0,2);case 4:return new Date(n.getFullYear(),0,1);case 5:return new Date(n.getFullYear()-1,11,31);case 6:return new Date(n.getFullYear()-1,11,30)}}function c(n){n=Wn(new Date(n.g+1900,0,1),n.u);var r=new Date(n.getFullYear()+1,0,4),e=u(new Date(n.getFullYear(),0,4));return r=u(r),0>=a(e,n)?0>=a(r,n)?n.getFullYear()+1:n.getFullYear():n.getFullYear()-1}var s=A[t+40>>2];for(var l in t={M:A[t>>2],L:A[t+4>>2],o:A[t+8>>2],m:A[t+12>>2],j:A[t+16>>2],g:A[t+20>>2],s:A[t+24>>2],u:A[t+28>>2],S:A[t+32>>2],K:A[t+36>>2],N:s&&s?g(_,s,void 0):""},e=e?g(_,e,void 0):"",s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})e=e.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(n){return f[n.s].substring(0,3)},"%A":function(n){return f[n.s]},"%b":function(n){return m[n.j].substring(0,3)},"%B":function(n){return m[n.j]},"%C":function(n){return i((n.g+1900)/100|0,2)},"%d":function(n){return i(n.m,2)},"%e":function(n){return o(n.m,2," ")},"%g":function(n){return c(n).toString().substring(2)},"%G":function(n){return c(n)},"%H":function(n){return i(n.o,2)},"%I":function(n){return 0==(n=n.o)?n=12:12<n&&(n-=12),i(n,2)},"%j":function(n){return i(n.m+En(jn(n.g+1900)?kn:On,n.j-1),3)},"%m":function(n){return i(n.j+1,2)},"%M":function(n){return i(n.L,2)},"%n":function(){return"\n"},"%p":function(n){return 0<=n.o&&12>n.o?"AM":"PM"},"%S":function(n){return i(n.M,2)},"%t":function(){return"\t"},"%u":function(n){return n.s||7},"%U":function(n){var r=new Date(n.g+1900,0,1),e=0===r.getDay()?r:Wn(r,7-r.getDay());return 0>a(e,n=new Date(n.g+1900,n.j,n.m))?i(Math.ceil((31-e.getDate()+(En(jn(n.getFullYear())?kn:On,n.getMonth()-1)-31)+n.getDate())/7),2):0===a(e,r)?"01":"00"},"%V":function(n){var r=new Date(n.g+1901,0,4),e=u(new Date(n.g+1900,0,4));r=u(r);var t=Wn(new Date(n.g+1900,0,1),n.u);return 0>a(t,e)?"53":0>=a(r,t)?"01":i(Math.ceil((e.getFullYear()<n.g+1900?n.u+32-e.getDate():n.u+1-e.getDate())/7),2)},"%w":function(n){return n.s},"%W":function(n){var r=new Date(n.g,0,1),e=1===r.getDay()?r:Wn(r,0===r.getDay()?1:7-r.getDay()+1);return 0>a(e,n=new Date(n.g+1900,n.j,n.m))?i(Math.ceil((31-e.getDate()+(En(jn(n.getFullYear())?kn:On,n.getMonth()-1)-31)+n.getDate())/7),2):0===a(e,r)?"01":"00"},"%y":function(n){return(n.g+1900).toString().substring(2)},"%Y":function(n){return n.g+1900},"%z":function(n){var r=0<=(n=n.K);return n=Math.abs(n)/60,(r?"+":"-")+String("0000"+(n/60*100+n%60)).slice(-4)},"%Z":function(n){return n.N},"%%":function(){return"%"}},e=e.replace(/%%/g,"\0\0"),s)e.includes(l)&&(e=e.replace(new RegExp(l,"g"),s[l](t)));return l=function(n){var r=Array(p(n)+1);return h(n,r,0,r.length),r}(e=e.replace(/\0\0/g,"%")),l.length>r?0:(v.set(l,n),l.length-1)}for(var Mn=Array(256),Fn=0;256>Fn;++Fn)Mn[Fn]=String.fromCharCode(Fn);Z=Mn,un=r.BindingError=an("BindingError"),sn=r.InternalError=an("InternalError"),r.count_emval_handles=function(){for(var n=0,r=5;r<mn.length;++r)void 0!==mn[r]&&++n;return n},r.get_first_emval=function(){for(var n=5;n<mn.length;++n)if(void 0!==mn[n])return mn[n];return null},_n=r.UnboundTypeError=an("UnboundTypeError");var Pn={__cxa_allocate_exception:function(n){return In(n+16)+16},__cxa_throw:function(n,r,e){throw new K(n).B(r,e),n},_embind_register_bigint:function(){},_embind_register_bool:function(n,r,e,t,o){var i=X(e);ln(n,{name:r=Q(r),fromWireType:function(n){return!!n},toWireType:function(n,r){return r?t:o},argPackAdvance:8,readValueFromPointer:function(n){if(1===e)var t=v;else if(2===e)t=w;else{if(4!==e)throw new TypeError("Unknown boolean type size: "+r);t=A}return this.fromWireType(t[n>>i])},i:null})},_embind_register_emval:function(n,r){ln(n,{name:r=Q(r),fromWireType:function(n){n||cn("Cannot use deleted val. handle = "+n);var r=mn[n].value;return 4<n&&0==--mn[n].J&&(mn[n]=void 0,fn.push(n)),r},toWireType:function(n,r){return function(n){switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var r=fn.length?fn.pop():mn.length;return mn[r]={J:1,value:n},r}}(r)},argPackAdvance:8,readValueFromPointer:dn,i:null})},_embind_register_float:function(n,r,e){e=X(e),ln(n,{name:r=Q(r),fromWireType:function(n){return n},toWireType:function(n,r){return r},argPackAdvance:8,readValueFromPointer:gn(r,e),i:null})},_embind_register_function:function(n,e,t,o,i,a){var u=function(n,r){for(var e=[],t=0;t<n;t++)e.push(A[(r>>2)+t]);return e}(e,t);n=Q(n),i=yn(o,i),pn(n,(function(){!function(n,r){var e=[],t={};throw r.forEach((function n(r){t[r]||rn[r]||(en[r]?en[r].forEach(n):(e.push(r),t[r]=!0))})),new _n(n+": "+e.map(wn).join([", "]))}("Cannot call "+n+" due to unbound types",u)}),e-1),function(n,r){function e(n){if((n=r(n)).length!==t.length)throw new sn("Mismatched type converter count");for(var e=0;e<t.length;++e)ln(t[e],n[e])}var t=[];t.forEach((function(r){en[r]=n}));var o=Array(n.length),i=[],a=0;n.forEach((function(n,r){rn.hasOwnProperty(n)?o[r]=rn[n]:(i.push(n),nn.hasOwnProperty(n)||(nn[n]=[]),nn[n].push((function(){o[r]=rn[n],++a===i.length&&e(o)})))})),0===i.length&&e(o)}(u,(function(t){var o=n,u=n;t=[t[0],null].concat(t.slice(1));var c=i,s=t.length;2>s&&cn("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var l=null!==t[1]&&!1,f=!1,m=1;m<t.length;++m)if(null!==t[m]&&void 0===t[m].i){f=!0;break}var d="void"!==t[0].name,g="",h="";for(m=0;m<s-2;++m)g+=(0!==m?", ":"")+"arg"+m,h+=(0!==m?", ":"")+"arg"+m+"Wired";u="return function "+tn(u)+"("+g+") {\nif (arguments.length !== "+(s-2)+") {\nthrowBindingError('function "+u+" called with ' + arguments.length + ' arguments, expected "+(s-2)+" args!');\n}\n",f&&(u+="var destructors = [];\n");var p=f?"destructors":"null";for(g="throwBindingError invoker fn runDestructors retType classParam".split(" "),c=[cn,c,a,hn,t[0],t[1]],l&&(u+="var thisWired = classParam.toWireType("+p+", this);\n"),m=0;m<s-2;++m)u+="var arg"+m+"Wired = argType"+m+".toWireType("+p+", arg"+m+"); // "+t[m+2].name+"\n",g.push("argType"+m),c.push(t[m+2]);if(l&&(h="thisWired"+(0<h.length?", ":"")+h),u+=(d?"var rv = ":"")+"invoker(fn"+(0<h.length?", ":"")+h+");\n",f)u+="runDestructors(destructors);\n";else for(m=l?1:2;m<t.length;++m)s=1===m?"thisWired":"arg"+(m-2)+"Wired",null!==t[m].i&&(u+=s+"_dtor("+s+"); // "+t[m].name+"\n",g.push(s+"_dtor"),c.push(t[m].i));if(d&&(u+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),g.push(u+"}\n"),t=function(n){var r=Function;if(!(r instanceof Function))throw new TypeError("new_ called with constructor type "+typeof r+" which is not a function");var e=on(r.name||"unknownFunctionName",(function(){}));return e.prototype=r.prototype,e=new e,(n=r.apply(e,n))instanceof Object?n:e}(g).apply(null,c),m=e-1,!r.hasOwnProperty(o))throw new sn("Replacing nonexistant public symbol");return void 0!==r[o].h&&void 0!==m?r[o].h[m]=t:(r[o]=t,r[o].A=m),[]}))},_embind_register_integer:function(n,r,e,t,o){r=Q(r),-1===o&&(o=4294967295),o=X(e);var i=n=>n;if(0===t){var a=32-8*e;i=n=>n<<a>>>a}e=r.includes("unsigned")?function(n,r){return r>>>0}:function(n,r){return r},ln(n,{name:r,fromWireType:i,toWireType:e,argPackAdvance:8,readValueFromPointer:bn(r,o,0!==t),i:null})},_embind_register_memory_view:function(n,r,e){function t(n){var r=T;return new o(y,r[1+(n>>=2)],r[n])}var o=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][r];ln(n,{name:e=Q(e),fromWireType:t,argPackAdvance:8,readValueFromPointer:t},{D:!0})},_embind_register_std_string:function(n,r){var e="std::string"===(r=Q(r));ln(n,{name:r,fromWireType:function(n){var r=T[n>>2];if(e)for(var t=n+4,o=0;o<=r;++o){var i=n+4+o;if(o==r||0==_[i]){if(t=t?g(_,t,i-t):"",void 0===a)var a=t;else a+=String.fromCharCode(0),a+=t;t=i+1}}else{for(a=Array(r),o=0;o<r;++o)a[o]=String.fromCharCode(_[n+4+o]);a=a.join("")}return xn(n),a},toWireType:function(n,r){r instanceof ArrayBuffer&&(r=new Uint8Array(r));var t="string"==typeof r;t||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||cn("Cannot pass non-string to std::string");var o=(e&&t?()=>p(r):()=>r.length)(),i=In(4+o+1);if(T[i>>2]=o,e&&t)h(r,_,i+4,o+1);else if(t)for(t=0;t<o;++t){var a=r.charCodeAt(t);255<a&&(xn(i),cn("String has UTF-16 code units that do not fit in 8 bits")),_[i+4+t]=a}else for(t=0;t<o;++t)_[i+4+t]=r[t];return null!==n&&n.push(xn,i),i},argPackAdvance:8,readValueFromPointer:dn,i:function(n){xn(n)}})},_embind_register_std_wstring:function(n,r,e){if(e=Q(e),2===r)var t=E,o=k,i=O,a=()=>b,u=1;else 4===r&&(t=W,o=D,i=M,a=()=>T,u=2);ln(n,{name:e,fromWireType:function(n){for(var e,o=T[n>>2],i=a(),c=n+4,s=0;s<=o;++s){var l=n+4+s*r;s!=o&&0!=i[l>>u]||(c=t(c,l-c),void 0===e?e=c:(e+=String.fromCharCode(0),e+=c),c=l+r)}return xn(n),e},toWireType:function(n,t){"string"!=typeof t&&cn("Cannot pass non-string to C++ string type "+e);var a=i(t),c=In(4+a+r);return T[c>>2]=a>>u,o(t,c+4,a+r),null!==n&&n.push(xn,c),c},argPackAdvance:8,readValueFromPointer:dn,i:function(n){xn(n)}})},_embind_register_void:function(n,r){ln(n,{P:!0,name:r=Q(r),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},abort:function(){$("")},clock_gettime:function(n,r){if(0===n)n=Date.now();else{if(1!==n&&4!==n)return A[Un()>>2]=28,-1;n=vn()}return A[r>>2]=n/1e3|0,A[r+4>>2]=n%1e3*1e6|0,0},emscripten_memcpy_big:function(n,r,e){_.copyWithin(n,r,r+e)},emscripten_resize_heap:function(n){var r=_.length;if(2147483648<(n>>>=0))return!1;for(var e=1;4>=e;e*=2){var t=r*(1+.2/e);t=Math.min(t,n+100663296);var o=Math;t=Math.max(n,t),o=o.min.call(o,2147483648,t+(65536-t%65536)%65536);n:{try{f.grow(o-y.byteLength+65535>>>16),F();var i=1;break n}catch(n){}i=void 0}if(i)return!0}return!1},environ_get:function(n,r){var e=0;return Tn().forEach((function(t,o){var i=r+e;for(o=A[n+4*o>>2]=i,i=0;i<t.length;++i)v[o++>>0]=t.charCodeAt(i);v[o>>0]=0,e+=t.length+1})),0},environ_sizes_get:function(n,r){var e=Tn();A[n>>2]=e.length;var t=0;return e.forEach((function(n){t+=n.length+1})),A[r>>2]=t,0},fd_close:function(){return 0},fd_seek:function(){},fd_write:function(n,r,e,t){for(var o=0,i=0;i<e;i++){var a=A[r>>2],u=A[r+4>>2];r+=8;for(var c=0;c<u;c++){var f=_[a+c],m=Sn[n];0===f||10===f?((1===n?s:l)(g(m,0)),m.length=0):m.push(f)}o+=u}return A[t>>2]=o,0},setTempRet0:function(){},strftime_l:function(n,r,e,t){return Dn(n,r,e,t)}};!function(){function n(n){r.asm=n.exports,f=r.asm.memory,F(),P=r.asm.__indirect_function_table,I.unshift(r.asm.__wasm_call_ctors),Y--,r.monitorRunDependencies&&r.monitorRunDependencies(Y),0==Y&&(null!==H&&(clearInterval(H),H=null),N&&(n=N,N=null,n()))}function e(r){n(r.instance)}function t(n){return(c||"function"!=typeof fetch?Promise.resolve().then((function(){return L()})):fetch(B,{credentials:"same-origin"}).then((function(n){if(!n.ok)throw"failed to load wasm binary file at '"+B+"'";return n.arrayBuffer()})).catch((function(){return L()}))).then((function(n){return WebAssembly.instantiate(n,i)})).then((function(n){return n})).then(n,(function(n){l("failed to asynchronously prepare wasm: "+n),$(n)}))}var i={env:Pn,wasi_snapshot_preview1:Pn};if(Y++,r.monitorRunDependencies&&r.monitorRunDependencies(Y),r.instantiateWasm)try{return r.instantiateWasm(i,n)}catch(n){return l("Module.instantiateWasm callback failed with error: "+n),!1}(c||"function"!=typeof WebAssembly.instantiateStreaming||V()||"function"!=typeof fetch?t(e):fetch(B,{credentials:"same-origin"}).then((function(n){return WebAssembly.instantiateStreaming(n,i).then(e,(function(n){return l("wasm streaming compile failed: "+n),l("falling back to ArrayBuffer instantiation"),t(e)}))}))).catch(o)}(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.__wasm_call_ctors).apply(null,arguments)};var Rn,In=r._malloc=function(){return(In=r._malloc=r.asm.malloc).apply(null,arguments)},xn=r._free=function(){return(xn=r._free=r.asm.free).apply(null,arguments)},Un=r.___errno_location=function(){return(Un=r.___errno_location=r.asm.__errno_location).apply(null,arguments)},Bn=r.___getTypeName=function(){return(Bn=r.___getTypeName=r.asm.__getTypeName).apply(null,arguments)};function Yn(){function n(){if(!Rn&&(Rn=!0,r.calledRun=!0,!m)){if(z(I),e(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;){var n=r.postRun.shift();x.unshift(n)}z(x)}}if(!(0<Y)){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)U();z(R),0<Y||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),n()}),1)):n())}}if(r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.__embind_register_native_and_builtin_types).apply(null,arguments)},r.___dl_seterr=function(){return(r.___dl_seterr=r.asm.__dl_seterr).apply(null,arguments)},r._htonl=function(){return(r._htonl=r.asm.htonl).apply(null,arguments)},r._htons=function(){return(r._htons=r.asm.htons).apply(null,arguments)},r._ntohs=function(){return(r._ntohs=r.asm.ntohs).apply(null,arguments)},r._emscripten_builtin_memalign=function(){return(r._emscripten_builtin_memalign=r.asm.emscripten_builtin_memalign).apply(null,arguments)},r.stackSave=function(){return(r.stackSave=r.asm.stackSave).apply(null,arguments)},r.stackRestore=function(){return(r.stackRestore=r.asm.stackRestore).apply(null,arguments)},r.stackAlloc=function(){return(r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)},r.dynCall_jii=function(){return(r.dynCall_jii=r.asm.dynCall_jii).apply(null,arguments)},r.dynCall_viji=function(){return(r.dynCall_viji=r.asm.dynCall_viji).apply(null,arguments)},r.dynCall_iiij=function(){return(r.dynCall_iiij=r.asm.dynCall_iiij).apply(null,arguments)},r.dynCall_ji=function(){return(r.dynCall_ji=r.asm.dynCall_ji).apply(null,arguments)},r.dynCall_iijjiiii=function(){return(r.dynCall_iijjiiii=r.asm.dynCall_iijjiiii).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.dynCall_jiji).apply(null,arguments)},r.dynCall_viijii=function(){return(r.dynCall_viijii=r.asm.dynCall_viijii).apply(null,arguments)},r.dynCall_iiiiij=function(){return(r.dynCall_iiiiij=r.asm.dynCall_iiiiij).apply(null,arguments)},r.dynCall_iiiiijj=function(){return(r.dynCall_iiiiijj=r.asm.dynCall_iiiiijj).apply(null,arguments)},r.dynCall_iiiiiijj=function(){return(r.dynCall_iiiiiijj=r.asm.dynCall_iiiiiijj).apply(null,arguments)},N=function n(){Rn||Yn(),Rn||(N=n)},r.run=Yn,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return Yn(),n.ready});n.exports=o},ecb3a12adf:function(n,r,e){n.exports=e.p+"wasm/slide_wasm.cf3033dd177850a30b557c62bdb5e2d4.wasm"},fce8828f9a:function(n,r){r.TRANSFORMER_WASM_VERSION="release/wasm-20240725"},ffe486653f:function(n,r,e){"use strict";e.r(r),e.d(r,"OTTransform",(function(){return w})),e.d(r,"IOTTransform",(function(){}));var t=e("311f2fc38c"),o=e("7718930a1d"),i=e("822fa1925c"),a=e("025e3e9b74"),u=e("4f3b15d017"),c=e("da1378f0cf"),s=e.n(c),l=e("ecb3a12adf"),f=e.n(l);var m,d=e("5b4c5ae5c4"),g=e.n(d),h=e("fce8828f9a"),p=e("c94abe4d15");!function(n){n[n.Success=0]="Success",n[n.Failure=1]="Failure"}(m||(m={}));class y{init(){var n=this;return Object(t.a)((function*(){n.wasmTransformer||(n.wasmTransformer=yield g()(yield n.fetchWasmModule()))}))()}transform(n,r,e){if(!this.wasmTransformer)throw new Error("wasm is not ready");const t={commandsA:[],commandsB:[],isAAfterB:e};n.forEach((n=>{var r;null===(r=t.commandsA)||void 0===r||r.push({mutations:n.mutations,seq:n.seq})})),r.forEach((n=>{var r;null===(r=t.commandsB)||void 0===r||r.push({mutations:n.mutations,seq:n.seq})}));const o=new p.a(t),i=this.wasmTransformer.transform(o.toBase64String()),a=p.b.fromBufferOrBase64(i).getTransformResponseData();if(1===a.code)throw this.makeTransformError(`invalid transform result_${a.errMsg}`,n,r);var u,c;return{transformedA:null!==(u=a.transformedCommandsA)&&void 0!==u?u:[],transformedB:null!==(c=a.transformedCommandsB)&&void 0!==c?c:[]}}makeTransformError(n,r,e){return new Error(`${n}: \n${JSON.stringify({commandDataA:r.map((n=>{var r;return{mutations:null!==(r=n.mutations)&&void 0!==r?r:[]}})),commandDataB:e.map((n=>{var r;return{mutations:null!==(r=n.mutations)&&void 0!==r?r:[]}}))})}`)}constructor(){this.version=h.TRANSFORMER_WASM_VERSION}}class v extends y{fetchWasmModule(){return Object(t.a)((function*(){const n=yield fetch("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&f.a.startsWith("//")?`https://${f.a}`:f.a);return{wasmBinary:yield n.arrayBuffer()}}))()}}const _="[SDK][OT]";class w{get supported(){return"undefined"!=typeof WebAssembly}syncTransform(n,r,e,t){const o=performance.now();try{this.logger.info(_,"[SyncTransform]","start");const i=this.syncTransformer.transform(n,r,e,t),a=performance.now()-o;return this.logger.info(_,"[SyncTransform]","end",`costTime: ${a}ms`),this.reportTransformSuccess(a,this.getTransformMatrix(n,r),t),i}catch(n){throw this.handleTransformError(n,t),n}}transform(n,r,e,o){var i=this;return Object(t.a)((function*(){if(!(yield i.initAsyncTransformer()))return yield i.initSyncTransformer(),i.syncTransform(n,r,e,o);const t=performance.now();try{i.transformTimeoutChecker=setTimeout((()=>{var n,r;i.logger.error(_,"transform timeout"),null===(r=i.logger.monitor)||void 0===r||null===(n=r.reportStatus)||void 0===n||n.call(r,"transform",1,"transform timeout",[o]),i.eventManager.emit(a.c.TransformTimeout,o)}),6e4),i.logger.info(_,"[AsyncTransform]","start");const u=yield i.asyncTransformer.transform(n,r,e,o),c=performance.now()-t;return i.logger.info(_,"[AsyncTransform]","end",`costTime: ${c}ms`),clearTimeout(i.transformTimeoutChecker),i.reportTransformSuccess(c,i.getTransformMatrix(n,r),o,!0),u}catch(n){throw clearTimeout(i.transformTimeoutChecker),i.handleTransformError(n,o),n}}))()}initWorker(){var n=this;return Object(t.a)((function*(){let r=null;try{if("undefined"==typeof Worker||u.default.isMobile)return!1;r=(yield Promise.all([e.e("commonAsync~9b1fde68"),e.e("commonAsync~27f19aac"),e.e("commonAsync~205ac551"),e.e("commonAsync~0c3a6025"),e.e("commonAsync~32e631b8"),e.e("commonAsync~08369118"),e.e("commonAsync~50db4bb8"),e.e("commonAsync~86c92fed"),e.e("commonAsync~a95f944a"),e.e("commonAsync~6e568190"),e.e("commonAsync~b174e5ca"),e.e("commonAsync~54a68610"),e.e("commonAsync~61b3c105"),e.e("commonAsync~f7b3ac00"),e.e("commonAsync~cece21d6"),e.e("commonAsync~ecbf7682"),e.e("commonAsync~6c5dfa7c"),e.e("commonAsync~90483627"),e.e("commonAsync~d2c096c2"),e.e("commonAsync~1285a477"),e.e("commonAsync~31ded9a0"),e.e("commonAsync~ecdbff9b"),e.e("commonAsync~c2cc425c"),e.e("commonAsync~4fb44df2"),e.e("commonAsync~d06fe423"),e.e("commonAsync~0519277e"),e.e("commonAsync~6df2b9ea"),e.e("commonAsync~b5c4f9e4"),e.e("commonAsync~ffdf5190"),e.e("commonAsync~127b6cf7"),e.e("commonAsync~b3c4a2ff"),e.e("commonAsync~19bb5a55"),e.e(30)]).then(e.bind(null,"8b35cb6239"))).default}catch(n){return!1}const t=performance.now();n.logger.info(_,"init worker start");const a=new r,c=new o.b(new i.a(a));c.register("RemoteLogger",n.createRemoteLogger());const s=c.service("WasmTransformerService");return yield s.init(),n.asyncTransformer=s,n.logger.info(_,"init worker end",`costTime: ${performance.now()-t}ms`),!0}))()}createRemoteLogger(){const n={};return["log","info","warn","error"].forEach((r=>{var e=this;n[r]=Object(t.a)((function*(...n){e.logger[r](...n)}))})),n}reportWeblog(){var n,r;const e=Date.now(),t=e-864e5;return null===(n=(r=this.logger).getPrototype)||void 0===n?void 0:n.call(r).report("OT_TRANSFORM_REPORT",{query:{startTs:t,endTs:e}}).value}splitErrorLog(n){const r=1024;if(n.length<1536)this.logger.error(_,n);else for(let e=0;e<n.length;e+=r)this.logger.error(_,"TransformErrorChunk",`[${e+r}/${n.length}]`,JSON.stringify(n.slice(e,e+r)))}getTransformMatrix(n,r){const e=n=>n.reduce(((n,{mutations:r=[]})=>n+r.length),0);return[e(n),e(r)]}constructor(n,r,e){this.logger=n,this.eventManager=r,this.docInfoManager=e;var i=this;this.initAsyncTransformer=s()(Object(t.a)((function*(){try{return yield i.initWorker()}catch(n){return i.logger.warn(`${_} failed to init worker, downgrade to sync transformer: ${Object(o.d)(n)}`),i.reportInitError(null==n?void 0:n.toString()),!1}})));var u=this;this.initSyncTransformer=s()(Object(t.a)((function*(){if(!u.supported){const n=`${_} WebAssembly is not supported`;throw u.logger.error(n),Error(n)}const n=new v;u.syncTransformer=n,yield n.init()}))),this.handleTransformError=(n,r)=>{const e=Object(o.d)(n);if(this.splitErrorLog(e),e.length>9e3){var t,i;const n=this.reportWeblog();var u;null===(i=this.logger.monitor)||void 0===i||null===(t=i.reportStatus)||void 0===t||t.call(i,"transform",1,null!=n?n:e,[r,null!==(u=this.docInfoManager.globalPadId)&&void 0!==u?u:""])}else{var c,s,l;null===(s=this.logger.monitor)||void 0===s||null===(c=s.reportStatus)||void 0===c||c.call(s,"transform",1,e,[r,null!==(l=this.docInfoManager.globalPadId)&&void 0!==l?l:""])}this.eventManager.emit(a.c.TransformError,r,e)},this.reportInitError=(n="")=>{var r,e,t;null===(e=this.logger.monitor)||void 0===e||null===(r=e.reportStatus)||void 0===r||r.call(e,"initWasm",1,n,[null!==(t="production")?t:window.__globalOfflinePkg&&"offline"])},this.reportTransformSuccess=(n,r,e,t=!1)=>{var o,i;null===(o=(i=this.logger).tdw)||void 0===o||o.call(i,{opername:"slide-base-sdk",module:"ot-transform",action:"cost-time",ver6:JSON.stringify({costTime:n,transformMatrix:r,source:e,async:t})})}}}}}]);
//# sourceMappingURL=slide-vendors~slide-sdk-ot-transform-2cf245.js.map