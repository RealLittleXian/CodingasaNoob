(this.webpackJsonp=this.webpackJsonp||[]).push([["commonAsync~ecbf7682"],{"048e2ab354":function(e,t,n){var r=n("5d9d6a023f").default,i=n("ad18632588");e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"0e9e589c07":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"10089e48fb":function(e,t,n){"use strict";var r=n("bdb17f6007");e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"10ffd6a39c":function(e,t,n){"use strict";var r=n("bdb17f6007");e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function c(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,i=t(e);r.isUndefined(i)&&t!==c||(n[e]=i)})),n}},"181cfa7011":function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},"191816261c":function(e,t,n){"use strict";var r=n("a83457f18b").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("44354cefa3")),o=.017453292519943295,a=function(e,t,n,r,i,o,a,s,c,u,l,p,h,f,d,m){this.elements=window.Float32Array?new Float32Array(16):[];var v=this.elements;v[0]=void 0!==e?e:1,v[4]=t||0,v[8]=n||0,v[12]=r||0,v[1]=i||0,v[5]=void 0!==o?o:1,v[9]=a||0,v[13]=s||0,v[2]=c||0,v[6]=u||0,v[10]=void 0!==l?l:1,v[14]=p||0,v[3]=h||0,v[7]=f||0,v[11]=d||0,v[15]=void 0!==m?m:1};a.prototype={set:function(e,t,n,r,i,o,a,s,c,u,l,p,h,f,d,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=c,v[6]=u,v[10]=l,v[14]=p,v[3]=h,v[7]=f,v[11]=d,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},multiplyMatrices:function(e,t){var n=e.elements,r=this.elements,i=n[0],o=n[4],a=n[8],s=n[12],c=n[1],u=n[5],l=n[9],p=n[13],h=n[2],f=n[6],d=n[10],m=n[14],v=n[3],b=n[7],g=n[11],y=n[15],x=t[0],w=t[1],_=t[2],O=t[3],j=t[4],E=t[5],C=t[6],M=t[7],S=t[8],k=t[9],A=t[10],T=t[11],N=t[12],D=t[13],I=t[14],L=t[15];return r[0]=i*x+o*j+a*S+s*N,r[4]=i*w+o*E+a*k+s*D,r[8]=i*_+o*C+a*A+s*I,r[12]=i*O+o*M+a*T+s*L,r[1]=c*x+u*j+l*S+p*N,r[5]=c*w+u*E+l*k+p*D,r[9]=c*_+u*C+l*A+p*I,r[13]=c*O+u*M+l*T+p*L,r[2]=h*x+f*j+d*S+m*N,r[6]=h*w+f*E+d*k+m*D,r[10]=h*_+f*C+d*A+m*I,r[14]=h*O+f*M+d*T+m*L,r[3]=v*x+b*j+g*S+y*N,r[7]=v*w+b*E+g*k+y*D,r[11]=v*_+b*C+g*A+y*I,r[15]=v*O+b*M+g*T+y*L,this},_rounded:function(e,t){return t=Math.pow(10,t||15),Math.round(e*t)/t},_arrayWrap:function(e){return window.Float32Array?new Float32Array(e):e},appendTransform:function(e,t,n,r,i,a,s,c,u,l,p,h,f,d){var m=s*o,v=this._rounded(Math.cos(m)),b=this._rounded(Math.sin(m)),g=c*o,y=this._rounded(Math.cos(g)),x=this._rounded(Math.sin(g)),w=u*o,_=this._rounded(Math.cos(-1*w)),O=this._rounded(Math.sin(-1*w));return this.multiplyMatrices(this,this._arrayWrap([1,0,0,e,0,v,b,t,0,-b,v,n,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([y,0,x,0,0,1,0,0,-x,0,y,0,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([_*r,O*i,0,0,-O*r,_*i,0,0,0,0,1*a,0,0,0,0,1])),(l||p)&&this.multiplyMatrices(this,this._arrayWrap([this._rounded(Math.cos(l*o)),this._rounded(Math.sin(l*o)),0,0,-1*this._rounded(Math.sin(p*o)),this._rounded(Math.cos(p*o)),0,0,0,0,1,0,0,0,0,1])),(h||f||d)&&(this.elements[12]-=h*this.elements[0]+f*this.elements[4]+d*this.elements[8],this.elements[13]-=h*this.elements[1]+f*this.elements[5]+d*this.elements[9],this.elements[14]-=h*this.elements[2]+f*this.elements[6]+d*this.elements[10]),this}};var s=function(e,t,n,r,i,o){return this.a=null==e?1:e,this.b=t||0,this.c=n||0,this.d=null==r?1:r,this.tx=i||0,this.ty=o||0,this};function c(e,t,n){Object.defineProperty(e,t,{get:function(){return this["_"+t]},set:function(e){this["_"+t]=e,n()}})}s.prototype={identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},appendTransform:function(e,t,n,r,i,a,s,c,u){if(i%360){var l=i*o;Math.cos(l),Math.sin(l)}else cos=1,sin=0;return a||s?(a*=o,s*=o,this.append(Math.cos(s),Math.sin(s),-Math.sin(a),Math.cos(a),e,t),this.append(cos*n,sin*n,-sin*r,cos*r,0,0)):this.append(cos*n,sin*n,-sin*r,cos*r,e,t),(c||u)&&(this.tx-=c*this.a+u*this.c,this.ty-=c*this.b+u*this.d),this},append:function(e,t,n,r,i,o){var a=this.a,s=this.b,c=this.c,u=this.d;return this.a=e*a+t*c,this.b=e*s+t*u,this.c=n*a+r*c,this.d=n*s+r*u,this.tx=i*a+o*c+this.tx,this.ty=i*s+o*u+this.ty,this},initialize:function(e,t,n,r,i,o){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this},setValues:function(e,t,n,r,i,o){return this.a=null==e?1:e,this.b=t||0,this.c=n||0,this.d=null==r?1:r,this.tx=i||0,this.ty=o||0,this},copy:function(e){return this.setValues(e.a,e.b,e.c,e.d,e.tx,e.ty)}};var u=function(e,t){if(!e.___mixCSS3Transform){var n,r=["translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ"],o=(n=e,"object"===("undefined"==typeof HTMLElement?"undefined":(0,i.default)(HTMLElement))?n instanceof HTMLElement:n&&"object"===(0,i.default)(n)&&null!==n&&1===n.nodeType&&"string"==typeof n.nodeName);t||r.push("perspective"),e.___mixCSS3Transform=!0,function(e,t,n){for(var r=0,i=t.length;r<i;r++)c(e,t[r],n)}(e,r,(function(){var n=e.matrix3d.identity().appendTransform(e.translateX,e.translateY,e.translateZ,e.scaleX,e.scaleY,e.scaleZ,e.rotateX,e.rotateY,e.rotateZ,e.skewX,e.skewY,e.originX,e.originY,e.originZ),r=(t?"":"perspective("+e.perspective+"px) ")+"matrix3d("+Array.prototype.slice.call(n.elements).join(",")+")";o?e.style.transform=e.style.msTransform=e.style.OTransform=e.style.MozTransform=e.style.webkitTransform=r:e.transform=r})),e.matrix3d=new a,t||(e.perspective=500),e.scaleX=e.scaleY=e.scaleZ=1,e.translateX=e.translateY=e.translateZ=e.rotateX=e.rotateY=e.rotateZ=e.skewX=e.skewY=e.originX=e.originY=e.originZ=0}};u.prototype={getMatrix3D:function(e){var t={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0,originX:0,originY:0,originZ:0,scaleX:1,scaleY:1,scaleZ:1};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return(new a).identity().appendTransform(t.translateX,t.translateY,t.translateZ,t.scaleX,t.scaleY,t.scaleZ,t.rotateX,t.rotateY,t.rotateZ,t.skewX,t.skewY,t.originX,t.originY,t.originZ).elements},getMatrix2D:function(e){var t={translateX:0,translateY:0,rotation:0,skewX:0,skewY:0,originX:0,originY:0,scaleX:1,scaleY:1};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return(new s).identity().appendTransform(t.translateX,t.translateY,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.originX,t.originY)}};var l=u;t.default=l},"1c071a75a8":function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},"1e3871ee13":function(e,t,n){var r=n("d001ecb324");e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},"1e71453bc5":function(e,t,n){var r=n("44354cefa3").default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"20fceb9f61":function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},"21c31079d6":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("d7c625d1f2"),i=n("9fb5ff8c6f"),o=n("3ef9dd4b93"),a=function(){function e(e,t,n,r){var i,a=this;this.mode=e,this.proxyCursor=t,this.direction=n,this.engineAspects=r,this.delete=void 0,this.update=void 0,e!==o.i.READ_ONLY&&(this.delete=function(){return a.getProxyCursorWithMode().delete()},this.update=function(e){return a.getProxyCursorWithMode().update(e)}),(null===(i=this.engineAspects)||void 0===i?void 0:i.cursor)&&this.applyAspectPatch()}return e.prototype[Symbol.asyncIterator]=function(){return new s(this)},e.prototype.next=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.proxyCursor.continue()];case 1:return(e=t.sent())?(this.proxyCursor=e,[2,this]):[2,null]}}))}))},e.prototype.value=function(){return this.proxyCursor.value},e.prototype.getProxyCursorWithMode=function(){return this.proxyCursor},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.cursor;if(this.mode!==o.i.READ_ONLY){null==t||t.delete.patch(this,"delete"),null==t||t.update.patch(this,"update")}null==t||t.next.patch(this,"next"),null==t||t.value.patch(this,"value")},e}(),s=function(){function e(e){this.currentCursor=e}return e.prototype[Symbol.asyncIterator]=function(){return this},e.prototype.next=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.currentCursor?(e=this.currentCursor.value(),t=this,[4,this.currentCursor.next()]):[2,{value:void 0,done:!0}];case 1:return t.currentCursor=n.sent(),[2,{value:e,done:!1}]}}))}))},e}(),c=function(){function e(e,t,n,r){this.table=e,this.proxyIndex=t,this.mode=n,this.engineAspects=r,this.name=t.name,this.keyPath=t.keyPath,this.unique=t.unique,(null==r?void 0:r.index)&&this.applyAspectPatch()}return e.prototype.getAll=function(e){return this.proxyIndex.getAll(e)},e.prototype.getAllKeys=function(e,t){return this.proxyIndex.getAllKeys(e,t)},e.prototype.get=function(e){return this.proxyIndex.get(e)},e.prototype.openCursor=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.proxyIndex.openCursor(e,t)];case 1:return(n=r.sent())?[2,new a(this.mode,n,null!=t?t:"next")]:[2,null]}}))}))},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.index,n=this;null==t||t.get.patch(n,"get"),null==t||t.getAll.patch(n,"getAll"),null==t||t.getAllKeys.patch(n,"getAllKeys"),null==t||t.openCursor.patch(n,"openCursor")},e}(),u=function(){function e(e,t,n,i){this.mode=e,this.objectStore=t,this.engineAspects=n,this.transaction=i,this.createIndex=void 0,this.delete=void 0,this.bulkDelete=void 0,this.clear=void 0,this.insert=void 0,this.upsert=void 0,this.deleteIndex=void 0,this.bulkUpsert=void 0,this.keyPath=t.keyPath,this.autoIncrement=t.autoIncrement,this.tableName=t.name,this.indexNames=Object(r.__spreadArray)([],Object(r.__read)(t.indexNames)),this.initWriteFun(e),(null==n?void 0:n.table)&&this.applyAspectPatch()}return e.prototype.query=function(){throw new Error("query Method is not support for IDB.")},e.prototype.supports=function(e){return!["query","bulkDelete"].includes(e)},e.prototype.index=function(e){var t=this.objectStore.index(e);return new c(this,t,this.mode,this.engineAspects)},e.prototype.getAll=function(e){return this.objectStore.getAll(e)},e.prototype.getAllKeys=function(e,t){return this.objectStore.getAllKeys(e,t)},e.prototype.get=function(e){var t;return null!==(t=this.objectStore.get(e))&&void 0!==t?t:null},e.prototype.openCursor=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.objectStore.openCursor(e,t)];case 1:return(n=r.sent())?[2,new a(this.mode,n,null!=t?t:"next")]:[2,null]}}))}))},e.prototype.initWriteFun=function(e){var t=this;e===o.i.VERSION_CHANGE&&(this.createIndex=this.createIndexFun,this.deleteIndex=function(e){return t.getProxyObjectStoreWithMode().deleteIndex(e)}),e!==o.i.READ_ONLY&&(this.delete=function(e){return t.getProxyObjectStoreWithMode().delete(e)},this.bulkDelete=function(e){throw new Error("bulkDelete Method is not support for IDB.")},this.clear=function(){return t.getProxyObjectStoreWithMode().clear()},this.insert=function(e){return t.getProxyObjectStoreWithMode().add(e)},this.upsert=function(e){return t.getProxyObjectStoreWithMode().put(e)},this.bulkUpsert=function(e){var n=t.getProxyObjectStoreWithMode(),r=e.reduce((function(e,t){return e.push(n.put(t)),e}),[]);return Promise.all(r)})},e.prototype.createIndexFun=function(e,t,n){var r=this.getProxyObjectStoreWithMode();return new c(this,r.createIndex(e,t,n),this.mode)},e.prototype.getProxyObjectStoreWithMode=function(){return this.objectStore},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.table;if(this.mode===o.i.READ_ONLY)return null==t||t.get.patch(this,"get"),null==t||t.getAll.patch(this,"getAll"),null==t||t.getAllKeys.patch(this,"getAllKeys"),null==t||t.index.patch(this,"index"),void(null==t||t.openCursor.patch(this,"openCursor"));this.mode===o.i.VERSION_CHANGE&&(null==t||t.createIndex.patch(this,"createIndex"),null==t||t.deleteIndex.patch(this,"deleteIndex")),null==t||t.delete.patch(this,"delete"),null==t||t.insert.patch(this,"insert"),null==t||t.upsert.patch(this,"upsert"),null==t||t.bulkUpsert.patch(this,"bulkUpsert"),null==t||t.clear.patch(this,"clear")},e}(),l=function(){function e(e,t){this.proxyTransaction=e,this.engineAspects=t,this.tables=e.objectStoreNames,this.mode=e.mode,(null==t?void 0:t.transaction)&&this.applyAspectPatch()}return e.prototype.table=function(e){var t=this.proxyTransaction.objectStore(e);return new u(this.mode,t,this.engineAspects,this)},e.prototype.commit=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.proxyTransaction.done];case 1:return e.sent(),[3,3];case 2:return e.sent(),[2,!1];case 3:return[2,!0]}}))}))},e.prototype.rollback=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,1,,6]),this.proxyTransaction.abort(),[3,6];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.proxyTransaction.done];case 3:return e.sent(),[3,5];case 4:return e.sent(),[2,!0];case 5:return[2,!1];case 6:return[2,!0]}}))}))},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspects)||void 0===e?void 0:e.transaction,n=this;null==t||t.commit.patch(n,"commit"),null==t||t.rollback.patch(n,"rollback"),null==t||t.table.patch(n,"table")},e}(),p=function(){function e(e,t){this.idbDatabase=e,this.engineAspect=t,this.name=e.name,this.version=e.version,this.tableNames=Object(r.__spreadArray)([],Object(r.__read)(e.objectStoreNames)),this.engineAspect&&this.applyAspectPatch()}return e.prototype.setVersionChangeListener=function(e){this.idbDatabase.addEventListener("versionchange",(function(t){e(t.oldVersion,t.newVersion)}))},e.prototype.close=function(){this.idbDatabase.close()},e.prototype.createTable=function(e,t){var n=this.idbDatabase.createObjectStore(e,t);return new u(o.i.VERSION_CHANGE,n)},e.prototype.deleteTable=function(e){this.idbDatabase.deleteObjectStore(e)},e.prototype.transaction=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){return n=this.idbDatabase.transaction(e,t),[2,new l(n,this.engineAspect)]}))}))},e.prototype.table=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o;return Object(r.__generator)(this,(function(r){return n=this.idbDatabase.transaction([e],t),i=new l(n),o=n.objectStore(e),[2,new u(t,o,this.engineAspect,i)]}))}))},e.prototype.applyAspectPatch=function(){var e,t=null===(e=this.engineAspect)||void 0===e?void 0:e.database;null==t||t.deleteTable.patch(this,"deleteTable"),null==t||t.createTable.patch(this,"createTable"),null==t||t.transaction.patch(this,"transaction"),null==t||t.table.patch(this,"table"),null==t||t.close.patch(this,"close")},e}();var h=function(e,t){var n=typeof e,r=typeof t;if(isNaN(e)||isNaN(t))return indexedDB.cmp(e,t);if(n===r){if("number"===n||"bigint"===n)return e-t;if("string"===n)return function(e,t){return e<t?-1:+(e>t)}(e,t)}return e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():indexedDB.cmp(e,t)},f=n("b3f41acbca").a.withDefaultMessage("IndexedDB is missing in global context. Consider using `indexeddbshim` for better compatibility or `fake-indexeddb` in your test environment."),d=function(){function e(){if("undefined"==typeof indexedDB)throw new f;this.cmp=h}return e.prototype.deleteDB=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,i.a(e)]}))}))},e.prototype.setAspects=function(e){this.engineAspects=e,this.engineAspects.openDB.patch(this,"openDB"),this.engineAspects.deleteDB.patch(this,"deleteDB")},e.prototype.openDB=function(e,t,n,o){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,a=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,i.b(e,n,{upgrade:function(e,t,n,r){var i;null===(i=null==o?void 0:o.upgrade)||void 0===i||i.call(o,new p(e,a.engineAspects),t,n,new l(r))},blocked:function(){var e;return null===(e=null==o?void 0:o.blocked)||void 0===e?void 0:e.call(o)},blocking:function(){var e;return null===(e=null==o?void 0:o.blocking)||void 0===e?void 0:e.call(o)},terminated:function(){var e;return null===(e=null==o?void 0:o.terminated)||void 0===e?void 0:e.call(o)}})];case 1:return t=r.sent(),[2,new p(t,this.engineAspects)]}}))}))},e}()},"233c6d433a":function(e,t,n){var r=n("5d9d6a023f").default;function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",p=c.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof x?t:x,o=Object.create(i.prototype),a=new D(r||[]);return s(o,"_invoke",{value:k(e,n,a)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",v="suspendedYield",b="executing",g="completed",y={};function x(){}function w(){}function _(){}var O={};h(O,u,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(I([])));E&&E!==o&&a.call(E,u)&&(O=E);var C=_.prototype=x.prototype=Object.create(O);function M(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,s,c){var u=d(e[i],e,o);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==r(p)&&a.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var i;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var i=m;return function(o,a){if(i===b)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=b;var u=d(e,n,r);if("normal"===u.type){if(i=r.done?g:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=g,r.method="throw",r.arg=u.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=_,s(C,"constructor",{value:_,configurable:!0}),s(_,"constructor",{value:w,configurable:!0}),w.displayName=h(_,p,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,h(e,p,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},M(S.prototype),h(S.prototype,l,(function(){return this})),n.AsyncIterator=S,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new S(f(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},M(C),h(C,p,"Generator"),h(C,u,(function(){return this})),h(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},"24db6323dd":function(e,t,n){"use strict";var r=n("bdb17f6007");function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},"272122105c":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"291c252218":function(e,t,n){"use strict";n.r(t),n.d(t,"MobileMenuState",(function(){return m})),n.d(t,"default",(function(){return g})),n.d(t,"getMenuRef",(function(){return O})),n.d(t,"hideMenu",(function(){return _})),n.d(t,"isShown",(function(){return j})),n.d(t,"showMenu",(function(){return w}));var r=n("69084d01d3"),i=n.n(r),o=n("2e0796c118"),a=n.n(o),s=n("5a1564ed4b"),c=n.n(s),u=n("4adff5c52a"),l=n.n(u),p=n("4f3b15d017"),h=n("a923938bb8");function f(){var e,t,n,r;const i=(null===(t=null===(e=window.basicClientVars)||void 0===e?void 0:e.docInfo)||void 0===t?void 0:t.personalizeInfo)||(null===(n=null===window||void 0===window?void 0:window.clientVars)||void 0===n?void 0:n.personalizeInfo);return(null===(r=null==i?void 0:i.titleColor)||void 0===r?void 0:r.color)||""}function d(e){if(e.isSubMenu)return i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar mobile-menu-panel-v2-title-bar-submenu"},i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-submenu-back",onClick:e.onPop}),i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-submenu-title"},e.title));if(!e.show)return null;const{title:t,titleTag:n,tags:r,icon:o,iconClass:a,customElement:s,onClick:c}=e;return i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar",onClick:t=>{var n;try{null==c||c(t)}finally{t.isDefaultPrevented()||null===(n=e.onClose)||void 0===n||n.call(e,t)}}},o instanceof Object?i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-icon"},o):i.a.createElement("div",{className:`mobile-menu-panel-v2-title-bar-icon ${null!=a?a:""}`,style:o?{backgroundImage:`url(${o})`}:{}}),i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-rows"},i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-row"},i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-title",style:{color:f()}},t),i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-pusher"}),!!s&&i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-elements"},s),i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-close",onClick:e.onClose},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.722 16.72c.37-.37.37-.994.007-1.357l-3.36-3.359 3.36-3.366a.975.975 0 0 0-.007-1.357.968.968 0 0 0-1.357-.007l-3.366 3.359-3.367-3.366c-.348-.349-.986-.363-1.356.007-.37.37-.363 1.008-.008 1.364l3.367 3.366-3.367 3.366c-.355.349-.362.987.008 1.357s1.008.355 1.356.007L12 13.368l3.366 3.359a.968.968 0 0 0 1.357-.007Z",fill:"currentColor"})))),(null!=r?r:n)&&i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-row"},null==r?void 0:r.map(((e,t)=>i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-tag",key:`tag-${t}`},e))),n&&i.a.createElement("div",{className:"mobile-menu-panel-v2-title-bar-title-tag"},n))))}class m{constructor(){this.submenuStack=[],this.parentMenuHeightStack=[],this.groups=[],this.resetFlag=0}}class v extends r.Component{constructor(){super(...arguments),this.mask=i.a.createRef(),this.state={isShown:!1},this.handleTapOrClickMask=e=>{const t=this.mask.current;e.target===t&&"touchcancel"!==e.type&&(this.hide(),e.stopPropagation(),e.preventDefault())},this.show=()=>{var e,t;this.setState({isShown:!0}),null===(t=(e=this.props).onShow)||void 0===t||t.call(e,this)},this.hide=()=>{this.hidePanel()},this.hidePanel=()=>{var e,t;return null===(t=(e=this.props).onHide)||void 0===t||t.call(e,this),this.setState({isShown:!1}),new Promise((e=>{setTimeout((()=>{var t;(null===(t=this.mask.current)||void 0===t?void 0:t.parentElement)&&a.a.unmountComponentAtNode(this.mask.current.parentElement),e()}),300)}))}}componentDidMount(){const e=this.mask.current;e.addEventListener("contextmenu",(e=>e.preventDefault())),e.addEventListener("click",this.handleTapOrClickMask),this.show()}render(){const{className:e="",style:t={},isBackgroundBlur:n,preferredHeight:r}=this.props,o=Object.assign(Object.assign({},t),{transform:`translateY(-${r}px)`});return i.a.createElement("div",{className:"mobile-pull-panel-v2-mask mobile-pull-panel-v2-static "+(this.state.isShown?"":"mobile-pull-panel-v2-hidden"),ref:this.mask},i.a.createElement("div",{className:`mobile-pull-panel-v2 ${n?"mobile-pull-panel-v2-blur ":""}${e||""}`,style:o},i.a.createElement("div",{className:"mobile-pull-panel-v2-children-wrapper"},this.props.children)))}}const{isAndroid:b}=p.default;class g extends r.Component{constructor(){super(...arguments),this.panelInstance=i.a.createRef(),this.state=new m,this.show=!1,this.pushSubmenu=e=>{var t;const n=null===(t=this.panelInstance.current)||void 0===t?void 0:t.value;this.setState({submenuStack:[...this.state.submenuStack,e],parentMenuHeightStack:[...this.state.parentMenuHeightStack,n]},(()=>{var e,t;null===(t=null===(e=this.panelInstance.current)||void 0===e?void 0:e.reset)||void 0===t||t.call(e,n),this.onSubMenuShow()}))},this.popSubmenu=()=>{const e=this.state.parentMenuHeightStack.slice(-1)[0];this.setState({submenuStack:this.state.submenuStack.slice(0,-1),parentMenuHeightStack:this.state.parentMenuHeightStack.slice(0,-1)},(()=>{var t,n;null===(n=null===(t=this.panelInstance.current)||void 0===t?void 0:t.reset)||void 0===n||n.call(t,e)}))},this.popAllSubmenus=()=>{this.setState({submenuStack:[]})},this.changeTab=(e,t=!0)=>{var n,r,i,o,a,s;const c=parseInt(e,10),u=null===(n=this.props.tabs)||void 0===n?void 0:n[c];this.setState({groups:null!==(i=null!==(r=null==u?void 0:u.groups)&&void 0!==r?r:this.props.groups)&&void 0!==i?i:[],resetFlag:this.state.resetFlag+1}),t&&(null===(a=null===(o=this.panelInstance.current)||void 0===o?void 0:o.reset)||void 0===a||a.call(o)),null===(s=null==u?void 0:u.onActive)||void 0===s||s.call(u)},this.renderTitle=()=>{var e,t;let n="";const r=this.state.submenuStack.length>0;return n=r?this.state.submenuStack.slice(-1)[0].title:null===(e=this.props.titleBar)||void 0===e?void 0:e.title,this.props.tabs&&!r?i.a.createElement(h.Tabs,{onChange:this.changeTab,defaultActiveId:`${this.defaultTabIndex}`,style:{background:"transparent"},tabBarStyle:{paddingLeft:8},tabBarItemStyle:{paddingLeft:0,paddingRight:0,marginRight:16,marginLeft:16,fontSize:16},indicatorStyle:{background:"#1F1F1F"},indicatorWidth:24,activeItemStyle:{color:"#000000",fontWeight:600},alignment:"left",tabBarAdditionalContent:this.props.showCloseButton?i.a.createElement("div",{className:"mobile-menu-panel-v2-tab-close",onClick:e=>{e.stopPropagation(),this.hidePanel()}},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M16.722 16.72c.37-.37.37-.994.007-1.357l-3.36-3.359 3.36-3.366a.975.975 0 0 0-.007-1.357.968.968 0 0 0-1.357-.007l-3.366 3.359-3.367-3.366c-.348-.349-.986-.363-1.356.007-.37.37-.363 1.008-.008 1.364l3.367 3.366-3.367 3.366c-.355.349-.362.987.008 1.357s1.008.355 1.356.007L12 13.368l3.366 3.359a.968.968 0 0 0 1.357-.007Z",fill:"currentColor"}))):null},this.props.tabs.map(((e,t)=>i.a.createElement(h.Tabs.TabPane,{tab:e.label,id:`${t}`,key:t})))):i.a.createElement(d,Object.assign({},null!==(t=this.props.titleBar)&&void 0!==t?t:{},{title:n,isSubMenu:r,show:!!this.props.titleBar,onClose:e=>{e.stopPropagation(),this.hidePanel()},onPop:this.popSubmenu}))},this.renderItem=(e,t)=>{var n,r,o;const a=null!==(n=this.props.longTapTime)&&void 0!==n?n:1500;return i.a.createElement("div",{className:`mobile-menu-panel-v2-item ${e.isHighlight?"mobile-menu-panel-v2-item-highlight ":""}${null!==(r=e.className)&&void 0!==r?r:""}${e.isDisabled?" mobile-menu-panel-v2-item-disabled":""}${e.isSolid?" mobile-menu-panel-v2-item-solid":""}`,key:`mobile-menu-panel-v2-item-${this.state.resetFlag}-${t}`,onTouchStart:t=>{const n=t.target,r=t.touches[0];n.touchX=r.clientX,n.touchY=r.clientY,n.touchT=Date.now(),n.longTapTick=setTimeout((()=>{var n;try{e.onLongTap&&e.onLongTap(t)}finally{null===(n=this.panelInstance.current)||void 0===n||n.hide(),this.dispatchMobileMenuStateChangeEvent(!0)}}),a)},onTouchMove:e=>{const t=e.target,n=e.touches[0],r=n.clientX,i=n.clientY;(Math.abs(i-t.touchY)>10||Math.abs(r-t.touchX)>10)&&clearTimeout(t.longTapTick)},onTouchEnd:e=>{const t=e.target;clearTimeout(t.longTapTick)},onClick:t=>{if(!e.isDisabled){if(e.submenu)return this.pushSubmenu(e);try{e.onClick&&e.onClick(t)}finally{t.isDefaultPrevented()||setTimeout((()=>{var e;null===(e=this.panelInstance.current)||void 0===e||e.hide(),this.dispatchMobileMenuStateChangeEvent(!0)}),100)}}}},e.icon instanceof Object?i.a.createElement("div",{className:"mobile-menu-panel-v2-item-icon"},e.icon):i.a.createElement("div",{className:`mobile-menu-panel-v2-item-icon ${null!==(o=e.iconClass)&&void 0!==o?o:""}`,style:e.icon?{backgroundImage:`url(${e.icon})`}:{}}),i.a.createElement("div",{className:"mobile-menu-panel-v2-item-title"},e.title),e.redpoint?i.a.createElement("div",{className:"mobile-menu-panel-v2-item-redpoint "+(!0===e.redpoint?"":"mobile-menu-panel-v2-item-redpoint-with-text")},!0!==e.redpoint&&("number"==typeof e.redpoint?Math.round(e.redpoint):e.redpoint)):null,i.a.createElement("div",{className:"mobile-menu-panel-v2-item-spacing"}),e.tip&&i.a.createElement("div",{className:"mobile-menu-panel-v2-item-tip"},e.tip),e.isVipOnly&&i.a.createElement("div",{className:"mobile-menu-panel-v2-item-vip"}),e.customElement)},this.renderIntroduction=()=>{var e;const t=null===(e=this.props.titleBar)||void 0===e?void 0:e.introduction;return t?i.a.createElement("div",{className:"mobile-menu-panel-introduction"},t):null},this.renderContent=e=>{if(this.state.submenuStack.length){const e=this.state.submenuStack.slice(-1)[0];return i.a.createElement("div",{className:"mobile-menu-panel-v2-group mobile-menu-panel-v2-group-submenu"},e.submenu.filter((e=>!1!==e.condition)).map(this.renderItem))}const t=e.map((e=>e.items.filter((e=>!1!==e.condition)).length)).reduce(((e,t)=>e+t),0);return i.a.createElement("div",{className:"mobile-menu-panel-v2-content"},e.map(((e,n)=>{const r=(e.items||[]).filter((e=>!1!==e.condition));if(!r.length)return null;const{showType:o="normal"}=e;let a=o;return(t<=4||1===r.length)&&"horizontal"===o&&(a="normal"),r.length>4&&"horizontal"===o?i.a.createElement("div",{key:`group-${n}`,className:"mobile-menu-panel-v2-group mobile-menu-panel-v2-group-mixed"},i.a.createElement("div",{className:"mobile-menu-panel-v2-group mobile-menu-panel-v2-group-horizontal"},r.slice(0,4).map(this.renderItem)),i.a.createElement("div",{className:"mobile-menu-panel-v2-group mobile-menu-panel-v2-group-normal"},r.slice(4).map(this.renderItem))):i.a.createElement("div",{className:`mobile-menu-panel-v2-group mobile-menu-panel-v2-group-${a}`,key:`group-${n}`},r.map(this.renderItem))})))},this.onColorChange=()=>{setTimeout((()=>this.forceUpdate()),100)},this.withContainer=e=>{const t=this.props.showPullHandle?{height:"auto"}:{height:this.props.preferredHeight};return b?i.a.createElement("div",{className:"mobile-menu-panel-v2",style:t},e):i.a.createElement(l.a,null,i.a.createElement("div",{className:"mobile-menu-panel-v2",style:t},e))},this.render=()=>{const e=!!this.state.submenuStack.length,t=this.props.showPullHandle?c.a:v;return i.a.createElement(t,{isBackgroundBlur:!b,className:[e?"mobile-menu-panel-v2-submenu-container":"mobile-menu-panel-v2-main-container","mobile-menu-panel-v2-handleless"].join(" "),style:this.props.style,ref:this.panelInstance,onShow:this.onMenuShow,preferredHeight:this.props.preferredHeight,onHide:()=>{this.dispatchMobileMenuStateChangeEvent(!0)}},this.withContainer(i.a.createElement(i.a.Fragment,null,this.renderTitle(),this.renderIntroduction(),this.renderContent(this.state.groups))))},this.hidePanel=()=>{var e;(null===(e=this.panelInstance)||void 0===e?void 0:e.current)&&(this.panelInstance.current.hide(),this.dispatchMobileMenuStateChangeEvent(!0))},this.isShown=()=>this.show,this.onHide=()=>{this.show=!1},this.onSubMenuShow=()=>{if(!!this.state.submenuStack.length){this.state.submenuStack.slice(-1)[0].submenu.filter((e=>!1!==e.condition)).forEach((e=>{"function"==typeof e.onShow&&e.onShow()}))}},this.onMenuShow=()=>{this.show=!0,this.changeTab(`${this.defaultTabIndex}`,!1),this.state.groups.forEach((e=>{e.items&&e.items.forEach((e=>{!1!==e.condition&&"function"==typeof e.onShow&&e.onShow()}))}))},this.dispatchMobileMenuStateChangeEvent=e=>{document.dispatchEvent(new CustomEvent("MobileMenuStateChanged",{detail:{isHide:e}})),this.onHide()}}componentDidMount(){var e;null===(e=window.mqq)||void 0===e||e.addEventListener("setPersonalizedColor",this.onColorChange)}componentWillUnmount(){var e;null===(e=window.mqq)||void 0===e||e.removeEventListener("setPersonalizedColor",this.onColorChange)}get defaultTabIndex(){var e,t;return Math.max(null!==(t=null===(e=this.props.tabs)||void 0===e?void 0:e.findIndex((e=>e.label===this.props.defaultTab)))&&void 0!==t?t:0,0)}}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".mobile-menu-panel-v2-main-container {\n  background-color: #f9fafb;\n}\n.mobile-menu-panel-v2 {\n  padding-bottom: 10px;\n  color: rgba(0, 0, 0, 0.88);\n  line-height: normal;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  font-family: 'PingFang SC', 'Microsoft YaHei', 'Segoe UI', sans-serif;\n  display: flex;\n  flex-direction: column;\n}\n@media (min-width: 640px) {\n  .mobile-menu-panel-v2 {\n    padding-bottom: 10px;\n  }\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar {\n  position: relative;\n  padding: 16px 16px 12px 16px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-icon {\n  width: 24px;\n  height: 24px;\n  margin: 0 8px 0 0;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: contain;\n  flex-shrink: 0;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 1 0;\n  min-width: 0;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row:not(:last-child) {\n  margin-bottom: 4px;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-title {\n  font-size: 17px;\n  font-weight: 500;\n  flex: 0 1 auto;\n  line-height: 24px;\n  height: auto !important;\n  min-width: 0;\n  margin-bottom: 0 0 4px 0;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  -webkit-box-orient: vertical;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-pusher {\n  width: 24px;\n  margin: 0 auto;\n  flex-shrink: 0;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-elements {\n  min-width: 24px;\n  flex-shrink: 0;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-elements + .mobile-menu-panel-v2-title-bar-close {\n  margin-left: 33px;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-elements + .mobile-menu-panel-v2-title-bar-close::before {\n  content: '';\n  position: absolute;\n  left: -16px;\n  width: 1px;\n  height: 24px;\n  background-color: rgba(0, 0, 0, 0.16);\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-close {\n  width: 24px;\n  height: 24px;\n  background-color: #cbcdd166;\n  border-radius: 50%;\n  color: #81868F;\n  flex-shrink: 0;\n  position: relative;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-title-tag {\n  font-size: 11px;\n  font-weight: 500;\n  line-height: 12px;\n  margin: 0 8px 0 17px;\n  color: rgba(0, 0, 0, 0.32);\n  border: 1px solid rgba(0, 0, 0, 0.24);\n  padding: 0 5px;\n  border-radius: 13px;\n  box-sizing: border-box;\n  white-space: nowrap;\n  position: relative;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-title-tag::before {\n  content: '';\n  position: absolute;\n  left: -10px;\n  top: 50%;\n  width: 1px;\n  height: 10px;\n  background: rgba(0, 0, 0, 0.16);\n  transform: translateY(-5px);\n  transform-origin: left center;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-spacing {\n  flex: 1 1 0;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-tag {\n  color: rgba(0, 0, 0, 0.4);\n  font-size: 12px;\n  line-height: 16px;\n  position: relative;\n  box-sizing: border-box;\n  flex-shrink: 0;\n  max-width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-tag:first-child {\n  flex-shrink: 1;\n  min-width: 0;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-tag + .mobile-menu-panel-v2-title-bar-tag {\n  padding-left: 17px;\n  position: relative;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar .mobile-menu-panel-v2-title-bar-rows .mobile-menu-panel-v2-title-bar-row .mobile-menu-panel-v2-title-bar-tag + .mobile-menu-panel-v2-title-bar-tag::before {\n  content: '';\n  position: absolute;\n  left: 8px;\n  top: 50%;\n  width: 1px;\n  height: 10px;\n  background: rgba(0, 0, 0, 0.16);\n  transform: translateY(-5px);\n  transform-origin: left center;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background: rgba(0, 0, 0, 0.08);\n  transform: scaleY(0.5);\n  transform-origin: bottom center;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar.mobile-menu-panel-v2-title-bar-submenu {\n  padding: 16px;\n  align-items: center;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar.mobile-menu-panel-v2-title-bar-submenu .mobile-menu-panel-v2-title-bar-submenu-back {\n  width: 24px;\n  height: 24px;\n  margin-right: 8px;\n  background-image: url(\"data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M21.913 34L24 31.9 12.174 20 24 8.1 21.913 6 8 20l2.087 2.1L21.913 34z' fill='%23464D5A' fill-rule='evenodd'/%3E%3C/svg%3E\");\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar.mobile-menu-panel-v2-title-bar-submenu .mobile-menu-panel-v2-title-bar-submenu-title {\n  height: 22px;\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 22px;\n  color: rgba(0, 0, 0, 0.88);\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-tab-close {\n  height: 24px;\n  width: 24px;\n  position: absolute;\n  right: 16px;\n  top: 8px;\n  background-color: #cbcdd166;\n  border-radius: 50%;\n  color: #81868F;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item {\n  position: relative;\n  padding: 14px 16px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n@keyframes highlight-pulse {\n  0% {\n    background: #edf3ff;\n  }\n  90% {\n    background: #edf3ff;\n  }\n  100% {\n    background: #ffffff;\n  }\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item.mobile-menu-panel-v2-item-highlight {\n  animation-name: highlight-pulse;\n  animation-duration: 3s;\n  animation-fill-mode: forwards;\n  animation-iteration-count: 1;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item.mobile-menu-panel-v2-item-disabled {\n  pointer-events: none;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item.mobile-menu-panel-v2-item-disabled > * {\n  opacity: 0.4;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-icon {\n  width: 24px;\n  height: 24px;\n  margin-right: 8px;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: contain;\n  flex-shrink: 0;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-title {\n  font-size: 16px;\n  font-weight: 400;\n  flex: 0 0 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  min-width: 0;\n  line-height: 22px;\n  height: 22px;\n  color: rgba(0, 0, 0, 0.88);\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-redpoint {\n  padding: 3px;\n  color: #fff;\n  font-size: 12px;\n  line-height: 1em;\n  background: #ef4e2f;\n  border-radius: 10px;\n  margin-left: 7px;\n  flex-shrink: 0;\n  text-align: center;\n  box-sizing: border-box;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-redpoint.mobile-menu-panel-v2-item-redpoint-with-text {\n  padding: 3px 6px;\n  min-width: 18px;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-spacing {\n  flex: 1 1 0;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-tip {\n  font-size: 16px;\n  margin-left: 7px;\n  position: relative;\n  box-sizing: border-box;\n  min-width: 0;\n  text-align: right;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: rgba(0, 0, 0, 0.4);\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-vip {\n  background: url(\"data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22 width%3D%2238%22 height%3D%2216%22 viewBox%3D%220 0 38 16%22%3E    %3Cdefs%3E        %3ClinearGradient id%3D%221cghy0sk2b%22 x1%3D%2219.777%25%22 x2%3D%2278.368%25%22 y1%3D%2218%25%22 y2%3D%2261.96%25%22%3E            %3Cstop offset%3D%2213%25%22 stop-color%3D%22%23E4BD80%22%2F%3E            %3Cstop offset%3D%2257%25%22 stop-color%3D%22%23F6DDB1%22%2F%3E            %3Cstop offset%3D%22100%25%22 stop-color%3D%22%23E4C594%22%2F%3E        %3C%2FlinearGradient%3E        %3ClinearGradient id%3D%22kk6p11fslc%22 x1%3D%2219.042%25%22 x2%3D%2272.953%25%22 y1%3D%2272.302%25%22 y2%3D%2217.309%25%22%3E            %3Cstop offset%3D%2230%25%22 stop-color%3D%22%23DB8F1C%22%2F%3E            %3Cstop offset%3D%2254%25%22 stop-color%3D%22%23DEA035%22%2F%3E            %3Cstop offset%3D%2288%25%22 stop-color%3D%22%23D7922A%22%2F%3E        %3C%2FlinearGradient%3E        %3Cpath id%3D%22yxvwxcu0xa%22 d%3D%22M3.25 0L0 3.346 6.5 10.035 13 3.344 9.75 0z%22%2F%3E    %3C%2Fdefs%3E    %3Cg fill%3D%22none%22 fill-rule%3D%22evenodd%22%3E        %3Cg%3E            %3Cg%3E                %3Cg%3E                    %3Cg%3E                        %3Cg transform%3D%22translate(-317 -383) translate(0 279) translate(16 100) translate(237) translate(64 4)%22%3E                            %3Crect width%3D%2238%22 height%3D%2216%22 fill%3D%22%23FFF0D7%22 rx%3D%222%22%2F%3E                            %3Cg%3E                                %3Cpath fill%3D%22%23DB8F1C%22 fill-rule%3D%22nonzero%22 d%3D%22M16.656 1.405l.165 5.494h.084l2.258-5.494h1.628L17.619 8.63h-2.236L15 1.405h1.656zm6.707 0L21.969 8.63H20.35l1.394-7.225h1.619zm4.33 0c.57 0 .991.094 1.247.274.253.189.412.479.436.795.037.34-.006.806-.116 1.37-.105.55-.238.994-.397 1.334-.162.344-.422.63-.748.823-.338.199-.798.303-1.378.303h-1.284l-.447 2.317H23.4l1.393-7.216h2.9zm-.826 1.352h-.73l-.423 2.194h.73c.308 0 .529-.028.669-.075.139-.054.253-.159.319-.293.095-.235.164-.48.205-.729.066-.34.095-.586.076-.728-.006-.13-.087-.244-.206-.293-.124-.048-.331-.076-.64-.076z%22 transform%3D%22translate(4 3)%22%2F%3E                                %3Cg transform%3D%22translate(4 3)%22%3E                                    %3Cmask id%3D%226ri4vc7n4d%22 fill%3D%22%23fff%22%3E                                        %3Cuse xlink%3Ahref%3D%22%23yxvwxcu0xa%22%2F%3E                                    %3C%2Fmask%3E                                    %3Cuse fill%3D%22url(%231cghy0sk2b)%22 fill-rule%3D%22nonzero%22 xlink%3Ahref%3D%22%23yxvwxcu0xa%22%2F%3E                                    %3Cpath fill%3D%22url(%23kk6p11fslc)%22 fill-rule%3D%22nonzero%22 d%3D%22M5.846 1.003L5.442 3.294 1.5 3.294 3.409 4.98 5.114 4.98 4.497 8.069 6.588 10.035 7.539 4.98 10.5 4.98z%22 mask%3D%22url(%236ri4vc7n4d)%22%2F%3E                                %3C%2Fg%3E                            %3C%2Fg%3E                        %3C%2Fg%3E                    %3C%2Fg%3E                %3C%2Fg%3E            %3C%2Fg%3E        %3C%2Fg%3E    %3C%2Fg%3E%3C%2Fsvg%3E\") no-repeat;\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  width: 38px;\n  height: 16px;\n  background-size: 38px 16px;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-arrow {\n  position: relative;\n  width: 10px;\n  height: 16px;\n  margin-left: 5px;\n  flex: 0 0 auto;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-arrow::before,\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-arrow::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  width: 9px;\n  height: 1px;\n  background: #aaa;\n  transform-origin: right center;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-arrow::before {\n  transform: rotate(45deg);\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-arrow::after {\n  transform: rotate(-45deg);\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-normal {\n  margin: 10px 16px;\n  border-radius: 8px;\n  overflow: hidden;\n  transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-normal .mobile-menu-panel-v2-item {\n  background: #fff;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-horizontal {\n  margin: 10px 16px;\n  display: flex;\n  flex-direction: row;\n  border-radius: 8px;\n  overflow: hidden;\n  transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-horizontal .mobile-menu-panel-v2-item {\n  flex: 1 1 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: #fff;\n  overflow: hidden;\n  padding: 16px 4px 20px;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-horizontal .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-icon {\n  width: 36px;\n  height: 36px;\n  margin: 0 auto 4px;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-horizontal .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-title {\n  font-size: 12px;\n  line-height: 16px;\n  height: 16px;\n  width: 100%;\n  padding: 0 5px;\n  box-sizing: border-box;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-horizontal .mobile-menu-panel-v2-item .mobile-menu-panel-v2-item-redpoint {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-horizontal .mobile-menu-panel-v2-item + .mobile-menu-panel-v2-item {\n  border-left: 1px solid rgba(0, 0, 0, 0.04);\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-submenu .mobile-menu-panel-v2-item {\n  padding: 18px;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-mixed {\n  margin: 10px 16px;\n  border-radius: 8px;\n  overflow: hidden;\n  transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-mixed .mobile-menu-panel-v2-group {\n  margin: 0;\n  border-radius: 0;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-group.mobile-menu-panel-v2-group-mixed .mobile-menu-panel-v2-group-horizontal {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.04);\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-introduction {\n  padding: 12px 16px;\n  background-color: rgba(51, 77, 102, 0.06);\n  color: rgba(0, 0, 0, 0.64);\n  font-size: 14px;\n  margin-bottom: 2px;\n}\n.mobile-menu-panel-v2 .mobile-menu-panel-v2-content {\n  overflow: auto;\n}\n.mobile-pull-panel-v2.nomove .mobile-menu-panel-v2-item:not(.mobile-menu-panel-v2-item-solid):active {\n  background-color: rgba(0, 0, 0, 0.08) !important;\n  transition: background 0s;\n}\n.mobile-pull-panel-v2-static > .mobile-pull-panel-v2 {\n  transition: transform 0.25s;\n}\n.mobile-menu-panel-v2-handleless.mobile-menu-panel-v2-main-container .mobile-pull-panel-v2-children-wrapper,\n.mobile-menu-panel-v2-handleless.mobile-menu-panel-v2-submenu-container .mobile-pull-panel-v2-children-wrapper {\n  padding-top: 0;\n}\n.mobile-menu-panel-v2-handleless.mobile-menu-panel-v2-submenu-container .mobile-menu-panel-v2 .mobile-menu-panel-v2-title-bar {\n  padding-top: 8px;\n}\n.mobile-menu-panel-v2-handleless .mobile-pull-panel-v2-pull-bar {\n  display: none;\n}\n");const y="mobile-design-menu-mountpoint";let x;const w=e=>{let t=document.getElementById(y);t||(t=document.createElement("div"),t.id=y,document.body.appendChild(t)),t.style.display="block",a.a.render(i.a.createElement(g,Object.assign({ref:e=>x=e},e)),t),document.dispatchEvent(new CustomEvent("MobileMenuStateChanged",{detail:{isHide:!1}}))},_=(e=!0)=>{const t=window.document.getElementById(y);t&&(e&&(t.style.display="none"),x&&x.hidePanel())},O=()=>x,j=()=>!!(null==x?void 0:x.isShown())},"2dc6d56ca9":function(e,t,n){"use strict";var r=n("bdb17f6007"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},"303fa73efb":function(e,t,n){"use strict";var r=n("bdb17f6007"),i=n("dc99402e76"),o=n("24db6323dd"),a=n("71eba1dc32"),s=n("10ffd6a39c"),c=n("3c0b0caecd"),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){if("string"==typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var p=[a,void 0];for(Array.prototype.unshift.apply(p,r),p=p.concat(l),o=Promise.resolve(t);p.length;)o=o.then(p.shift(),p.shift());return o}for(var h=t;r.length;){var f=r.shift(),d=r.shift();try{h=f(h)}catch(e){d(e);break}}try{o=a(h)}catch(e){return Promise.reject(e)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},"35aeb36a5c":function(e,t,n){"use strict";var r=n("d099416be2"),i=n("53f38462a9");e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},"35d7b15ae4":function(e,t,n){"use strict";var r=n("20fceb9f61");function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},"3a16423700":function(e,t,n){"use strict";n.r(t);var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],o=t[n],!(i===o||r(i)&&r(o)))return!1;var i,o;return!0}t.default=function(e,t){var n;void 0===t&&(t=i);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&t(i,o)||(r=e.apply(this,i),a=!0,n=this,o=i),r}}},"3c0b0caecd":function(e,t,n){"use strict";var r=n("e5f36ae69b").version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},"3c85c0a8fe":function(e,t,n){var r=n("540a681d0c")();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},"3ef9dd4b93":function(e,t,n){"use strict";var r,i;n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"j",(function(){return h})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"n",(function(){return f})),n.d(t,"m",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"i",(function(){return v})),function(e){e.CreateCollection="create-collection",e.DropCollection="drop-collection",e.CreateIndex="create-index",e.DropIndex="drop-index"}(r||(r={})),function(e){e.MoveProperty="move-property",e.DropProperty="drop-property",e.ReplaceProperty="replace-property",e.ClearData="clear-data",e.ReplaceData="replace-data"}(i||(i={}));var o,a={name:"alloy_db_schema_table",indices:[],key:{path:"name"},properties:[]};!function(e){e.Equals="=",e.NotEquals="!=",e.GreaterThan=">",e.GreaterOrEqualThan=">=",e.LessThan="<",e.LessOrEqualThan="<=",e.In="in",e.NotIn="nin"}(o||(o={}));var s,c,u,l,p,h=void 0;function f(e){return"number"==typeof e&&!Number.isNaN(e)||"string"==typeof e||e instanceof Date&&!Number.isNaN(e.getTime())||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||Array.isArray(e)&&e.every(f)}function d(e,t){var n=e;return Array.isArray(t)?t.map((function(e){return n[e]})):n[t]}function m(e,t){return Array.isArray(e)?Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return m(e,t[n])})):e===t}!function(e){e.OR="or",e.AND="and",e.FILTER="filter",e.NONE="none",e.ALL="all"}(s||(s={})),function(e){e.ENTRIES="entries",e.VALUES="values",e.KEYS="keys",e.COUNT="count"}(c||(c={})),function(e){e.DESCENDING="desc",e.ASCENDING="asc"}(u||(u={})),function(e){e.AutoIncrement="auto-increment"}(l||(l={})),function(e){e.Equals="=",e.GreaterThan=">",e.GreaterOrEqualThan=">=",e.LessThan="<",e.LessOrEqualThan="<="}(p||(p={}));var v,b=n("d7c625d1f2"),g=function(){function e(){}return e.collectionDiff=function(e,t){if(e.name!==t.name)throw new Error("can not compare collection schema with different name");var n={collection:e.name},r=t.indices.filter((function(t){return!e.indices.some((function(e){return e.name===t.name}))})),i=e.indices.filter((function(e){return!t.indices.some((function(t){return t.name===e.name}))}));return(r.length||i.length)&&(n.index={added:Object(b.__spreadArray)([],Object(b.__read)(r)),deleted:Object(b.__spreadArray)([],Object(b.__read)(i))}),n},e.databaseDiff=function(e,t){var n,r,i=this.getCompareMap(e,t),o={added:[],deleted:[],different:[]};try{for(var a=Object(b.__values)(i.values()),s=a.next();!s.done;s=a.next()){var c=s.value;if(!c.oldValue||c.newValue)if(c.oldValue||!c.newValue){if(c.oldValue&&c.newValue){var u=this.collectionDiff(c.oldValue,c.newValue);if(!u.index)continue;o.different.push(u)}}else o.added.push(c.newValue);else o.deleted.push(c.oldValue)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},e.getCompareMap=function(e,t){var n,r,i,o,a=new Map;try{for(var s=Object(b.__values)(t.collections),c=s.next();!c.done;c=s.next()){var u=c.value;(h=a.get(u.name)||{}).newValue=u,a.set(u.name,h)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var l=Object(b.__values)(e.collections),p=l.next();!p.done;p=l.next()){var h;u=p.value;(h=a.get(u.name)||{}).oldValue=u,a.set(u.name,h)}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return a},e}();!function(e){e.READ_ONLY="readonly",e.READ_WRITE="readwrite",e.VERSION_CHANGE="versionchange"}(v||(v={}))},"427e7e241a":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},"43f1de298e":function(e,t,n){"use strict";var r=n("828ba01c62");e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},"44354cefa3":function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},4636400492:function(e,t,n){var r=n("44354cefa3").default,i=n("5f23fef4ad");e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"4d6a70f9c6":function(e,t,n){"use strict";var r=n("bdb17f6007");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},"53f38462a9":function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"540a681d0c":function(e,t,n){var r=n("44354cefa3").default;function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),s=new S(r||[]);return a(o,"_invoke",{value:j(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d={};function m(){}function v(){}function b(){}var g={};p(g,c,(function(){return this}));var y=Object.getPrototypeOf,x=y&&y(y(k([])));x&&x!==n&&o.call(x,c)&&(g=x);var w=b.prototype=m.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,a,s,c){var u=f(e[i],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==r(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function j(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=b,a(w,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:v,configurable:!0}),v.displayName=p(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,p(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(O.prototype),p(O.prototype,u,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new O(h(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),p(w,l,"Generator"),p(w,c,(function(){return this})),p(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},"544db2d33a":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},"5a1564ed4b":function(e,t,n){var r,i,o,a,s,c,u,l,p,h,f,d,m,v;window,e.exports=(r=n("69084d01d3"),i=n("5f23fef4ad"),o=n("7273a2dc68"),a=n("2e0796c118"),s=n("3c85c0a8fe"),c=n("181cfa7011"),u=n("8ec438d259"),l=n("7232b4267e"),p=n("e1fbc4b030"),h=n("9bd2987a94"),f=n("4636400492"),d=n("8eaaebf7b1"),m=n("191816261c"),v=n("4f3b15d017"),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){e.exports=r},function(e,t){e.exports=i},function(e,t){e.exports=o},function(e,t){e.exports=a},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=l},function(e,t){e.exports=p},function(e,t){e.exports=h},function(e,t){e.exports=f},function(e,t){e.exports=d},function(e,t){e.exports=m},function(e,t){e.exports=v},function(e,t,n){var r=n(15);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(17)(r,i),r.locals&&(e.exports=r.locals)},function(e,t,n){(t=n(16)(!1)).push([e.i,".mobile-pull-panel-v2-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.4);\n  -webkit-transition: background-color 0.3s;\n  transition: background-color 0.3s;\n  z-index: 100000;\n  line-height: normal;\n  -webkit-user-select: none;\n          user-select: none;\n}\n@media (min-width: 640px) {\n  .mobile-pull-panel-v2-mask {\n    background: transparent;\n  }\n  .mobile-pull-panel-v2-mask.mobile-pull-panel-v2-hidden {\n    opacity: 0;\n    -webkit-transition: opacity 0.2s;\n    transition: opacity 0.2s;\n  }\n}\n.mobile-pull-panel-v2-mask.mobile-pull-panel-v2-hidden {\n  background: rgba(0, 0, 0, 0.01);\n  pointer-events: none;\n}\n.mobile-pull-panel-v2-mask.mobile-pull-panel-v2-hidden .mobile-pull-panel-v2 {\n  -webkit-transition: -webkit-transform 0.2s;\n  transition: -webkit-transform 0.2s;\n  transition: transform 0.2s;\n  transition: transform 0.2s, -webkit-transform 0.2s;\n  -webkit-transform: translateY(0) !important;\n          transform: translateY(0) !important;\n}\n.mobile-wide-mode-triangle {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  border-bottom: 8px solid rgba(255, 255, 255, 0.85);\n  box-sizing: border-box;\n  left: unset;\n  -webkit-transform: translateY(-100%);\n          transform: translateY(-100%);\n  z-index: 5;\n  right: 15px;\n  bottom: unset;\n  top: 0px;\n  display: none;\n}\n@media (min-width: 640px) {\n  .mobile-wide-mode-triangle {\n    display: block;\n  }\n}\n.mobile-wide-mode-triangle::before {\n  content: '';\n  position: absolute;\n  left: -50%;\n  right: -50%;\n  top: -50%;\n  bottom: -50%;\n  -webkit-transform: scale(0.5);\n          transform: scale(0.5);\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-right-color: transparent;\n  border-bottom-color: transparent;\n}\n.mobile-pull-panel-v2 {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  padding-bottom: 100vh;\n  background: #fafbfc;\n  border-radius: 12px 12px 0 0;\n  box-sizing: content-box;\n  -webkit-user-select: auto;\n          user-select: auto;\n}\n@supports ((-webkit-backdrop-filter: blur(20px)) or (backdrop-filter: blur(20px))) or (-webkit-backdrop-filter: blur(20px)) {\n  .mobile-pull-panel-v2.mobile-pull-panel-v2-blur {\n    background: rgba(255, 255, 255, 0.88);\n  }\n  .mobile-pull-panel-v2.mobile-pull-panel-v2-blur::before {\n    content: '';\n    position: absolute;\n    top: 1px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border-radius: inherit;\n    z-index: -1;\n    backdrop-filter: blur(20px);\n    -webkit-backdrop-filter: blur(20px);\n  }\n}\n.mobile-pull-panel-v2 .mobile-pull-panel-v2-pull-bar {\n  position: absolute;\n  top: 6px;\n  width: 60px;\n  height: 5px;\n  left: 50%;\n  margin-left: -30px;\n  background: rgba(0, 0, 0, 0.08);\n  border-radius: 3px;\n  z-index: 2;\n}\n.mobile-pull-panel-v2 .mobile-pull-panel-v2-children-wrapper {\n  width: 100%;\n  padding-top: 24px;\n  padding-bottom: env(safe-area-inset-bottom);\n}\n@media (min-width: 640px) {\n  .mobile-pull-panel-v2 {\n    top: 52px;\n    left: auto;\n    right: 6px;\n    width: 375px;\n    bottom: unset;\n    padding-bottom: 0;\n    border-radius: 12px;\n    box-shadow: 0 4px 10px 0 rgba(0, 0, 0, 0.16), 0 0 1px 0 rgba(0, 0, 0, 0.12);\n    -webkit-transform: none !important;\n            transform: none !important;\n  }\n  .mobile-pull-panel-v2 .mobile-pull-panel-v2-pull-bar {\n    display: none;\n  }\n  .mobile-pull-panel-v2 .mobile-pull-panel-v2-children-scroller {\n    max-height: 75vh;\n    overflow: scroll;\n    -webkit-overflow-scrolling: touch;\n  }\n  .mobile-pull-panel-v2 .mobile-pull-panel-v2-children-scroller::-webkit-scrollbar {\n    display: none;\n  }\n  .mobile-pull-panel-v2 .mobile-pull-panel-v2-children-wrapper {\n    padding-bottom: 0;\n  }\n  @supports ((-webkit-backdrop-filter: blur(20px)) or (backdrop-filter: blur(20px))) or (--webkit-backdrop-filter: blur(20px)) {\n    .mobile-pull-panel-v2.mobile-pull-panel-v2-blur {\n      background: rgba(247, 247, 247, 0.88);\n    }\n  }\n}\n.mobile-pull-panel-v2-header {\n  position: relative;\n  margin-bottom: 20px;\n}\n.mobile-pull-panel-v2-header .mobile-pull-panel-v2-header-buttons {\n  position: absolute;\n  top: -9px;\n  left: 20px;\n  height: 44px;\n  width: calc(100% - 40px);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  z-index: 2;\n  line-height: 44px;\n}\n.mobile-pull-panel-v2-header .mobile-pull-panel-v2-header-buttons .mobile-pull-panel-v2-cancel,\n.mobile-pull-panel-v2-header .mobile-pull-panel-v2-header-buttons .mobile-pull-panel-v2-confirm {\n  height: 0.667rem;\n  line-height: 0.667rem;\n  display: inline-block;\n  font-size: 18px;\n}\n.mobile-pull-panel-v2-header .mobile-pull-panel-v2-header-buttons .mobile-pull-panel-v2-cancel:active,\n.mobile-pull-panel-v2-header .mobile-pull-panel-v2-header-buttons .mobile-pull-panel-v2-confirm:active {\n  opacity: 0.55;\n}\n.mobile-pull-panel-v2-header .mobile-pull-panel-v2-header-buttons .mobile-pull-panel-v2-cancel {\n  height: 0.667rem;\n  color: rgba(0, 0, 0, 0.88);\n}\n.mobile-pull-panel-v2-header .mobile-pull-panel-v2-header-buttons .mobile-pull-panel-v2-confirm {\n  height: 0.667rem;\n  color: #1e6fff;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,i,o=e[1]||"",a=e[3];if(!a)return o;if(t&&"function"==typeof btoa){var s=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(c).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){return document.querySelector(e)},c=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,l=0,p=[],h=n(18);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function m(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=p[p.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),p.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=c(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function b(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),g(t,e.attrs),m(e,t),t}function g(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;n=u||(u=b(t)),r=_.bind(null,n,a,!1),i=_.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),m(e,t),t}(t),r=j.bind(null,n,t),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),r=O.bind(null,n),i=function(){v(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return f(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}for(e&&f(d(e,t),t),i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var x,w=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function _(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function O(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function j(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=h(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"showPanel",(function(){return I})),n.d(t,"hidePanel",(function(){return L}));var r=n(6),i=n.n(r),o=n(4),a=n.n(o),s=n(0),c=n(3),u=n.n(c),l=n(2),p=n(7),h=n.n(p),f=n(8),d=n.n(f),m=n(1),v=n.n(m),b=n(9),g=n.n(b),y=n(10),x=n.n(y),w=n(5),_=n.n(w),O=n(11),j=n.n(O),E=n(12),C=n.n(E),M=n(13);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x()(this,n)}}var k=n.n(M).a.isTencentDocsApp,A=function(e){g()(n,e);var t=S(n);function n(){var e;return h()(this,n),(e=t.apply(this,arguments)).state={isShown:!1},e.mask=s.createRef(),e.panel=s.createRef(),e.wrapper=s.createRef(),e.scroller=s.createRef(),e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.defaultHeight;setTimeout((function(){var n,r;t=Math.min(e.maxHeight,Math.max(e.minHeight,t)),e.touch&&e.touch.to(t,250),null===(r=null===(n=e.scroller.current)||void 0===n?void 0:n.scrollTo)||void 0===r||r.call(n,0,0)}),k?100:0)},e.handleTapOrClickMask=function(t){var n=e.mask.current;!1!==e.props.isCloseable&&t.target===n&&"touchcancel"!==t.type&&(e.hide(),t.stopPropagation(),t.preventDefault())},e.componentDidMount=function(){var t=e.mask.current,n=!1!==e.props.isCloseable;new C.a(e.panel.current,!0),t.addEventListener("contextmenu",(function(e){return e.preventDefault()})),t.addEventListener("click",e.handleTapOrClickMask);var r=!1;e.touch=new j.a({touch:t,vertical:!0,reverse:!0,lockDirection:!1,target:v()(e),property:"value",bindSelf:!0,initialValue:0,deceleration:.0015,maxSpeed:1,min:function(){return e.minHeight},max:function(){return e.maxHeight},shouldRebound:function(t){return!(n&&t<e.minHeight-50&&(e.hide(),1))},tap:e.handleTapOrClickMask,touchStart:function(t){r=!1,setTimeout((function(){r||e.panel.current.classList.add("nomove")}),50)},touchMove:function(t){r=!0,e.panel.current&&e.panel.current.classList.remove("nomove")},touchEnd:function(t){e.panel&&e.panel.current&&e.panel.current.classList&&e.panel.current.classList.remove("nomove")}}),Object.defineProperty(e.touch,"preventDefault",{get:function(){return window.innerWidth<640}}),e.show(),e.reset(),window.addEventListener("resize",e.onWindowResize)},e.onWindowResize=function(){e.reset()},e.renderHeader=function(){return e.props.isShowHeaderButton?s.createElement("div",{className:"mobile-pull-panel-v2-header"},s.createElement("div",{className:"mobile-pull-panel-v2-header-buttons"},s.createElement("div",{className:"mobile-pull-panel-v2-cancel",onClick:function(){e.props.onCancel&&e.props.onCancel(v()(e)),e.hide()}},Object(l.$t)("取消")),s.createElement("div",{className:"mobile-pull-panel-v2-confirm",onClick:function(t){e.props.onConfirm&&e.props.onConfirm(v()(e)),t.isDefaultPrevented()||e.hide()}},e.props.headerConfirmText||Object(l.$t)("完成")))):null},e.render=function(){var t=e.props,n=t.className,r=void 0===n?"":n,i=t.style,o=void 0===i?{}:i,a=t.isBackgroundBlur;return s.createElement("div",{className:"mobile-pull-panel-v2-mask ".concat(e.state.isShown?"":"mobile-pull-panel-v2-hidden"),ref:e.mask},s.createElement("div",{className:"mobile-pull-panel-v2 "+(a?"mobile-pull-panel-v2-blur ":"")+(r||""),ref:e.panel,style:o},s.createElement("div",{className:"mobile-wide-mode-triangle"}),s.createElement("div",{className:"mobile-pull-panel-v2-pull-bar"}),e.renderHeader(),s.createElement("div",{className:"mobile-pull-panel-v2-children-scroller",ref:e.scroller},s.createElement("div",{className:"mobile-pull-panel-v2-children-wrapper",ref:e.wrapper},e.props.children))))},e.show=function(){e.setState({isShown:!0}),e.touch&&e.touch.to(e.defaultHeight,250),e.props.onShow&&e.props.onShow(v()(e))},e.hide=function(){e.hidePanel()},e.hidePanel=function(){return e.props.onHide&&e.props.onHide(v()(e)),e.setState({isShown:!1}),new Promise((function(t){setTimeout((function(){e.mask.current&&e.mask.current.parentElement&&u.a.unmountComponentAtNode(e.mask.current.parentElement),t()}),300)}))},e}return d()(n,[{key:"preferredHeight",get:function(){return this.props.preferredHeight||window.innerHeight/2}},{key:"minHeight",get:function(){var e,t;return Math.min(this.preferredHeight,null!==(t=null===(e=this.wrapper.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0)}},{key:"maxHeight",get:function(){var e,t;return(null!==(t=null===(e=this.wrapper.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0)+(this.props.isShowHeaderButton?24:0)}},{key:"defaultHeight",get:function(){return Math.min(this.maxHeight,Math.max(this.minHeight,this.preferredHeight))}},{key:"value",get:function(){var e=this.panel.current;return e?-e.translateY:0},set:function(e){var t=this.panel.current;t&&(t.translateY=-e)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize)}}]),n}(s.Component);A._layer=null,A._instance=null,n(14);var T=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object(l.scL10nIniter)(),t.default=A;var N,D="mobile-design-panel-mountpoint",I=function(e,t){var n=document.getElementById(D);n||((n=document.createElement("div")).id=D,document.body.appendChild(n)),n.style.display="block",u.a.render(s.createElement.apply(s,[A,Object.assign({},e,{ref:function(e){return N=e}})].concat(i()(t))),n)},L=function(){return T(void 0,void 0,void 0,a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.document.getElementById(D))||!N){e.next=5;break}return e.next=4,N.hidePanel();case 4:t.style.display="none";case 5:case"end":return e.stop()}}),e)})))}}]))},"5d9d6a023f":function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},"5f23fef4ad":function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},"5ff48c98e2":function(e,t,n){"use strict";var r=n("bdb17f6007"),i=n("97ccbfce5e");e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},6022779063:function(e,t,n){var r=n("5d9d6a023f").default,i=n("6f3d31cef1");e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},"6637863c4a":function(e,t,n){"use strict";n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return _})),n.d(t,"e",(function(){return O})),n.d(t,"a",(function(){return A}));var r=n("d7c625d1f2"),i=n("3ef9dd4b93"),o=n("b3f41acbca"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.isQuotaExceeded=function(){return this.message.includes("QuotaExceededError")},t}(o.a.withMessageCreator("DatabaseConnectError",(function(e){return"failed to connect to database '"+e+"'."}))),s=o.a.withMessageCreator("CollectionNotFoundError",(function(e){return"model '"+e+"' is not registered, please register it before use it."})),c=o.a.withMessageCreator("DataMigrationError",(function(e){return"failed to perform data migration, versionChange: "+e.oldVersion+" -> "+e.newVersion+"."})),u=o.a.withMessageCreator("IncorrectTransactionModeError",(function(e){return"use error transaction type["+e+"]."})),l=o.a.withMessageCreator("NoTableInfoError",(function(e){return"'"+e+"' is not a valid model with table info injected, please ensure the model class is decorated by @table(), @field() etc."})),p=o.a.withDefaultMessage("EmptyTableInfoError","table without any field declare, please define model use [field] decorator."),h=o.a.withMessageCreator("InvalidWhereInValueError",(function(e){return"there is an error in your where clause of field '"+e.path+"'."+e.op+", the value must be an array."})),f=o.a.withMessageCreator("UnsupportedWhereOperatorError",(function(e){return"unsupported where operator '"+e+"', current supported operators are >, >=, <, <=, =, !=, in, nin."})),d=o.a.withDefaultMessage("OrderByKeyError","can not order value that is not Key: 'Key = number | string | Date | BufferSource | Key[]'."),m=o.a.withMessageCreator("DatabaseInternalError",(function(e){return"there is an internal error of database, reason: "+e+"."})),v=(o.a.withMessageCreator("QueryJobError",(function(e){return"failed to execute query job, reason: "+e+"."})),o.a.withMessageCreator("PluginError",(function(e){return'an error has occurred on plugin "'+e.name+'"": '+e.message+"."})),o.a.withDefaultMessage("TransactionCommitError","failed to commit transaction.")),b=o.a.withDefaultMessage("UpdateMigrationChangeInfoError","failed to update migration change info"),g=o.a.withMessageCreator("ExecuteDataUpgradeError",(function(e){return"failed to execute data upgrade on collection '"+e+"'."})),y=o.a.withMessageCreator("UnexpectedClosedError",(function(e){return"database "+e+" is unexpectedly closed by browser, this could happen when disk is unavailable or the page is shutdown."})),x=Symbol.for("TABLE_KEY"),w=function(){function e(){}return e.saveTableInfo=function(e,t){Object.defineProperty(t,x,{configurable:!0,value:Object(r.__assign)({},e)})},e.getTableInfo=function(e){return e[x]},e.getFirstTableInfoAlongPrototypeChain=function(e){var t=this.getTableInfo(e),n=Object.assign({},t);return n.properties=new Map(n.properties),n},e.getTableName=function(e){var t=this.getTableInfo(e.prototype);if(!(null==t?void 0:t.tableName))throw new l(e.name);return t.tableName},e.addTablePropertyInfo=function(t,n){var r=e.getOrCreateTableInfo(t);if(r.properties.has(n.name)){var i=r.properties.get(n.name);Object.assign(n,i)}r.properties.set(n.name,n),this.saveTableInfo(r,t)},e.createPropertyInfo=function(e,t){return{name:e,alias:t,isUnionKey:!1}},e.convertTableInfoToSchema=function(e){if(!e.tableName)return null;var t,n=Object(r.__spreadArray)([],Object(r.__read)(e.properties.values())),o=n.filter((function(e){return e.isIndex})).map((function(e){var t,n;return{name:null!==(t=e.alias)&&void 0!==t?t:e.name,path:null!==(n=e.alias)&&void 0!==n?n:e.name,unique:e.isUnique}}));return t=!e.autoIncrement&&e.keyPath?{path:1===e.keyPath.length?e.keyPath[0]:e.keyPath}:{generator:i.b.AutoIncrement},{properties:n.map((function(e){var t;return null!==(t=e.alias)&&void 0!==t?t:e.name})),indices:o,key:t,name:e.tableName}},e.createDefaultTableInfo=function(){return{tableName:null,autoIncrement:!0,properties:new Map}},e.getOrCreateTableInfo=function(t){if(Object.prototype.hasOwnProperty.call(t,x))return t[x];var n=e.createDefaultTableInfo(),i=t[x];return i&&(n.properties=new Map(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(i.properties)),Object(r.__read)(n.properties)))),e.saveTableInfo(n,t),n},e}();var _=function(e){return function(t,n){var r=w.createPropertyInfo(n,e);w.addTablePropertyInfo(t,r)}};var O=function(e,t){return function(n){var i=w.getFirstTableInfoAlongPrototypeChain(n.prototype);if(!i)throw new p;i.tableName=e;var o=Object(r.__spreadArray)([],Object(r.__read)(i.properties.values())),a=function(e,t){if(null==e?void 0:e.key)return"string"==typeof e.key?[e.key]:e.key;var n=t.filter((function(e){return e.isPrimaryKey})).map((function(e){var t;return null!==(t=e.alias)&&void 0!==t?t:e.name}));return n.length>0?n:void 0}(t,o);i.keyPath=a,i.autoIncrement=void 0===i.keyPath,w.saveTableInfo(i,n.prototype)}};var j=function(){return function(e,t){var n=w.createPropertyInfo(t);n.isPrimaryKey=!0,w.addTablePropertyInfo(e,n)}};let E=()=>({events:{},emit(e,...t){(this.events[e]||[]).forEach((e=>e(...t)))},on(e,t){return(this.events[e]=this.events[e]||[]).push(t),()=>this.events[e]=(this.events[e]||[]).filter((e=>e!==t))}});var C,M;!function(e){e.Ready="Ready",e.Fetal="Fetal",e.Closed="Closed",e.Destroyed="Destroyed",e.Error="Error",e.RegisterModel="RegisterModel",e.RegisterPlugin="RegisterPlugin",e.BootstrapStart="BootstrapStart",e.BootstrapEnd="BootstrapEnd",e.SchemaMigrationStart="SchemaMigrationStart",e.SchemaMigrationEnd="SchemaMigrationEnd",e.VersionChange="VersionChange"}(C||(C={})),function(e){e.CollectionCreated="CollectionCreated",e.ModelLazyMigrationEnd="ModelLazyMigrationEnd",e.PrepareAutoUpgradeEnd="PrepareAutoUpgradeEnd",e.UpdateMigrationChangeInfo="UpdateMigrationChangeInfoEnd",e.StartTransaction="StartTransaction"}(M||(M={}));var S,k=function(){function e(e){var t=this;this.onClosed=function(e){t.eventBus.on(C.Closed,e)},this.eventBus=e}return e.prototype.onReady=function(e){this.eventBus.on(C.Ready,e)},e.prototype.onFetal=function(e){this.eventBus.on(C.Fetal,e)},e.prototype.onError=function(e){this.eventBus.on(C.Error,e)},e.prototype.onRegisterModel=function(e){this.eventBus.on(C.RegisterModel,e)},e.prototype.onRegisterPlugin=function(e){this.eventBus.on(C.RegisterPlugin,e)},e.prototype.onBootstrapStart=function(e){this.eventBus.on(C.BootstrapStart,e)},e.prototype.onBootstrapEnd=function(e){this.eventBus.on(C.BootstrapEnd,e)},e.prototype.onSchemaMigrationStart=function(e){this.eventBus.on(C.SchemaMigrationStart,e)},e.prototype.onSchemaMigrationEnd=function(e){this.eventBus.on(C.SchemaMigrationEnd,e)},e.prototype.onVersionChange=function(e){this.eventBus.on(C.VersionChange,e)},e.prototype.emitError=function(e){this.eventBus.emit(C.Error,e)},e}(),A=function(){function e(){}return e.revealSchema=function(e){var t=w.getTableInfo(e.prototype);return t?w.convertTableInfoToSchema(t):null},e}(),T=function(){function e(e){this.models=[],this.eventBus=e}return e.prototype.register=function(e){if(!this.models.includes(e)){var t=this.getSchema(e);this.models.push(e),this.eventBus.emit(C.RegisterModel,{class:e,schema:t})}},e.prototype.getSchema=function(e){var t=A.revealSchema(e);if(!t){var n=new l(e.name);throw this.eventBus.emit(C.Error,n),new l(e.name)}return t},e.prototype.getSchemaAndRegisterModelIfNeed=function(e){return this.register(e),this.getSchema(e)},e}();function N(e){var t,n,i,o=w.getTableInfo(Object.getPrototypeOf(e));if(!o)return e;var a={};try{for(var s=Object(r.__values)(o.properties.values()),c=s.next();!c.done;c=s.next()){var u=c.value;a[null!==(i=u.alias)&&void 0!==i?i:u.name]=e[u.name]}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}function D(e,t){var n,i;if(null==e)return null;var o=w.getTableInfo(t.prototype);if(!o)return e;var a=function(e,t){var n,i,o,a={};try{for(var s=Object(r.__values)(t.properties.values()),c=s.next();!c.done;c=s.next()){var u=c.value,l=null!==(o=u.alias)&&void 0!==o?o:u.name;a[u.name]=e[l]}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}(e,o),s=new t(a);try{for(var c=Object(r.__values)(Object.keys(a)),u=c.next();!u.done;u=c.next()){var l=u.value;void 0!==a[l]&&(s[l]=a[l])}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return s}!function(e){e.FILL="fill",e.HYDRATE="hydrate",e.PAGINATE="paginate",e.FILTER="filter",e.SORT="sort",e.SCAN="scan",e.SCAN_ALL="scan-all",e.INDEX_SCAN="index-scan",e.UNION="union",e.DISTINCT="distinct",e.INTERSECT="intersect"}(S||(S={}));var I=function(){function e(e,t){this.node=e,this.parent=t,this.context=J(e)}return e.prototype.perform=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o,a;return Object(r.__generator)(this,(function(s){try{for(t=Object(r.__values)(this.node.inputs),n=t.next();!n.done;n=t.next())i=n.value,e.push(i)}catch(e){o={error:e}}finally{try{n&&!n.done&&(a=t.return)&&a.call(t)}finally{if(o)throw o.error}}return[2]}))}))},e}(),L=function(){function e(e){this.comparer=e}return e.prototype.has=function(e,t){return-1!==this.getOrder(e,t)},e.prototype.getOrder=function(e,t){for(var n=0,r=e.length;n<r;){var i=n+Math.floor((r-n)/2),o=e[i],a=this.comparer.cmp(t,o);if(0===a)return i;a>0?n=i+1:r=i}return-1},e}(),R=function(){function e(e,t){this.node=e,this.parent=t,this.context=J(e)}return e.prototype.perform=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o,a,s,c,u,l,p,h,f,d,m,v,b,g;return Object(r.__generator)(this,(function(y){t=new L(this.node.comparer);try{for(n=Object(r.__values)(this.context.inputs),i=n.next();!i.done;i=n.next()){o=i.value,a=new Map,s=o.map((function(e){return Object(r.__read)(e,1)[0]})).sort(this.node.comparer.cmp),c=[];try{for(b=void 0,u=Object(r.__values)(o),l=u.next();!l.done;l=u.next())p=l.value,h=Object(r.__read)(p,1),f=h[0],d=t.getOrder(s,f),a.has(d)||(a.set(d,!0),c.push(p))}catch(e){b={error:e}}finally{try{l&&!l.done&&(g=u.return)&&g.call(u)}finally{if(b)throw b.error}}e.push(c)}}catch(e){m={error:e}}finally{try{i&&!i.done&&(v=n.return)&&v.call(n)}finally{if(m)throw m.error}}return[2]}))}))},e}(),P=Symbol("-∞"),B=Symbol("+∞"),F=function(){function e(e){var t=this;this.contains=function(e,n){var r=t,i=r.cmp,o=r.lowerOf,a=r.upperOf;if(!t.isValid(e))return!1;var s=e.lowerOpen,c=e.upperOpen,u=i(o(e),n),l=i(a(e),n);return 0===u&&!s||u<0&&l>0||0===l&&!c},this.union=function(e){if(e.length<=1)return e;t.sort(e);for(var n=[],r=e[0],i=1;i<e.length;i++){var o=e[i];t.isOverlapped(r,o)?r=t.wrap(r,o):(n.push(r),r=o)}return n.push(r),n},this.intersect=function(e){var n,i;if(e.length<=1)return e;t.sort(e);var o=e[0];try{for(var a=Object(r.__values)(e),s=a.next();!s.done;s=a.next()){var c=s.value;if(!t.isOverlapped(o,c))return[];o=t.overlap(o,c)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return[o]},this.isValid=function(e){var n=t,r=n.cmp,i=n.lowerOf,o=n.upperOf,a=r(i(e),o(e));return a<0||0===a&&!e.lowerOpen&&!e.upperOpen},this.cmp=function(e,n){return e!==P&&e!==B&&n!==P&&n!==B?t.comparer.cmp(e,n):e===n?0:e===P||n===B?-1:1},this.lowerOf=function(e){return void 0===e.lower?P:e.lower},this.upperOf=function(e){return void 0===e.upper?B:e.upper},this.comparer=e}return e.prototype.isOverlapped=function(e,t){var n,i=this,o=i.cmp,a=i.lowerOf,s=i.upperOf,c=Object(r.__read)([e,t],2),u=c[0],l=c[1],p=o(a(u),a(l));(p>0||0===p&&!u.lowerOpen&&l.lowerOpen)&&(u=(n=Object(r.__read)([l,u],2))[0],l=n[1]);var h=o(s(u),a(l));return h>0||0===h&&!u.upperOpen&&!l.lowerOpen},e.prototype.sort=function(e){var t=this.cmp,n=this.lowerOf;return e.sort((function(e,r){var i=t(n(e),n(r));return 0!==i||e.lowerOpen===r.lowerOpen?i:e.lowerOpen?-1:1}))},e.prototype.wrap=function(e,t){var n=this,i=n.cmp,o=n.lowerOf,a=n.upperOf,s=Object(r.__assign)({},e),c=i(o(e),o(t)),u=i(a(e),a(t));return(c>0||0===c&&!t.lowerOpen)&&(s.lower=t.lower,s.lowerOpen=t.lowerOpen),(u<0||0===u&&!t.upperOpen)&&(s.upper=t.upper,s.upperOpen=t.upperOpen),s},e.prototype.overlap=function(e,t){var n=this,i=n.cmp,o=n.lowerOf,a=n.upperOf,s=Object(r.__assign)({},e),c=i(o(e),o(t)),u=i(a(e),a(t));return(c<0||0===c&&!e.lowerOpen)&&(s.lower=t.lower,s.lowerOpen=t.lowerOpen),(u>0||0===u&&!e.upperOpen)&&(s.upper=t.upper,s.upperOpen=t.upperOpen),s},e}(),U=function(){function e(e,t){this.node=e,this.parent=t,this.context=J(e)}return e.prototype.perform=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o,a,s,c,u,l;return Object(r.__generator)(this,(function(p){for(t=[],n=this.node,i=[t];n;)n.regroup&&(t=[],i.push(t)),t.push(this.createFilter(n)),n=n.nextFilter;o=function(e){var t=Object(r.__read)(e,2)[1];return i.some((function(e){return e.every((function(e){return e(t)}))}))};try{for(a=Object(r.__values)(this.context.inputs),s=a.next();!s.done;s=a.next())c=s.value,e.push(c.filter(o))}catch(e){u={error:e}}finally{try{s&&!s.done&&(l=a.return)&&l.call(a)}finally{if(u)throw u.error}}return[2]}))}))},e.prototype.createFilter=function(e){var t=new F(e.comparer);return function(n){return e.intervals.some((function(r){if(void 0===n)throw new m("can not do filter on non-hydrated data");var o=Object(i.m)(n,e.path);return Object(i.n)(o)&&t.contains(r,o)}))}},e}();var H=function(){function e(e,t,n){this.node=e,this.parent=t,this.transaction=n,this.context=J(e)}return e.prototype.perform=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o,a,s,c,u,l=this;return Object(r.__generator)(this,(function(p){switch(p.label){case 0:t=this.transaction.table(this.node.collectionSchema.name),n=function(n){var i;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return i=n.filter((function(e){return!function(e){return!!Object(r.__read)(e,2)[1]}(e)})),[4,Promise.all(i.map((function(e,n){var o=Object(r.__read)(e,1)[0];return Object(r.__awaiter)(l,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.get(o)];case 1:return e=r.sent(),i[n][1]=e,[2]}}))}))})))];case 1:return o.sent(),e.push(n),[2]}}))},p.label=1;case 1:p.trys.push([1,6,7,8]),i=Object(r.__values)(this.context.inputs),o=i.next(),p.label=2;case 2:return o.done?[3,5]:(a=o.value,[5,n(a)]);case 3:p.sent(),p.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return s=p.sent(),c={error:s},[3,8];case 7:try{o&&!o.done&&(u=i.return)&&u.call(i)}finally{if(c)throw c.error}return[7];case 8:return[2]}}))}))},e}(),V=function(){function e(e,t,n,r){this.lower=e,this.upper=t,this.lowerOpen=n,this.upperOpen=r}return e.getKeyRange=function(e,t){if(void 0!==t){if(!e.isValid(t))throw new Error("invalid key interval");var n=t.lower,r=t.upper,i=t.lowerOpen,o=t.upperOpen;return n===r?n:void 0!==n&&void 0!==r?IDBKeyRange.bound(n,r,i,o):void 0!==n?IDBKeyRange.lowerBound(n,i):IDBKeyRange.upperBound(r,o)}},e}(),q=function(){function e(e,t){var n=this;this.comparer=t,this.math=new F(t),this.intervals=e.filter((function(e){return n.math.isValid(e)}))}return e.fromWherePredicate=function(t,n){var i,o,a;try{for(var s=Object(r.__values)(Object.keys(t)),c=s.next();!c.done;c=s.next()){var u=c.value,l=t[u];if(void 0!==l){var p=e.fromWhereExp(u,l,n);a=a?a.intersect(p):p}}}catch(e){i={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a||this.createFullGroup(n)},e.fromWhereExp=function(t,n,r){var o;if(t===i.k.In||t===i.k.NotIn){if(!Array.isArray(n))throw new h({op:t});var a=n;return t===i.k.In?a.reduce((function(t,n){return t.union(e.fromWhereExp(i.k.Equals,n,r))}),this.createEmptyGroup(r)):a.reduce((function(t,n,o){var a=e.fromWhereExp(i.k.NotEquals,n,r);return o?t.intersect(a):a}),this.createFullGroup(r))}switch(t){case i.k.Equals:o=[new V(n,n,!1,!1)];break;case i.k.NotEquals:o=[new V(void 0,n,!0,!0),new V(n,void 0,!0,!0)];break;case i.k.GreaterThan:o=[new V(n,void 0,!0,!0)];break;case i.k.GreaterOrEqualThan:o=[new V(n,void 0,!1,!0)];break;case i.k.LessThan:o=[new V(void 0,n,!0,!0)];break;case i.k.LessOrEqualThan:o=[new V(void 0,n,!0,!1)];break;default:throw new f(t)}return new e(o,r)},e.prototype.union=function(t){return new e(this.math.union(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(this.intervals)),Object(r.__read)(t.intervals))),this.comparer)},e.prototype.intersect=function(t){for(var n=this.math,i=n.cmp,o=n.upperOf,a=n.lowerOf,s=n.intersect,c=Object(r.__read)([this.intervals,t.intervals],2),u=c[0],l=c[1],p=Object(r.__read)([0,0],2),h=p[0],f=p[1],d=[];h<u.length;){for(;f<l.length&&i(o(u[h]),a(l[f]))>=0;){var m=s([u[h],l[f]]);d.push.apply(d,Object(r.__spreadArray)([],Object(r.__read)(m))),f+=1}f-=1,h+=1}return new e(d,this.comparer)},e.prototype.contains=function(e){var t=this;return!!this.intervals.find((function(n){return t.math.contains(n,e)}))},e.prototype.isEmpty=function(){return 0===this.intervals.length},e.prototype.isFull=function(){return!!this.intervals.length&&void 0===this.intervals[0].lower&&void 0===this.intervals[0].upper},e.createFullGroup=function(t){return new e([new V(void 0,void 0,!0,!0)],t)},e.createEmptyGroup=function(t){return new e([],t)},e}(),z=V,Y=function(){function e(e,t,n){this.node=e,this.parent=t,this.transaction=n,this.context=J(e)}return e.prototype.perform=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,a,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return this.node.hydrate?[3,2]:[4,this.scanKeys()];case 1:return t=r.sent(),e.push(t.map((function(e){return[e,void 0]}))),[2];case 2:return(n=this.node.collectionSchema.key.path)?[4,this.scanValues()]:[3,4];case 3:return o=r.sent(),e.push(o.map((function(e){return[Object(i.m)(e,n),e]}))),[2];case 4:return[4,this.scanKeys()];case 5:return a=r.sent(),[4,this.scanValues()];case 6:return s=r.sent(),e.push(a.map((function(e,t){return[e,s[t]]}))),[2]}}))}))},e.prototype.scanKeys=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getIndex(),[4,Promise.all(e.map((function(e){return t.getAllKeys(e)})))];case 1:return[2,n.sent().reduce((function(e,t){return e.push.apply(e,Object(r.__spreadArray)([],Object(r.__read)(t))),e}),[])]}}))}))},e.prototype.scanValues=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getIndex(),[4,Promise.all(e.map((function(e){return t.getAll(e)})))];case 1:return[2,n.sent().reduce((function(e,t){return e.push.apply(e,Object(r.__spreadArray)([],Object(r.__read)(t))),e}),[])]}}))}))},e.prototype.getKeyQueries=function(){var e=new F(this.node.comparer);return this.node.intervals.map((function(t){return z.getKeyRange(e,t)}))},e.prototype.getIndex=function(){var e=this.node,t=e.collectionSchema,n=e.index;return this.transaction.table(t.name).index(n.name)},e}(),G=function(){function e(e,t){this.node=e,this.parent=t,this.context=J(e)}return e.prototype.perform=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o,a,s,c,u,l,p,h,f,d;return Object(r.__generator)(this,(function(m){if(n=(t=this).context,i=t.node,!(o=n.inputs).length)return[2];if(1===o.length)return e.push(o[0]),[2];a=function(e,t){var n=Object(r.__read)(e,1)[0],o=Object(r.__read)(t,1)[0];return i.comparer.cmp(n,o)},s=new L({cmp:a}),c=this.getSmallestPointers(o).slice();try{for(u=Object(r.__values)(o),l=u.next();!l.done;l=u.next())l.value.sort(a)}catch(e){f={error:e}}finally{try{l&&!l.done&&(d=u.return)&&d.call(u)}finally{if(f)throw f.error}}return p=function(e){return o.every((function(t){return s.has(t,e)}))},h=c.filter(p),e.push(h),[2]}))}))},e.prototype.getSmallestPointers=function(e){return e.reduce((function(e,t){return e.length<t.length?e:t}),this.context.inputs[0])},e}(),K=function(){function e(e,t){this.node=e,this.parent=t,this.context=J(e)}return e.prototype.perform=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o,a,s,c,u;return Object(r.__generator)(this,(function(l){t=this.node,n=t.offset,i=t.limit;try{for(o=Object(r.__values)(this.context.inputs),a=o.next();!a.done;a=o.next())s=a.value,e.push(s.slice(n,!i||isNaN(i)?void 0:n+i))}catch(e){c={error:e}}finally{try{a&&!a.done&&(u=o.return)&&u.call(o)}finally{if(c)throw c.error}}return[2]}))}))},e}(),X=function(){function e(e,t,n){this.node=e,this.parent=t,this.transaction=n,this.context=J(e)}return e.prototype.perform=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,a,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return this.node.hydrate?[3,2]:[4,this.scanKeys()];case 1:return t=r.sent(),e.push(t.map((function(e){return[e,void 0]}))),[2];case 2:return(n=this.node.collectionSchema.key.path)?[4,this.scanValues()]:[3,4];case 3:return o=r.sent(),e.push(o.map((function(e){return[Object(i.m)(e,n),e]}))),[2];case 4:return[4,this.scanKeys()];case 5:return a=r.sent(),[4,this.scanValues()];case 6:return s=r.sent(),e.push(a.map((function(e,t){return[e,s[t]]}))),[2]}}))}))},e.prototype.scanKeys=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getTable(),[4,Promise.all(e.map((function(e){return t.getAllKeys(e)})))];case 1:return[2,n.sent().reduce((function(e,t){return e.push.apply(e,Object(r.__spreadArray)([],Object(r.__read)(t))),e}),[])]}}))}))},e.prototype.scanValues=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return e=this.getKeyQueries(),t=this.getTable(),[4,Promise.all(e.map((function(e){return t.getAll(e)})))];case 1:return[2,n.sent().reduce((function(e,t){return e.push.apply(e,Object(r.__spreadArray)([],Object(r.__read)(t))),e}),[])]}}))}))},e.prototype.getKeyQueries=function(){var e=new F(this.node.comparer);return this.node.type===S.SCAN_ALL?[void 0]:this.node.intervals.map((function(t){return z.getKeyRange(e,t)}))},e.prototype.getTable=function(){var e=this.node.collectionSchema;return this.transaction.table(e.name)},e}(),W=function(){function e(e,t){this.node=e,this.parent=t,this.context=J(e)}return e.prototype.perform=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,a,s,c,u,l,p,h=this;return Object(r.__generator)(this,(function(f){t=this.node,n=t.comparer,o=t.path,a=t.order;try{for(s=Object(r.__values)(this.context.inputs),c=s.next();!c.done;c=s.next())(u=c.value).sort((function(e,t){var s=Object(r.__read)(e,2)[1],c=Object(r.__read)(t,2)[1],u=Object(i.m)(s,o),l=Object(i.m)(c,o),p=h.getComparerByType(n,a);if(Object(i.n)(u)&&Object(i.n)(l))return p(u,l);throw new d})),e.push(u)}catch(e){l={error:e}}finally{try{c&&!c.done&&(p=s.return)&&p.call(s)}finally{if(l)throw l.error}}return[2]}))}))},e.prototype.getComparerByType=function(e,t){return t===i.h.ASCENDING?function(t,n){return e.cmp(t,n)}:function(t,n){return-e.cmp(t,n)}},e}(),$=function(){function e(e,t){this.node=e,this.parent=t,this.context=J(e)}return e.prototype.perform=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return e.push(this.context.inputs.reduce((function(e,t){return e.push.apply(e,Object(r.__spreadArray)([],Object(r.__read)(t))),e}),[])),[2]}))}))},e}();function J(e){return{total:e.children.length,done:0,inputs:[]}}var Z=function(){function e(e,t){this.onRequestSuccess=function(){},this.onRequestFailed=function(){},this.request=e,this.transaction=t,this.jobs=new Map}return e.prototype.exec=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(r.__generator)(this,(function(t){return this.task||(this.task=new Promise((function(t,n){e.onRequestSuccess=function(n){e.reset(),t(n)},e.onRequestFailed=function(t){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return this.reset(),n(t),[2]}))}))},e.traverse(e.request.root,(function(t,n){var r=function(e,t,n){var r;return(r={},r[S.FILL]=function(){return new I(e,t)},r[S.DISTINCT]=function(){return new R(e,t)},r[S.FILTER]=function(){return new U(e,t)},r[S.HYDRATE]=function(){return new H(e,t,n)},r[S.INDEX_SCAN]=function(){return new Y(e,t,n)},r[S.INTERSECT]=function(){return new G(e,t)},r[S.PAGINATE]=function(){return new K(e,t)},r[S.SCAN]=function(){return new X(e,t,n)},r[S.SCAN_ALL]=function(){return new X(e,t,n)},r[S.SORT]=function(){return new W(e,t)},r[S.UNION]=function(){return new $(e,t)},r)[e.type]()}(t,n&&e.jobs.get(n)||null,e.transaction);e.jobs.set(t,r),t.children.length||e.beginJob(r).catch((function(t){e.onRequestFailed(t)}))}))}))),[2,this.task]}))}))},e.prototype.beginJob=function(e){var t;return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=(null===(t=e.parent)||void 0===t?void 0:t.context.inputs)||[],r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.perform(n)];case 2:return r.sent(),this.finishJob(e,n).catch((function(e){o.onRequestFailed(e)})),[3,4];case 3:return i=r.sent(),this.onRequestFailed(i),[3,4];case 4:return[2]}}))}))},e.prototype.finishJob=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i=this;return Object(r.__generator)(this,(function(r){return e.parent&&((n=e.parent.context).done+=1,n.done===n.total&&this.beginJob(e.parent).catch((function(e){i.onRequestFailed(e)}))),e.node===this.request.root&&this.onRequestSuccess(t),[2]}))}))},e.prototype.reset=function(){this.jobs=new Map,this.task=void 0,this.onRequestSuccess=function(){},this.onRequestFailed=function(){}},e.prototype.traverse=function(e,t,n){var i,o;t(e,n);try{for(var a=Object(r.__values)(e.children),s=a.next();!s.done;s=a.next()){var c=s.value;this.traverse(c,t,e)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e}(),Q=function(){function e(e){this.comparer=e}return e.prototype.rewrite=function(e){return{offset:e.offset,limit:e.limit,order:e.order&&Object(r.__assign)({},e.order),exp:this.rewriteWhereClauses(e.whereClauses)}},e.prototype.rewriteWhereClauses=function(e){var t,n,o,a,s;if(!e.length)return{type:i.e.ALL};var c={type:i.e.OR,exps:[]};try{for(var u=Object(r.__values)(e),l=u.next();!l.done;l=u.next()){var p=l.value,h={type:i.e.AND,exps:[]};try{for(var f=(o=void 0,Object(r.__values)(Object.entries(p))),d=f.next();!d.done;d=f.next()){var m=Object(r.__read)(d.value,2),v=m[0],b=m[1];if(void 0!==b){var g=Object(i.n)(b)?((s={})[i.k.Equals]=b,s):b;this.isEmptyPredicate(g)||h.exps.push({type:i.e.FILTER,predicate:g,path:v,hints:{intervalGroup:q.fromWherePredicate(g,this.comparer),isKey:!1,indices:[]}})}}}catch(e){o={error:e}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}c.exps.push(h)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return c},e.prototype.isEmptyPredicate=function(e){return Object.values(e).every((function(e){return void 0===e}))},e}(),ee=function(){function e(e){this.schema=e,this.indicesMap=new Map,this.warmupIndicesMap()}return e.prototype.bind=function(e){return this.bindQueryHints(e.exp),e},e.prototype.bindQueryHints=function(e){var t,n=this,r=e;r.type!==i.e.AND&&r.type!==i.e.OR?r.type===i.e.FILTER&&(r.hints.isKey=this.schema.key&&Object(i.l)(this.schema.key.path,r.path),r.hints.indices=null!==(t=this.indicesMap.get(r.path))&&void 0!==t?t:[]):r.exps.forEach((function(e){return n.bindQueryHints(e)}))},e.prototype.warmupIndicesMap=function(){var e,t,n,i,o;try{for(var a=Object(r.__values)(this.schema.indices.entries()),s=a.next();!s.done;s=a.next()){var c=Object(r.__read)(s.value,2),u=c[0],l=c[1];l.priority=null!==(o=l.priority)&&void 0!==o?o:-(u+1);var p=Array.isArray(l.path)?l.path:[l.path];try{for(var h=(n=void 0,Object(r.__values)(p)),f=h.next();!f.done;f=h.next()){var d=f.value,m=this.indicesMap.get(d)||[];m.push(l),this.indicesMap.set(d,m)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}},e}(),te=function(){function e(e,t){this.collectionSchema=e,this.comparer=t}return e.prototype.plan=function(e,t){return{root:this.getRootNode(e,t),aggregate:t}},e.prototype.getRootNode=function(e,t){if(e.exp.type===i.e.NONE)return this.getSkipNode();var n=this.getBaseNode(e.exp);return(t===i.d.ENTRIES||t===i.d.VALUES||e.order)&&(n=this.getHydrateNode([n])),e.order&&(n=this.getSortNode(e.order.path,e.order.type,[n])),(e.offset||e.limit!==i.j)&&(n=this.getPaginateNode(e.offset,e.limit,[n])),n=this.getDistinctNode([n])},e.prototype.getBaseNode=function(e){return e.type===i.e.ALL?this.getScanAllNode():e.type===i.e.NONE?this.getSkipNode():e.type===i.e.FILTER?this.getFilterNode(e):this.getLogicExpNode(e)},e.prototype.getLogicExpNode=function(e){var t,n,o=[];try{for(var a=Object(r.__values)(e.exps),s=a.next();!s.done;s=a.next()){var c=s.value;o.push(c.type===i.e.FILTER?this.getFilterNode(c):this.getLogicExpNode(c))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return e.type===i.e.AND?this.getIntersectNode(o):this.getUnionNode(o)},e.prototype.getFilterNode=function(e){if(!e.path||e.hints.isKey)return this.getScanNode(e.hints.intervalGroup.intervals);var t=e.hints.indices.find((function(t){return Object(i.l)(t.path,e.path)}));return t?this.getIndexScanNode(e.hints.intervalGroup.intervals,t):this.getMemFilterNode(e.hints.intervalGroup.intervals,e.path)},e.prototype.getIntersectNode=function(e){return{type:S.INTERSECT,comparer:this.comparer,children:e}},e.prototype.getDistinctNode=function(e){return void 0===e&&(e=[]),{type:S.DISTINCT,comparer:this.comparer,children:e}},e.prototype.getUnionNode=function(e){return void 0===e&&(e=[]),{type:S.UNION,children:e}},e.prototype.getHydrateNode=function(e){return void 0===e&&(e=[]),{type:S.HYDRATE,collectionSchema:this.collectionSchema,children:e}},e.prototype.getPaginateNode=function(e,t,n){return void 0===n&&(n=[]),{type:S.PAGINATE,offset:e,limit:t,children:n}},e.prototype.getSortNode=function(e,t,n){return void 0===n&&(n=[]),{type:S.SORT,path:e,order:t,comparer:this.comparer,children:n}},e.prototype.getMemFilterNode=function(e,t,n){return{type:S.FILTER,comparer:this.comparer,path:t,intervals:e,regroup:!1,children:[{type:S.HYDRATE,collectionSchema:this.collectionSchema,children:n||[this.getScanAllNode()]}]}},e.prototype.getIndexScanNode=function(e,t){return{type:S.INDEX_SCAN,collectionSchema:this.collectionSchema,index:t,intervals:e,comparer:this.comparer,children:[]}},e.prototype.getScanNode=function(e){return{type:S.SCAN,collectionSchema:this.collectionSchema,intervals:e,comparer:this.comparer,children:[]}},e.prototype.getScanAllNode=function(){return{type:S.SCAN_ALL,collectionSchema:this.collectionSchema,comparer:this.comparer,children:[]}},e.prototype.getSkipNode=function(){return{type:S.FILL,inputs:[[]],children:[]}},e}(),ne=function(){function e(){}return e.prototype.eliminate=function(e){var t=e;return t.exp=this.eliminateExp(e.exp),t},e.prototype.eliminateExp=function(e){return e.type===i.e.AND?this.eliminateAndExp(e):e.type===i.e.OR?this.eliminateOrExp(e):e.type===i.e.FILTER?this.eliminateFilterExp(e):e},e.prototype.eliminateAndExp=function(e){var t,n,o={type:i.e.AND,exps:[]};try{for(var a=Object(r.__values)(e.exps),s=a.next();!s.done;s=a.next()){var c=s.value,u=this.eliminateExp(c);if(u.type===i.e.NONE)return{type:i.e.NONE};u.type!==i.e.ALL&&o.exps.push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o.exps.length?1===o.exps.length?o.exps[0]:o:{type:i.e.ALL}},e.prototype.eliminateOrExp=function(e){var t,n,o={type:i.e.OR,exps:[]};try{for(var a=Object(r.__values)(e.exps),s=a.next();!s.done;s=a.next()){var c=s.value,u=this.eliminateExp(c);if(u.type===i.e.ALL)return{type:i.e.ALL};u.type!==i.e.NONE&&o.exps.push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o.exps.length?1===o.exps.length?e.exps[0]:o:{type:i.e.NONE}},e.prototype.eliminateFilterExp=function(e){return e.hints.intervalGroup.isEmpty()?{type:i.e.NONE}:e.hints.intervalGroup.isFull()?{type:i.e.ALL}:e},e}();var re=function(){var e,t=!1;return function(n,i){if("function"!=typeof n[i])throw new Error("memo() must be decorated on one of function properties of target");Object.defineProperty(n,i,Object(r.__assign)(Object(r.__assign)({},Object.getOwnPropertyDescriptor(n,i)),{value:function(){return t||(e=n[i](),t=!0),e}}))}},ie=S.UNION,oe=S.INTERSECT,ae=S.HYDRATE,se=S.INDEX_SCAN,ce=S.SCAN,ue=S.SCAN_ALL,le=S.FILTER;function pe(e){return he(e.root),e}function he(e){var t,n,i=e.children;try{for(var o=Object(r.__values)(i.entries()),a=o.next();!a.done;a=o.next()){var s=Object(r.__read)(a.value,2),c=s[0],u=s[1];if(he(u),[oe,ie].includes(u.type)&&1===u.children.length){var l=u.children[0];i[c]=l}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}function fe(e){return de(e.root),e}function de(e){var t,n,i,o,a=e.children;try{for(var s=Object(r.__values)(a.entries()),c=s.next();!c.done;c=s.next()){var u=Object(r.__read)(c.value,2),l=u[0],p=u[1];if(de(p),p.type===ae){var h=!1;try{for(var f=(i=void 0,Object(r.__values)(p.children)),d=f.next();!d.done;d=f.next()){(m=d.value).type!==ce&&m.type!==se&&m.type!==ue||(h=!0,m.hydrate=!0)}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}if(h&&1===p.children.length){var m=p.children[0];a[l]=m}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}function me(e){return e}function ve(e){return be(e.root),e}function be(e){var t,n;ge(e.children,(function(r){if(be(r),r.type!==le||!r.children.some((function(e){return e.type===ue})))return!0;if(n){var i=r;!function(e,t){var n=e;for(;e.nextFilter;)n=e.nextFilter;n.nextFilter=t}(n,i),i.regroup=e.type===ie}else t=r;return n=r,!1})),t&&e.children.push(t)}function ge(e,t){for(var n=e,r=0,i=n.length-1;r<=i;){var o=n[r];t(o)?r+=1:(n[r]=n[i],n[i]=o,i-=1)}return n.splice(i+1)}function ye(e){return xe(e.root),e}function xe(e){var t,n,i=e.children;try{for(var o=Object(r.__values)(i.entries()),a=o.next();!a.done;a=o.next()){var s=Object(r.__read)(a.value,2),c=s[0],u=s[1];if(xe(u),u.type===oe){var l=u.children.find((function(e){var t=e.type;return[ce,se].includes(t)}));if(l){var p=ge(u.children,(function(e){return e.type!==le}));if(p.length){var h={type:ae,collectionSchema:l.collectionSchema,children:[]};i[c]=Ee.apply(void 0,Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(p)),[h,u]))}}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}function we(e){return[i.d.COUNT,i.d.KEYS].includes(e.aggregate)||je((function(e){e.type!==ce&&e.type!==se||(e.hydrate=!0)}),e.root),e}function _e(e){return je((function(e){var t,n,i,o,a;if(e.type===oe){var s=Number.MIN_SAFE_INTEGER;try{for(var c=Object(r.__values)(e.children),u=c.next();!u.done;u=c.next()){var l=u.value,p=Number.MIN_SAFE_INTEGER;l.type===ce&&(p=0),l.type===se&&l.index.priority&&(p=l.index.priority),s=Math.max(s,p)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}var h=e.children;try{for(var f=Object(r.__values)(h.entries()),d=f.next();!d.done;d=f.next()){var m=Object(r.__read)(d.value,2),v=m[0];if((l=m[1]).type===se)(p=null!==(a=l.index.priority)&&void 0!==a?a:Number.MIN_SAFE_INTEGER)<s&&(h[v]=Oe(l))}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}),e.root),e}function Oe(e){return{path:e.index.path,intervals:e.intervals,comparer:e.comparer,type:S.FILTER,regroup:!1,children:[{type:S.SCAN_ALL,collectionSchema:e.collectionSchema,comparer:e.comparer,hydrate:!0,children:[]}]}}function je(e,t,n,i){var o,a;void 0===n&&(n=null),void 0===i&&(i=-1);var s=t.children;try{for(var c=Object(r.__values)(s.entries()),u=c.next();!u.done;u=c.next()){var l=Object(r.__read)(u.value,2),p=l[0];je(e,l[1],t,p)}}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}e(t,n,i)}function Ee(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Object(r.__read)(n),a=o[0],s=o.slice(1),c=a;try{for(var u=Object(r.__values)(s),l=u.next();!l.done;l=u.next()){var p=l.value;c.children=[p],c=p}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return a}var Ce,Me=function(){function e(){}return e.prototype.optimize=function(e){var t=[_e,fe,ve,pe,ye,me,pe,fe,we];return this.applyAllRules(t,e)},e.prototype.applyAllRules=function(e,t){return e.reduce((function(e,t){return t(e)}),t)},e}(),Se=function(){function e(e){void 0===e&&(e=new Map),this.query={offset:0,limit:void 0,order:void 0,whereClauses:[]},this.aliasMap=e}return e.fromRawQuery=function(t,n){var i,o;void 0===n&&(n=new Map);var a=new e(n),s=t.offset,c=t.limit,u=t.order,l=t.whereClauses;a.setOffset(s),a.setLimit(c),u&&a.setOrderBy(u.path,u.type);try{for(var p=Object(r.__values)(l),h=p.next();!h.done;h=p.next()){var f=h.value;a.addWhereClause(f)}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}return a},e.prototype.setOffset=function(e){this.query.offset=e},e.prototype.setLimit=function(e){this.query.limit=e},e.prototype.setRange=function(e,t){void 0===e&&(e=0),this.query.offset=e,this.query.limit=t!==i.j?Math.max(0,t-e):i.j},e.prototype.setOrderBy=function(e,t){this.query.order={path:e,type:t||i.h.ASCENDING}},e.prototype.addWhereClause=function(e){var t,n,i;if(this.isValidWhereClause(e)){var o={};try{for(var a=Object(r.__values)(Object.entries(e)),s=a.next();!s.done;s=a.next()){var c=Object(r.__read)(s.value,2),u=c[0],l=c[1];if(void 0!==l)o[null!==(i=this.aliasMap.get(u))&&void 0!==i?i:u]=l}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}this.query.whereClauses.push(o)}},e.prototype.clone=function(t){return void 0===t&&(t=this.aliasMap),e.fromRawQuery(this.query,t)},e.prototype.build=function(){return this.query},e.prototype.isValidWhereClause=function(e){return!!e&&Object.keys(e).length>=0},e}();!function(e){e.DISABLED="disabled",e.ALL="all"}(Ce||(Ce={}));var ke,Ae=function(){function e(e,t){this.collectionName=e,this.context=t.context}return e.toggleOptimization=function(t){e.optimization=t?Ce.ALL:Ce.DISABLED},e.getOptimizationMode=function(){return e.optimization},e.prototype.exec=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,o,a,s,c,u,l,p;return Object(r.__generator)(this,(function(h){switch(h.label){case 0:return[4,this.context.getTransaction([this.collectionName],i.i.READ_ONLY)];case 1:return n=h.sent(),[4,this.getModel()];case 2:return o=h.sent(),a=this.getAliasMap(o.class),s=Se.fromRawQuery(e,a).build(),(c=n.table(this.collectionName)).supports("query")&&s.whereClauses.length<=1?t!==i.d.VALUES?[3,4]:[4,c.query(s,t)]:[3,7];case 3:return[2,h.sent().map((function(e){var t;return null!==(t=D(e,o.class))&&void 0!==t?t:void 0}))];case 4:return t!==i.d.ENTRIES?[3,6]:[4,c.query(s,t)];case 5:return[2,h.sent().map((function(e){var t,n=Object(r.__read)(e,2);return[n[0],null!==(t=D(n[1],o.class))&&void 0!==t?t:void 0]}))];case 6:return[2,c.query(s,t)];case 7:return[4,this.getQueryPlan(s,t)];case 8:return u=h.sent(),[4,new Z(u,n).exec()];case 9:return l=r.__read.apply(void 0,[h.sent(),1]),p=l[0],t===i.d.COUNT?[2,p.length]:t===i.d.KEYS?[2,p.map((function(e){return Object(r.__read)(e,1)[0]}))]:t===i.d.VALUES?[2,p.map((function(e){var t;return null!==(t=D(Object(r.__read)(e,2)[1],o.class))&&void 0!==t?t:void 0}))]:[2,p.map((function(e){var t,n=Object(r.__read)(e,2);return[n[0],null!==(t=D(n[1],o.class))&&void 0!==t?t:void 0]}))]}}))}))},e.prototype.conditions=function(e){return this.getRewriter().rewrite(e)},e.prototype.explain=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getQueryPlan(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getQueryPlan=function(t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,c,u,l;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.getRewriter()];case 1:return i=r.sent(),[4,this.getEliminator()];case 2:return o=r.sent(),[4,this.getPlanner()];case 3:return a=r.sent(),[4,this.getBinder()];case 4:return s=r.sent(),[4,this.getOptimizer()];case 5:return c=r.sent(),u=i.rewrite(t),u=s.bind(u),u=o.eliminate(u),l=a.plan(u,n),[2,e.optimization===Ce.DISABLED?l:c.optimize(l)]}}))}))},e.prototype.getAliasMap=function(e){var t,n,i=new Map,o=w.getTableInfo(e.prototype);if(!o)return i;try{for(var a=Object(r.__values)(o.properties.values()),s=a.next();!s.done;s=a.next()){var c=s.value;c.alias&&i.set(c.name,c.alias)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},e.prototype.getModel=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.context.waitForModelRegistered(this.collectionName)]}))}))},e.prototype.getPlanner=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getModel()];case 1:return e=t.sent(),[2,new te(e.schema,this.context.comparer)]}}))}))},e.prototype.getRewriter=function(){return new Q(this.context.comparer)},e.prototype.getEliminator=function(){return new ne},e.prototype.getBinder=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getModel()];case 1:return e=t.sent(),[2,new ee(e.schema)]}}))}))},e.prototype.getOptimizer=function(){return new Me},e.optimization=Ce.ALL,Object(r.__decorate)([re()],e.prototype,"getModel",null),Object(r.__decorate)([re()],e.prototype,"getPlanner",null),Object(r.__decorate)([re()],e.prototype,"getRewriter",null),Object(r.__decorate)([re()],e.prototype,"getEliminator",null),Object(r.__decorate)([re()],e.prototype,"getBinder",null),Object(r.__decorate)([re()],e.prototype,"getOptimizer",null),e}(),Te=function(){function e(e,t){this.name=e,this.options=t,this.contextGenerator=t.contextGenerator,this.queryBuilder=new Se,this.patch()}return e.toggleOptimization=function(e){return Ae.toggleOptimization(e)},e.prototype.skip=function(e){return this.queryBuilder.setOffset(e),this},e.prototype.take=function(e){return this.queryBuilder.setLimit(e),this},e.prototype.slice=function(e,t){return this.queryBuilder.setRange(e,t),this},e.prototype.orderBy=function(e,t){return this.queryBuilder.setOrderBy(e,t),this},e.prototype.where=function(e){return this.queryBuilder.addWhereClause(e),this},e.prototype.or=function(e){return this.queryBuilder.addWhereClause(e),this},e.prototype.conditions=function(){var e=this.contextGenerator.spawnContext();return new Ae(this.name,{context:e}).conditions(this.queryBuilder.build())},e.prototype.clone=function(){var t=new e(this.name,this.options);return t.queryBuilder=this.queryBuilder.clone(),t},e.prototype.explain=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){return t=this.contextGenerator.spawnContext(),[2,new Ae(this.name,{context:t}).explain(this.queryBuilder.build(),e)]}))}))},e.prototype.count=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,new Ae(this.name,{context:e}).exec(this.queryBuilder.build(),i.d.COUNT)]}))}))}))]}))}))},e.prototype.entries=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,new Ae(this.name,{context:e}).exec(this.queryBuilder.build(),i.d.ENTRIES)]}))}))}))]}))}))},e.prototype.keys=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,new Ae(this.name,{context:e}).exec(this.queryBuilder.build(),i.d.KEYS)]}))}))}))]}))}))},e.prototype.values=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,new Ae(this.name,{context:e}).exec(this.queryBuilder.build(),i.d.VALUES)]}))}))}))]}))}))},e.prototype.first=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,new Ae(this.name,{context:e}).exec(this.queryBuilder.build(),i.d.VALUES)];case 1:return t=r.sent(),[2,null!==(n=t[0])&&void 0!==n?n:null]}}))}))}))]}))}))},e.prototype.last=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){return[2,(e=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,new Ae(this.name,{context:e}).exec(this.queryBuilder.build(),i.d.VALUES)];case 1:return t=r.sent(),[2,null!==(n=t[t.length-1])&&void 0!==n?n:null]}}))}))}))]}))}))},e.prototype.update=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,o=this;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.entries()];case 1:return t=a.sent(),[2,(n=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(o,void 0,void 0,(function(){var o,a,s,c,u,l,p,h,f,d,m,v,b;return Object(r.__generator)(this,(function(g){switch(g.label){case 0:return o=[],[4,n.getTransaction([this.name],i.i.READ_WRITE)];case 1:a=g.sent(),s=a.table(this.name),g.label=2;case 2:g.trys.push([2,8,9,10]),c=Object(r.__values)(t),u=c.next(),g.label=3;case 3:return u.done?[3,7]:(l=Object(r.__read)(u.value,2),p=l[0],h=l[1],[4,s.openCursor(p)]);case 4:return(f=g.sent())?(d=e(h),[4,f.update(N(d))]):[3,6];case 5:g.sent(),o.push(p),g.label=6;case 6:return u=c.next(),[3,3];case 7:return[3,10];case 8:return m=g.sent(),v={error:m},[3,10];case 9:try{u&&!u.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}return[7];case 10:return[2,o]}}))}))}))]}}))}))},e.prototype.clear=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n=this;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.keys()];case 1:return e=o.sent(),[2,(t=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n,o,a,s,c,u,l,p,h,f;return Object(r.__generator)(this,(function(d){switch(d.label){case 0:return n=[],[4,t.getTransaction([this.name],i.i.READ_WRITE)];case 1:return o=d.sent(),(a=o.table(this.name)).supports("bulkDelete")?[4,a.bulkDelete(e)]:[3,3];case 2:return d.sent(),[2,e];case 3:d.trys.push([3,9,10,11]),s=Object(r.__values)(e),c=s.next(),d.label=4;case 4:return c.done?[3,8]:(u=c.value,[4,a.openCursor(u)]);case 5:return(l=d.sent())?[4,l.delete()]:[3,7];case 6:d.sent(),n.push(u),d.label=7;case 7:return c=s.next(),[3,4];case 8:return[3,11];case 9:return p=d.sent(),h={error:p},[3,11];case 10:try{c&&!c.done&&(f=s.return)&&f.call(s)}finally{if(h)throw h.error}return[7];case 11:return[2,n]}}))}))}))]}}))}))},e.prototype.patch=function(){var e=this.options.aspects;e.update.patch(this,"update"),e.clear.patch(this,"clear"),e.count.patch(this,"count"),e.entries.patch(this,"entries"),e.keys.patch(this,"keys"),e.values.patch(this,"values"),e.first.patch(this,"first"),e.last.patch(this,"last"),e.skip.patch(this,"skip"),e.take.patch(this,"take"),e.slice.patch(this,"slice"),e.orderBy.patch(this,"orderBy"),e.where.patch(this,"where"),e.or.patch(this,"or")},e}(),Ne=function(){function e(e,t){this.name=e,this.aspects=t.aspects,this.contextGenerator=t.contextGenerator,this.unsliced=new Te(e,t),this.patch()}return e.prototype.skip=function(e){return this.unsliced.clone().skip(e)},e.prototype.take=function(e){return this.unsliced.clone().take(e)},e.prototype.slice=function(e,t){return this.unsliced.clone().slice(e,t)},e.prototype.orderBy=function(e,t){return this.unsliced.clone().orderBy(e,t)},e.prototype.where=function(e){return this.unsliced.clone().where(e)},e.prototype.or=function(e){return this.unsliced.clone().or(e)},e.prototype.update=function(e){return this.unsliced.update(e)},e.prototype.clear=function(){return this.unsliced.clear()},e.prototype.count=function(){return this.unsliced.count()},e.prototype.entries=function(){return this.unsliced.entries()},e.prototype.keys=function(){return this.unsliced.keys()},e.prototype.values=function(){return this.unsliced.values()},e.prototype.first=function(){return this.unsliced.first()},e.prototype.last=function(){return this.unsliced.last()},e.prototype.get=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(r.__generator)(this,(function(o){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n,o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getTransaction([this.name],i.i.READ_ONLY)];case 1:return n=r.sent(),[4,t.waitForModelRegistered(this.name)];case 2:return o=r.sent(),[4,n.table(this.name).get(e)];case 3:return[2,(a=r.sent())?D(a,o.class):null]}}))}))}))]}))}))},e.prototype.has=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(r.__generator)(this,(function(o){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getTransaction([this.name],i.i.READ_ONLY)];case 1:return n=r.sent(),[4,n.table(this.name).openCursor(e)];case 2:return[2,!!r.sent()]}}))}))}))]}))}))},e.prototype.delete=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(r.__generator)(this,(function(o){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n,o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getTransaction([this.name],i.i.READ_WRITE)];case 1:return n=r.sent(),[4,(o=n.table(this.name)).openCursor(e)];case 2:return a=r.sent(),[4,o.delete(e)];case 3:return r.sent(),[2,a?e:null]}}))}))}))]}))}))},e.prototype.insert=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(r.__generator)(this,(function(o){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getTransaction([this.name],i.i.READ_WRITE)];case 1:return n=r.sent(),[4,n.table(this.name).insert(N(e))];case 2:return[2,r.sent()]}}))}))}))]}))}))},e.prototype.upsert=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(r.__generator)(this,(function(o){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getTransaction([this.name],i.i.READ_WRITE)];case 1:return n=r.sent(),[4,n.table(this.name).upsert(N(e))];case 2:return[2,r.sent()]}}))}))}))]}))}))},e.prototype.bulkInsert=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(r.__generator)(this,(function(o){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n,o,a,s,c,u,l,p,h,f;return Object(r.__generator)(this,(function(d){switch(d.label){case 0:return[4,t.getTransaction([this.name],i.i.READ_WRITE)];case 1:n=d.sent(),o=[],a=n.table(this.name),d.label=2;case 2:d.trys.push([2,7,8,9]),s=Object(r.__values)(e),c=s.next(),d.label=3;case 3:return c.done?[3,6]:(u=c.value,[4,a.insert(N(u))]);case 4:l=d.sent(),o.push(l),d.label=5;case 5:return c=s.next(),[3,3];case 6:return[3,9];case 7:return p=d.sent(),h={error:p},[3,9];case 8:try{c&&!c.done&&(f=s.return)&&f.call(s)}finally{if(h)throw h.error}return[7];case 9:return[2,o]}}))}))}))]}))}))},e.prototype.bulkUpsert=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(r.__generator)(this,(function(o){return[2,(t=this.contextGenerator.spawnContext()).perform((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getTransaction([this.name],i.i.READ_WRITE)];case 1:return n=r.sent(),[2,n.table(this.name).bulkUpsert(e.map((function(e){return N(e)})))]}}))}))}))]}))}))},e.prototype.conditions=function(){return this.unsliced.conditions()},e.prototype.patch=function(){this.aspects.get.patch(this,"get"),this.aspects.has.patch(this,"has"),this.aspects.delete.patch(this,"delete"),this.aspects.insert.patch(this,"insert"),this.aspects.upsert.patch(this,"upsert"),this.aspects.bulkInsert.patch(this,"bulkInsert"),this.aspects.bulkUpsert.patch(this,"bulkUpsert")},e}(),De=function(){function e(e,t){this.collectionMap=new Map,this.storage=e,this.eventBus=t}return e.prototype.getCollection=function(e,t){if(this.collectionMap.has(e))return this.collectionMap.get(e);var n=this.createCollection(e,t);return this.collectionMap.set(e,n),this.eventBus.emit(M.CollectionCreated,{collectionName:e,context:t.spawnContext()}),n},e.prototype.createCollection=function(e,t){var n=this.storage.aspects.collection;return new Ne(e,{contextGenerator:t,aspects:n})},e}(),Ie=o.a.withMessageCreator("UnexpectedModifierError",(function(e){return'unexpected error occurred at the "'+e+'" stage of the plugable function, there may be a bug in your modifiers.'})),Le=o.a.withMessageCreator("InvalidPatchedFunctionError",(function(e){return'patched target is not a function, patched key is "'+e+'"'}));!function(e){e.before="before",e.around="around",e.return="return",e.throw="throw",e.after="after",e.protect="protect"}(ke||(ke={}));var Re=function(){function e(e){this.modifiers={before:[],around:[],return:[],throw:[],after:[],protect:[]},this.createContext=e}return e.prototype.before=function(e){return this.modifiers.before.push(e),this},e.prototype.around=function(e){return this.modifiers.around.push(e),this},e.prototype.throw=function(e){return this.modifiers.throw.push(e),this},e.prototype.return=function(e){return this.modifiers.return.push(e),this},e.prototype.after=function(e){return this.modifiers.after.push(e),this},e.prototype.protect=function(e){return this.modifiers.protect.push(e),this},e.prototype.patch=function(e,t){Object.defineProperty(e,t,{enumerable:!1,value:this.compile(e,t),writable:!0,configurable:!0})},e.prototype.dirty=function(){return Object.values(this.modifiers).some((function(e){return e.length}))},e.prototype.compile=function(e,t){var n=e[t];if("function"!=typeof n)throw new Le(t);var r=this.invoke.bind(this);return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(n,this,e)}},e}(),Pe=Re,Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.create=function(){return new t((function(){return{}}))},t.withContext=function(e){return new t(e)},t.prototype.invoke=function(e,t,n){var i;if(!this.dirty())return e.call.apply(e,Object(r.__spreadArray)([t],Object(r.__read)(n)));var o=Object.assign(this.createContext(),{args:n,this:t,callee:e,return:void 0,error:void 0});try{this.trigger(ke.before,o,this.modifiers.protect),this.modifiers.around.length?this.trigger(ke.around,o,this.modifiers.protect):o.return=(i=o.callee).call.apply(i,Object(r.__spreadArray)([o.this],Object(r.__read)(o.args))),this.trigger(ke.return,o,this.modifiers.protect)}catch(e){throw this.modifiers.throw.length&&(Object.assign(o,{error:e}),this.trigger(ke.throw,o,this.modifiers.protect)),e}finally{this.trigger(ke.after,o,this.modifiers.protect)}return o.return},t.prototype.trigger=function(e,t,n){var i,a,s,c;try{for(var u=Object(r.__values)(this.modifiers[e]),l=u.next();!l.done;l=u.next()){var p=l.value;try{p.call(t.this,t)}catch(i){if(!n.length){Object(o.c)(new Ie(e,i));continue}try{for(var h=(s=void 0,Object(r.__values)(n)),f=h.next();!f.done;f=h.next()){var d=f.value;Object.assign(t,{error:i}),d.call(t.this,t)}}catch(e){s={error:e}}finally{try{f&&!f.done&&(c=h.return)&&c.call(h)}finally{if(s)throw s.error}}}}}catch(e){i={error:e}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}},t}(Pe),Fe=Be,Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.create=function(){return new t((function(){return{}}))},t.withContext=function(e){return new t(e)},t.prototype.invoke=function(e,t,n){var i=this;if(!this.dirty())return e.call.apply(e,Object(r.__spreadArray)([t],Object(r.__read)(n)));var o=Object.assign(this.createContext(),{args:n,this:t,callee:e,return:void 0,error:void 0});return new Promise((function(e,t){Object(r.__awaiter)(i,void 0,void 0,(function(){var e,t,n,i;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,7,10,12]),[4,this.trigger(ke.before,o,this.modifiers.protect)];case 1:return a.sent(),this.modifiers.around.length?[3,3]:(e=(i=o.callee).call.apply(i,Object(r.__spreadArray)([o.this],Object(r.__read)(o.args))),t=o,[4,e]);case 2:return t.return=a.sent(),[3,5];case 3:return[4,this.trigger(ke.around,o,this.modifiers.protect)];case 4:a.sent(),a.label=5;case 5:return[4,this.trigger(ke.return,o,this.modifiers.protect)];case 6:return a.sent(),[3,12];case 7:return n=a.sent(),Object.assign(o,{error:n}),this.modifiers.throw.length?[4,this.trigger(ke.throw,o,this.modifiers.protect)]:[3,9];case 8:a.sent(),a.label=9;case 9:throw n;case 10:return[4,this.trigger(ke.after,o,this.modifiers.protect)];case 11:return a.sent(),[7];case 12:return[2]}}))})).then((function(){e(o.return)})).catch((function(e){t(e)}))}))},t.prototype.trigger=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,s,c,u,l,p,h,f,d,m,v,b;return Object(r.__generator)(this,(function(g){switch(g.label){case 0:g.trys.push([0,15,16,17]),i=Object(r.__values)(this.modifiers[e]),a=i.next(),g.label=1;case 1:if(a.done)return[3,14];s=a.value,g.label=2;case 2:return g.trys.push([2,4,,13]),[4,s.call(t.this,t)];case 3:return g.sent(),[3,13];case 4:if(c=g.sent(),!n.length)return Object(o.c)(new Ie(e,c)),[3,13];g.label=5;case 5:g.trys.push([5,10,11,12]),v=void 0,u=Object(r.__values)(n),l=u.next(),g.label=6;case 6:return l.done?[3,9]:(p=l.value,Object.assign(t,{error:c}),[4,p.call(t.this,t)]);case 7:g.sent(),g.label=8;case 8:return l=u.next(),[3,6];case 9:return[3,12];case 10:return h=g.sent(),v={error:h},[3,12];case 11:try{l&&!l.done&&(b=u.return)&&b.call(u)}finally{if(v)throw v.error}return[7];case 12:return[3,13];case 13:return a=i.next(),[3,1];case 14:return[3,17];case 15:return f=g.sent(),d={error:f},[3,17];case 16:try{a&&!a.done&&(m=i.return)&&m.call(i)}finally{if(d)throw d.error}return[7];case 17:return[2]}}))}))},t}(Pe),He=Ue;function Ve(){return{timings:new Map,counters:new Map,messages:new Map,errors:new Map,flags:new Map,data:new Map}}var qe,ze=function(){function e(e,t){this.storage=e,this.eventBus=t,this.plugins=[]}return e.prototype.add=function(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var o=Object(r.__values)(n),a=o.next();!a.done;a=o.next()){var s=a.value;this.plugins.push(s),s.register(this.storage),this.eventBus.emit(C.RegisterPlugin,s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e}(),Ye=ze,Ge=o.a.withMessageCreator("UnexpectedOutsideMigrationActionError",(function(e){return e+" outside ensure(callback) is not allowed, please wrap your migration actions inside a ensure callback"})),Ke=function(){function e(e,t){this.name=e,this.context=t}return e.create=function(t){return{index:function(n){return new e(n,t)}}},e.prototype.create=function(e){var t=this.context.scope.collection;if(!t)throw new Ge("CreateIndex");return this.context.actions.schema.push({type:i.f.CreateIndex,name:this.name,attributes:Object(r.__assign)({},e),collection:t}),this},e.prototype.drop=function(){var e=this.context.scope.collection;if(!e)throw new Ge("DropIndex");this.context.actions.schema.push({type:i.f.DropIndex,name:this.name,collection:e})},e.prototype.alter=function(e){var t=this.context.scope.collection;if(!t)throw new Ge("AlterIndex");return this.context.actions.schema.push({type:i.f.DropIndex,name:this.name,collection:t},{type:i.f.CreateIndex,name:this.name,attributes:Object(r.__assign)({},e),collection:t}),this},e.prototype.rename=function(e){var t=this.context.scope.collection;if(!t)throw new Ge("RenameIndex");this.context.actions.schema.push({type:i.f.DropIndex,name:this.name,collection:t},{type:i.f.CreateIndex,name:e,attributes:{path:""},collection:t})},e.prototype.ensure=function(){throw new o.b},e}(),Xe=function(){function e(e,t){this.name=e,this.context=t}return e.create=function(t){return{collection:function(n){return new e(n,t)}}},e.prototype.create=function(e){return this.context.actions.schema.push({type:i.f.CreateCollection,name:this.name,attributes:Object(r.__assign)({},e)}),this},e.prototype.drop=function(){this.context.actions.schema.push({type:i.f.DropCollection,name:this.name})},e.prototype.alter=function(e){return this.context.actions.schema.push({type:i.f.DropCollection,name:this.name},{type:i.f.CreateCollection,name:this.name,attributes:Object(r.__assign)({},e)}),this},e.prototype.rename=function(e){this.context.actions.schema.push({type:i.f.DropCollection,name:this.name},{type:i.f.CreateCollection,name:e,attributes:{key:{generator:i.b.AutoIncrement},properties:[]}})},e.prototype.ensure=function(e){var t=this.context,n=Object(r.__assign)({},Ke.create(t));this.context.scope.collection=this.name,e(n),this.context.scope.collection=null},e}(),We=function(){function e(){this.context={actions:{schema:[],data:[]},scope:{database:null,collection:null}},this.builder=Xe.create(this.context)}return e.prototype.init=function(e){this.state=e,this.build()},e.prototype.plan=function(){return this.context.actions.schema.length||this.context.actions.data.length?[{schema:{actions:this.context.actions.schema.slice()},data:{actions:this.context.actions.data.slice()}}]:[]},e.prototype.handleDropCollection=function(e){var t,n;try{for(var i=Object(r.__values)(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.builder.collection(a.name).drop()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.handleCreateCollection=function(e){var t,n,i=function(e){o.builder.collection(e.name).create(e).ensure((function(t){var n,i;try{for(var o=(n=void 0,Object(r.__values)(e.indices)),a=o.next();!a.done;a=o.next()){var s=a.value;t.index(s.name).create(s)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}))},o=this;try{for(var a=Object(r.__values)(e),s=a.next();!s.done;s=a.next()){i(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype.handleIndexChange=function(e){var t,n,i=function(e){o.builder.collection(e.collection).ensure((function(t){var n,i,o,a,s,c;try{for(var u=(n=void 0,Object(r.__values)((null===(s=e.index)||void 0===s?void 0:s.added)||[])),l=u.next();!l.done;l=u.next()){var p=l.value;t.index(p.name).create(p)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}try{for(var h=(o=void 0,Object(r.__values)((null===(c=e.index)||void 0===c?void 0:c.deleted)||[])),f=h.next();!f.done;f=h.next()){p=f.value;t.index(p.name).drop()}}catch(e){o={error:e}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}}))},o=this;try{for(var a=Object(r.__values)(e),s=a.next();!s.done;s=a.next()){i(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype.build=function(){if(!this.state)throw new Error("Migration state is undefined, must init before!");var e=this.state.schema,t=e.expect,n=e.actual,r=i.g.databaseDiff(n,t);this.handleCreateCollection(r.added),this.handleDropCollection(r.deleted),this.handleIndexChange(r.different)},e}(),$e=i.c.name;!function(e){e.SYSTEM_TABLE="system_table",e.SCAN_EXISTING_TABLE="scan_exists_table"}(qe||(qe={}));var Je=function(){function e(){}return e.hasSystemTable=function(e){return e.tableNames.includes($e)},e.getDatabaseSchema=function(t,n,o){return Object(r.__awaiter)(this,void 0,void 0,(function(){var a,s,c,u,l;return Object(r.__generator)(this,(function(p){switch(p.label){case 0:return[4,n.openDB(t,{name:t,collections:[i.c]})];case 1:a=p.sent(),s=!1,p.label=2;case 2:return p.trys.push([2,,10,11]),a.tableNames.length?[3,4]:(a.close(),s=!0,[4,n.deleteDB(t)]);case 3:return p.sent(),[2,{schema:{name:this.name,version:0,collections:[]},from:"scan_exists_table"}];case 4:return this.hasSystemTable(a)?[3,6]:[4,e.getDatabaseSchemaByScanningTableStructure(o.collections.map((function(e){return e.name})),a)];case 5:return[2,{schema:p.sent(),from:"scan_exists_table"}];case 6:return[4,a.transaction([$e],i.i.READ_ONLY)];case 7:return c=p.sent(),[4,c.table($e).getAll()];case 8:return u=p.sent()||[],l={name:this.name,version:a.version,collections:Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(u)),[this.getSystemTableSchema()])},[4,c.commit()];case 9:return p.sent(),[2,{schema:l,from:"system_table"}];case 10:return s||a.close(),[7];case 11:return[2]}}))}))},e.getSystemTableSchema=function(){return i.c},e.updateSchemaChange=function(e,t,n,o){return Object(r.__awaiter)(this,void 0,void 0,(function(){var a,s,c,u,l,p,h,f,d,m,b,g,y,x,w,_,O,j,E,C,M,S,k;return Object(r.__generator)(this,(function(A){switch(A.label){case 0:return a=t.table($e),o?[4,a.bulkUpsert(n.schema.expect.collections.filter((function(e){return e.name!==$e})))]:[3,2];case 1:return A.sent(),[2];case 2:A.trys.push([2,27,,29]),s=i.g.databaseDiff(n.schema.actual,n.schema.expect),c=s.added.filter((function(e){return e.name!==$e})),A.label=3;case 3:A.trys.push([3,8,9,10]),u=Object(r.__values)(c),l=u.next(),A.label=4;case 4:return l.done?[3,7]:((d=l.value).dataVersion=e,[4,a.upsert(d)]);case 5:A.sent(),A.label=6;case 6:return l=u.next(),[3,4];case 7:return[3,10];case 8:return p=A.sent(),j={error:p},[3,10];case 9:try{l&&!l.done&&(E=u.return)&&E.call(u)}finally{if(j)throw j.error}return[7];case 10:A.trys.push([10,15,16,17]),h=Object(r.__values)(s.deleted),f=h.next(),A.label=11;case 11:return f.done?[3,14]:(d=f.value,[4,a.delete(d.name)]);case 12:A.sent(),A.label=13;case 13:return f=h.next(),[3,11];case 14:return[3,17];case 15:return m=A.sent(),C={error:m},[3,17];case 16:try{f&&!f.done&&(M=h.return)&&M.call(h)}finally{if(C)throw C.error}return[7];case 17:b=s.different.filter((function(e){return!!e.index})),g=function(e){var t,n,i;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return[4,a.get(e.collection)];case 1:return t=o.sent(),n=[],i=t.indices.filter((function(t){return!e.index.deleted.some((function(e){return e.name===t.name}))})),n.push.apply(n,Object(r.__spreadArray)([],Object(r.__read)(e.index.added))),n.push.apply(n,Object(r.__spreadArray)([],Object(r.__read)(i))),t.index=n,[4,a.upsert(t)];case 2:return o.sent(),[2]}}))},A.label=18;case 18:A.trys.push([18,23,24,25]),y=Object(r.__values)(b),x=y.next(),A.label=19;case 19:return x.done?[3,22]:(w=x.value,[5,g(w)]);case 20:A.sent(),A.label=21;case 21:return x=y.next(),[3,19];case 22:return[3,25];case 23:return _=A.sent(),S={error:_},[3,25];case 24:try{x&&!x.done&&(k=y.return)&&k.call(y)}finally{if(S)throw S.error}return[7];case 25:return[4,t.commit()];case 26:if(!A.sent())throw new v;return[3,29];case 27:return O=A.sent(),[4,t.rollback()];case 28:throw A.sent(),O;case 29:return[2]}}))}))},e.updateCollectionDataVersion=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return Object(r.__generator)(this,(function(s){switch(s.label){case 0:return[4,(i=t.table($e)).get(w.getTableName(n))];case 1:if(o=s.sent(),a=w.getTableInfo(n.prototype),!o)throw new Error("get target table system info error!");if(!a)throw new l(n.name);return o.dataVersion=e,o.properties=Object(r.__spreadArray)([],Object(r.__read)(a.properties.values())).map((function(e){return e.name})),[4,i.upsert(o)];case 2:return s.sent(),[2]}}))}))},e.getTableDataVersion=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.table($e).get(e)];case 1:return[2,n.sent().dataVersion]}}))}))},e.getDatabaseSchemaByScanningTableStructure=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,o,a,s,c,u,l,p,h,f,d,m,v,b,g,y;return Object(r.__generator)(this,(function(x){switch(x.label){case 0:n=t.tableNames.filter((function(t){return e.includes(t)})),o=[],x.label=1;case 1:x.trys.push([1,6,7,8]),a=Object(r.__values)(n),s=a.next(),x.label=2;case 2:return s.done?[3,5]:(c=s.value,[4,t.table(c,i.i.READ_ONLY)]);case 3:u=x.sent(),l={name:c,key:u.autoIncrement?{generator:i.b.AutoIncrement}:{path:u.keyPath},indices:[],properties:[]};try{for(g=void 0,p=Object(r.__values)(u.indexNames),h=p.next();!h.done;h=p.next())f=h.value,d=u.index(f),l.indices.push({name:f,path:d.keyPath,unique:d.unique})}catch(e){g={error:e}}finally{try{h&&!h.done&&(y=p.return)&&y.call(p)}finally{if(g)throw g.error}}o.push(l),x.label=4;case 4:return s=a.next(),[3,2];case 5:return[3,8];case 6:return m=x.sent(),v={error:m},[3,8];case 7:try{s&&!s.done&&(b=a.return)&&b.call(a)}finally{if(v)throw v.error}return[7];case 8:return[2,{name:t.name,version:t.version,collections:o}]}}))}))},e}(),Ze=function(){function e(e){this.schemaActionHandlerMap=new Map,this.dataActionHandlerMap=new Map,this.schemaActionHandlerMap.set(i.f.CreateCollection,this.performCreateCollectionAction.bind(this)),this.schemaActionHandlerMap.set(i.f.DropCollection,this.performDropCollectionAction.bind(this)),this.schemaActionHandlerMap.set(i.f.CreateIndex,this.performCreateIndexAction.bind(this)),this.schemaActionHandlerMap.set(i.f.DropIndex,this.performDropIndexAction.bind(this)),this.dataActionHandlerMap.set(i.a.DropProperty,this.performDropPropertyAction.bind(this)),this.dataActionHandlerMap.set(i.a.ClearData,this.performClearDataAction.bind(this)),this.dataActionHandlerMap.set(i.a.ReplaceData,this.performReplaceDataAction.bind(this)),e.executeDataAction.patch(this,"executeDataAction"),e.executeSchemaAction.patch(this,"executeSchemaAction")}return e.prototype.executeSchemaAction=function(e,t,n){var r=this.schemaActionHandlerMap.get(n.type);if(r){if(t.mode!==i.i.VERSION_CHANGE)throw new u(n.type);return r(e,t,n)}},e.prototype.executeDataAction=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){return(i=this.dataActionHandlerMap.get(n.type))?[2,i(e,t,n)]:[2]}))}))},e.prototype.performCreateIndexAction=function(e,t,n){t.table(n.collection).createIndex(n.name,n.attributes.path,{unique:n.attributes.unique})},e.prototype.performDropIndexAction=function(e,t,n){t.table(n.collection).deleteIndex(n.name)},e.prototype.performDropCollectionAction=function(e,t,n){e.deleteTable(n.name)},e.prototype.performCreateCollectionAction=function(e,t,n){var r,o;e.createTable(n.name,{keyPath:null===(r=n.attributes.key)||void 0===r?void 0:r.path,autoIncrement:(null===(o=n.attributes.key)||void 0===o?void 0:o.generator)===i.b.AutoIncrement})},e.prototype.performClearDataAction=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return e=t.table(n.collection),n.filter?[3,2]:[4,e.clear()];case 1:return r.sent(),[2];case 2:return[4,e.openCursor()];case 3:i=r.sent(),r.label=4;case 4:return i?n.filter(i.value())?[4,i.delete()]:[3,6]:[3,8];case 5:r.sent(),r.label=6;case 6:return[4,i.next()];case 7:return i=r.sent(),[3,4];case 8:return[2]}}))}))},e.prototype.performDropPropertyAction=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.table(n.collection).openCursor()];case 1:e=r.sent(),r.label=2;case 2:return e?((i=e.value())[n.path]=void 0,[4,e.update(i)]):[3,5];case 3:return r.sent(),[4,e.next()];case 4:return e=r.sent(),[3,2];case 5:return[2]}}))}))},e.prototype.performReplaceDataAction=function(e,t,n){var i;return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.table(n.collection).openCursor()];case 1:e=r.sent(),r.label=2;case 2:return e?(o=e.value(),n.filter&&!(null===(i=n.filter)||void 0===i?void 0:i.call(this,o))?[3,4]:[4,e.update(n.replacer(o))]):[3,6];case 3:r.sent(),r.label=4;case 4:return[4,e.next()];case 5:return e=r.sent(),[3,2];case 6:return[2]}}))}))},e}(),Qe=function(){function e(e){this.collection=e,this.versionActionsMap=new Map}return e.prototype.getVersionActionsMap=function(){return this.versionActionsMap},e.prototype.version=function(e){var t=this,n={update:function(r){return t.pushAction(e,{type:i.a.ReplaceData,replacer:r,collection:t.collection}),n},delete:function(r){return t.pushAction(e,{filter:r,type:i.a.ClearData,collection:t.collection}),n}};return n},e.prototype.pushAction=function(e,t){var n=this.versionActionsMap.get(e)||[];n.push(t),this.versionActionsMap.set(e,n)},e}(),et=function(){function e(e,t,n){this.expectedSchema=e,this.actualSchema=t,this.modelClass=n}return e.prototype.plan=function(){var e=this.actualSchema.dataVersion||0,t=this.expectedSchema.dataVersion||1;if(e===t)return[];var n=[],i=this.getManualMigrationActions(e,t);n.push.apply(n,Object(r.__spreadArray)([],Object(r.__read)(i)));var o=this.getAutoMigrationActions();return n.push.apply(n,Object(r.__spreadArray)([],Object(r.__read)(o))),[{schema:{actions:[]},data:{actions:n}}]},e.prototype.getManualMigrationActions=function(e,t){var n,r,i=new Qe(w.getTableName(this.modelClass));return null===(r=(n=this.modelClass).onDataUpgrade)||void 0===r||r.call(n,e,t,i),this.getRangeDataAction(e,t,i.getVersionActionsMap())},e.prototype.getAutoMigrationActions=function(){var e,t,n=this,o=[],a=this.actualSchema.properties.filter((function(e){return!n.expectedSchema.properties.includes(e)}));try{for(var s=Object(r.__values)(a),c=s.next();!c.done;c=s.next()){var u=c.value;o.push({type:i.a.DropProperty,collection:w.getTableName(this.modelClass),path:u})}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o},e.prototype.getRangeDataAction=function(e,t,n){for(var i=[],o=e;o<=t;o++)i.push.apply(i,Object(r.__spreadArray)([],Object(r.__read)(n.get(o)||[])));return i},e}(),tt=function(){function e(e){this.migrationManager=e,this.upgradedFlag=new Map}return e.prototype.executeDataUpgrade=function(e,t,n,i){return void 0===i&&(i=function(){}),Object(r.__awaiter)(this,void 0,void 0,(function(){var o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return o=w.getTableName(e),this.upgradedFlag.get(o)?[2]:(a=this.getCollectionSchema(o,n),this.isNeedExecuteDataUpgrade(a.expect,a.actual)?[4,this.executeUpgrade(o,t,n,a.expect,a.actual,e)]:(this.upgradedFlag.set(o,!0),[2,i()]));case 1:return r.sent(),this.upgradedFlag.set(o,!0),[2,i()]}}))}))},e.prototype.isNeedExecuteDataUpgrade=function(e,t){return!(!(null==t?void 0:t.dataVersion)||e.dataVersion===t.dataVersion)},e.prototype.executeUpgrade=function(e,t,n,o,a,s){return Object(r.__awaiter)(this,void 0,void 0,(function(){var u,l,p,h,f,d;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return u=new et(o,a,s),this.migrationManager.use(u),l=this.migrationManager.buildMigration(n),[4,t.transaction([e,Je.getSystemTableSchema().name],i.i.READ_WRITE)];case 1:p=r.sent(),h=!1,r.label=2;case 2:return r.trys.push([2,6,8,11]),f=n.schema.expect.version||1,[4,Je.getTableDataVersion(w.getTableName(s),p)];case 3:return r.sent()===f?[2]:[4,this.migrationManager.executeDataMigration(t,l,p)];case 4:return r.sent(),[4,Je.updateCollectionDataVersion(f,p,s)];case 5:return r.sent(),[3,11];case 6:return d=r.sent(),h=!0,[4,p.rollback()];case 7:throw r.sent(),new c({oldVersion:a.dataVersion,newVersion:o.dataVersion},d);case 8:return h?[3,10]:[4,p.commit()];case 9:r.sent(),r.label=10;case 10:return[7];case 11:return[2]}}))}))},e.prototype.getCollectionSchema=function(e,t){var n=t.schema,r=n.expect,i=n.actual,o=r.collections.filter((function(t){return t.name===e})),a=i.collections.filter((function(t){return t.name===e}));if(1!==o.length)throw new s(e);return{expect:o[0],actual:a.length?a[0]:void 0}},e}(),nt=function(){function e(e,t,n){var i=this;this.planner=new We,this.actualDBSchema=null,this.actualDBSchemaFrom=null,this.lazyMigrationProcessor=new tt(this),this.handleCollectionCreated=function(e){var t=e.collectionName,n=e.context;i.safeExecuteDataUpgrade(n,t)},this.handleStartTransaction=function(e){var t,n,o=e.collectionNames,a=e.context;try{for(var s=Object(r.__values)(o),c=s.next();!c.done;c=s.next()){var u=c.value;i.safeExecuteDataUpgrade(a,u)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},this.eventBus=e,this.eventBus.on(M.CollectionCreated,this.handleCollectionCreated),this.eventBus.on(M.StartTransaction,this.handleStartTransaction),this.schemaProvider=t,this.actionExecutor=new Ze(n.actionExecutor),this.applyAspectPatch(n)}return e.prototype.use=function(e){this.planner=e},e.prototype.prepareAutoUpgradeHandler=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,c=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=this.schemaProvider.getDatabaseSchema(),[4,Je.getDatabaseSchema(e,t,n)];case 1:return i=r.sent(),o=i.schema,a=i.from,this.actualDBSchema=o,this.actualDBSchemaFrom=a,this.log("getDatabaseSchema",this.actualDBSchema),s=this.buildMigration({schema:{expect:n,actual:this.actualDBSchema}}),[2,function(e,t,n,r){c.eventBus.emit(C.SchemaMigrationStart),c.executeSchemaMigration(e,s,r),c.updateMigrationChangeInfo(r).catch((function(e){c.emitError(new b(e))})),c.eventBus.emit(C.SchemaMigrationEnd)}]}}))}))},e.prototype.buildMigration=function(e){var t,n,r,i,o,a,s=e.schema,c=s.actual,u=s.expect;null===(n=null===(t=this.planner)||void 0===t?void 0:t.init)||void 0===n||n.call(t,e);var l=null!==(r=c.version)&&void 0!==r?r:0,p=null!==(i=u.version)&&void 0!==i?i:1;return null!==(a=null===(o=this.planner)||void 0===o?void 0:o.plan(l,p))&&void 0!==a?a:[]},e.prototype.executeSchemaMigration=function(e,t,n){var i,o,a,s;if(t)try{for(var c=Object(r.__values)(t),u=c.next();!u.done;u=c.next()){var l=u.value;try{for(var p=(a=void 0,Object(r.__values)(l.schema.actions)),h=p.next();!h.done;h=p.next()){var f=h.value;this.actionExecutor.executeSchemaAction(e,n,f)}}catch(e){a={error:e}}finally{try{h&&!h.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}},e.prototype.executeDataMigration=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,c,u,l,p,h,f,d,m;return Object(r.__generator)(this,(function(v){switch(v.label){case 0:if(!t)return[2];v.label=1;case 1:v.trys.push([1,12,13,14]),i=Object(r.__values)(t),o=i.next(),v.label=2;case 2:if(o.done)return[3,11];a=o.value,v.label=3;case 3:v.trys.push([3,8,9,10]),d=void 0,s=Object(r.__values)(a.data.actions),c=s.next(),v.label=4;case 4:return c.done?[3,7]:(u=c.value,[4,this.actionExecutor.executeDataAction(e,n,u)]);case 5:v.sent(),v.label=6;case 6:return c=s.next(),[3,4];case 7:return[3,10];case 8:return l=v.sent(),d={error:l},[3,10];case 9:try{c&&!c.done&&(m=s.return)&&m.call(s)}finally{if(d)throw d.error}return[7];case 10:return o=i.next(),[3,2];case 11:return[3,14];case 12:return p=v.sent(),h={error:p},[3,14];case 13:try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(h)throw h.error}return[7];case 14:return[2]}}))}))},e.prototype.updateMigrationChangeInfo=function(e){var t,n;return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o;return Object(r.__generator)(this,(function(r){return i=this.schemaProvider.getDatabaseSchema(),o=null!==(t=i.version)&&void 0!==t?t:1,[2,Je.updateSchemaChange(o,e,{schema:{expect:i,actual:null!==(n=this.actualDBSchema)&&void 0!==n?n:{name:i.name,collections:[]}}},"scan_exists_table"===this.actualDBSchemaFrom)]}))}))},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e.prototype.executeDataUpgradeIfNeed=function(e,t){var n;return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return this.log("executeDataUpgradeIfNeed",e.name),i=this.schemaProvider.getDatabaseSchema(),o={name:i.name,collections:[]},[4,this.lazyMigrationProcessor.executeDataUpgrade(e,t,{schema:{expect:i,actual:null!==(n=this.actualDBSchema)&&void 0!==n?n:o}},(function(){a.eventBus.emit(M.ModelLazyMigrationEnd,w.getTableName(e))}))];case 1:return r.sent(),[2]}}))}))},e.prototype.safeExecuteDataUpgrade=function(e,t){var n=this;Promise.all([e.waitForModelRegistered(t),e.waitForDBReady()]).then((function(e){var i=Object(r.__read)(e,2),o=i[0],a=i[1];n.executeDataUpgradeIfNeed(o.class,a).catch((function(e){n.emitError(new g(t,e))}))})).catch((function(){}))},e.prototype.emitError=function(e){this.eventBus.emit(C.Error,e)},e.prototype.applyAspectPatch=function(e){e.buildMigration.patch(this,"buildMigration"),e.executeDataMigration.patch(this,"executeDataMigration"),e.executeSchemaMigration.patch(this,"executeSchemaMigration"),e.prepareAutoUpgradeHandler.patch(this,"prepareAutoUpgradeHandler"),e.log.patch(this,"log"),e.updateMigrationChangeInfo.patch(this,"updateMigrationChangeInfo")},e}(),rt=nt;var it=function(){var e;return{lock:function(t){return e||(e=t()),e.finally((function(){e=void 0}))}}},ot=function(){function e(e,t){var n,i=this;if(this.openingMutex=it(),this.closingMutex=it(),this.destroyingMutex=it(),this.openDatabase=function(){return Object(r.__awaiter)(i,void 0,void 0,(function(){var e=this;return Object(r.__generator)(this,(function(t){return[2,this.openingMutex.lock((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){var e,t,n,i,o,s,c,u,l,p,h,f=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(this.db)return[2];e=this.storage,t=e.name,n=e.version,r.label=1;case 1:return r.trys.push([1,8,,9]),this.eventBus.emit(C.BootstrapStart),i=this.getDatabaseSchema(),[4,this.migrationManager.prepareAutoUpgradeHandler(t,this.engine)];case 2:o=r.sent(),s=function(){f.eventBus.emit(C.Fetal,new y(t))},r.label=3;case 3:return r.trys.push([3,5,,7]),c=this,[4,this.engine.openDB(t,i,n,{upgrade:o,terminated:s})];case 4:return c.db=r.sent(),[3,7];case 5:if("VersionError"!==(u=r.sent()).name||!this.supportCompatibleOpen)throw u;return l=this,[4,this.engine.openDB(t,i,void 0,{upgrade:o,terminated:s})];case 6:return l.db=r.sent(),[3,7];case 7:return this.db.setVersionChangeListener((function(e,t){f.eventBus.emit(C.VersionChange,{oldVersion:e,newVersion:t})})),this.eventBus.emit(C.BootstrapEnd),this.eventBus.emit(C.Ready,this.db),[3,9];case 8:throw p=r.sent(),this.reset(),h=new a(t,p),this.eventBus.emit(C.Error,h),this.eventBus.emit(C.Fetal,h),h;case 9:return[2]}}))}))}))]}))}))},this.handleModelRegistered=function(e){if(!i.schemas.some((function(t){return t.name===e.schema.name}))){var t=e.schema;t.dataVersion=i.storage.version,i.schemas.push(t)}},this.handleFetal=function(){i.reset()},this.storage=e,this.engine=t.engine,this.eventBus=t.eventBus,this.supportCompatibleOpen=t.supportCompatibleOpen,this.engine.setAspects(e.aspects.engine),this.schemas=[Je.getSystemTableSchema()],t.databaseSchema){var o=JSON.parse(t.databaseSchema).collections.map((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{dataVersion:i.storage.version})}));(n=this.schemas).push.apply(n,Object(r.__spreadArray)([],Object(r.__read)(o)))}this.migrationManager=new rt(this.eventBus,this,e.aspects.migration),this.eventBus.on(C.RegisterModel,this.handleModelRegistered),this.eventBus.on(C.Fetal,this.handleFetal)}return e.prototype.getDatabaseEngine=function(){return this.engine},e.prototype.getDatabaseSchema=function(){if(!this.storage.name||!this.storage.version)throw new Error("The database name and version are required for generating dbSchema");return{name:this.storage.name,version:this.storage.version,collections:this.schemas}},e.prototype.closeDatabase=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(r.__generator)(this,(function(t){return[2,this.closingMutex.lock((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return this.db?[4,this.db.close()]:[2];case 1:return e.sent(),this.reset(),this.eventBus.emit(C.Closed),[2]}}))}))}))]}))}))},e.prototype.destroyDatabase=function(){var e=this;return this.destroyingMutex.lock((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.engine.deleteDB(this.storage.name)];case 1:return e.sent(),this.reset(),this.eventBus.emit(C.Destroyed),[2]}}))}))}))},e.prototype.reset=function(){this.db=void 0},e}();var at=function(e){return setTimeout(e)},st=function(){function e(e){var t=e.keepActive,n=e.comparer,r=e.channelDB,i=e.channelModel,o=e.channelLazyMigration;this.keepActive=t,this.comparer=n,this.channelDB=r,this.channelModel=i,this.channelLazyMigration=o}return e.fromTransactionManager=function(t,n){return void 0===n&&(n=!1),new e({keepActive:n,comparer:t.comparer,channelDB:t.channelDB,channelModel:t.channelModel,channelLazyMigration:t.channelLazyMigration})},e.prototype.openTransaction=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n=this;return Object(r.__generator)(this,(function(i){return this.transactionPromise=Object(r.__awaiter)(n,void 0,void 0,(function(){var n,i,o=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all(e.map((function(e){return o.waitForModelRegistered(e)})))];case 1:return r.sent(),[4,Promise.all(e.map((function(e){return o.waitForMigrationReady(e)})))];case 2:return r.sent(),[4,this.waitForDBReady()];case 3:return n=r.sent(),i=this,[4,n.transaction(e,t)];case 4:return i.transaction=r.sent(),[2,this.transaction]}}))})),[2,this.transactionPromise]}))}))},e.prototype.getTransaction=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.transactionPromise?[3,2]:[4,this.openTransaction(e,t)];case 1:n.sent(),n.label=2;case 2:return[4,this.transactionPromise];case 3:return[2,n.sent()]}}))}))},e.prototype.waitForDBReady=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.channelDB.pick()]}))}))},e.prototype.waitForModelRegistered=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,this.channelModel.pick(e)]}))}))},e.prototype.waitForMigrationReady=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,this.channelLazyMigration.pick(e)]}))}))},e.prototype.perform=function(e){return this.keepActive?e():this.autoCommitOrRollback(e)},e.prototype.autoCommitOrRollback=function(e){var t,n;return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,5]),[4,e()];case 1:return i=r.sent(),[4,null===(t=this.transaction)||void 0===t?void 0:t.commit()];case 2:return r.sent(),[2,i];case 3:return o=r.sent(),[4,null===(n=this.transaction)||void 0===n?void 0:n.rollback()];case 4:throw r.sent(),o;case 5:return[2]}}))}))},e}(),ct=Symbol("channel");var ut=function(e){var t;void 0===e&&(e=function(){return ct});var n=new Map,i=new Map;function o(e,t){var n;null===(n=i.get(e))||void 0===n||n.reject(t),i.delete(e)}function a(e,t){void 0===t&&(t=ct),i.has(t)?function(e,t){var n;null===(n=i.get(e))||void 0===n||n.resolve(t),i.delete(e)}(t,e):n.set(t,Promise.resolve(e))}return{send:function(n){t||a(n,e(n))},pick:function(e){return void 0===e&&(e=ct),t?Promise.reject(t):(n.has(e)||n.set(e,new Promise((function(t,n){i.set(e,{resolve:t,reject:n})}))),n.get(e))},open:function(){t=void 0},close:function(e,a){var s,c;void 0===a&&(a=!1),t=e;try{for(var u=Object(r.__values)(i.keys()),l=u.next();!l.done;l=u.next()){o(l.value,e)}}catch(e){s={error:e}}finally{try{l&&!l.done&&(c=u.return)&&c.call(u)}finally{if(s)throw s.error}}a&&(n.clear(),i.clear())}}},lt=function(){function e(e,t){var n=this;this.handleFetalError=function(e){n.channelDB.close(e,!0),n.channelModel.close(e),n.channelLazyMigration.close(e)},this.eventBus=e,this.channelDB=ut(),this.channelModel=ut((function(e){return e.schema.name})),this.channelLazyMigration=ut((function(e){return e})),this.comparer=t,this.eventBus.on(C.Fetal,this.handleFetalError),this.eventBus.on(C.Ready,this.channelDB.send),this.eventBus.on(C.RegisterModel,this.channelModel.send),this.eventBus.on(M.ModelLazyMigrationEnd,this.channelLazyMigration.send)}return e.prototype.spawnAutoCommitContext=function(){return st.fromTransactionManager(this,!1)},e.prototype.spawnKeepAliveContext=function(){return st.fromTransactionManager(this,!0)},e.prototype.openChannels=function(){this.channelDB.open(),this.channelModel.open(),this.channelLazyMigration.open()},e}(),pt=function(){function e(e){var t,n=this,i=e.name,o=e.engine,a=e.version,s=void 0===a?1:a,c=e.plugins,u=void 0===c?[]:c,l=e.disableAutoOpen,p=void 0!==l&&l,h=e.databaseSchema,f=e.supportCompatibleOpen,d=void 0!==f&&f;this.aspects={collection:{get:He.withContext(Ve),has:He.withContext(Ve),delete:He.withContext(Ve),insert:He.withContext(Ve),upsert:He.withContext(Ve),bulkInsert:He.withContext(Ve),bulkUpsert:He.withContext(Ve),update:He.withContext(Ve),clear:He.withContext(Ve),count:He.withContext(Ve),entries:He.withContext(Ve),keys:He.withContext(Ve),values:He.withContext(Ve),first:He.withContext(Ve),last:He.withContext(Ve),skip:Fe.withContext(Ve),take:Fe.withContext(Ve),slice:Fe.withContext(Ve),orderBy:Fe.withContext(Ve),where:Fe.withContext(Ve),or:Fe.withContext(Ve)},query:{},model:{},migration:{prepareAutoUpgradeHandler:He.withContext(Ve),buildMigration:Fe.withContext(Ve),executeDataMigration:He.withContext(Ve),executeSchemaMigration:Fe.withContext(Ve),updateMigrationChangeInfo:He.withContext(Ve),log:Fe.withContext(Ve),actionExecutor:{executeSchemaAction:Fe.withContext(Ve),executeDataAction:He.withContext(Ve)}},engine:{deleteDB:He.withContext(Ve),openDB:He.withContext(Ve),database:{createTable:Fe.withContext(Ve),deleteTable:Fe.withContext(Ve),close:Fe.withContext(Ve),table:He.withContext(Ve),transaction:He.withContext(Ve)},table:{createIndex:He.withContext(Ve),deleteIndex:He.withContext(Ve),delete:He.withContext(Ve),get:He.withContext(Ve),getAll:He.withContext(Ve),getAllKeys:He.withContext(Ve),index:Fe.withContext(Ve),insert:He.withContext(Ve),query:He.withContext(Ve),openCursor:He.withContext(Ve),upsert:He.withContext(Ve),bulkUpsert:He.withContext(Ve),clear:He.withContext(Ve),bulkDelete:He.withContext(Ve)},index:{get:He.withContext(Ve),getAll:He.withContext(Ve),getAllKeys:He.withContext(Ve),openCursor:He.withContext(Ve)},cursor:{delete:He.withContext(Ve),update:He.withContext(Ve),next:He.withContext(Ve),value:Fe.withContext(Ve)},transaction:{commit:He.withContext(Ve),rollback:He.withContext(Ve),table:Fe.withContext(Ve)}}},this.eventBus=E(),this.open=function(){return n.transactionManager.openChannels(),n.databaseManager.openDatabase()},this.close=function(){return n.databaseManager.closeDatabase()},this.destroy=function(){return n.databaseManager.destroyDatabase()},this.register=function(e){n.modelManager.register(e)},this.collection=function(e){var t=n.modelManager.getSchemaAndRegisterModelIfNeed(e);return n.collectionManager.getCollection(t.name,{spawnContext:function(){return n.transactionManager.spawnAutoCommitContext()}})},this.transaction=function(e,t,i){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n,o,a,s=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=this.transactionManager,o=e.map((function(e){return s.modelManager.getSchemaAndRegisterModelIfNeed(e).name})),a=n.spawnKeepAliveContext(),this.eventBus.emit(M.StartTransaction,{collectionNames:o,context:a}),[4,a.openTransaction(o,t)];case 1:return r.sent(),[2,a.autoCommitOrRollback((function(){return i(s.createStorageTransaction(a))}))]}}))}))},this.name=i,this.version=s,this.events=new k(this.eventBus),this.modelManager=new T(this.eventBus),this.databaseManager=new ot(this,{engine:o,eventBus:this.eventBus,databaseSchema:h,supportCompatibleOpen:d}),this.pluginManager=new Ye(this,this.eventBus),this.collectionManager=new De(this,this.eventBus),this.transactionManager=new lt(this.eventBus,{cmp:this.databaseManager.getDatabaseEngine().cmp}),(t=this.pluginManager).add.apply(t,Object(r.__spreadArray)([],Object(r.__read)(u))),p||at((function(){return n.open().catch((function(e){throw e}))}))}return e.prototype.createStorageTransaction=function(e){var t=this.modelManager,n=new De(this,this.eventBus);return{collection:function(r){var i=t.getSchemaAndRegisterModelIfNeed(r);return n.getCollection(i.name,{spawnContext:function(){return e}})}}},e}();t.b=pt},"6f3d31cef1":function(e,t,n){var r=n("5d9d6a023f").default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"71eba1dc32":function(e,t,n){"use strict";var r=n("bdb17f6007"),i=n("5ff48c98e2"),o=n("0e9e589c07"),a=n("97ccbfce5e"),s=n("20fceb9f61");function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"7232b4267e":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},"78ff1b2e5b":function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){e.exports=n("d64e0865ec")},function(e,t){e.exports=n("a8a4b19997")},function(e,t){e.exports=n("544db2d33a")},function(e,t){e.exports=n("e86c0c42b2")},function(e,t){e.exports=n("93c0e9f7e2")},function(e,t){e.exports=n("9d756fc5b0")},function(e,t){e.exports=n("8b13fcae36")},function(e,t){e.exports=n("86289ba3d2")},function(e,t){e.exports=n("048e2ab354")},function(e,t){e.exports=n("f8fc8e0087")},function(e,t){e.exports=n("f3ff67f404")},function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorCode",(function(){return M})),n.d(t,"ErrorMsg",(function(){return S})),n.d(t,"UID",(function(){return A})),n.d(t,"UID_KEY",(function(){return T}));var r=n(2),i=n.n(r),o=n(3),a=n.n(o),s=n(7),c=n.n(s),u=n(8),l=n.n(u),p=n(5),h=n.n(p),f=n(0),d=n.n(f),m=n(9),v=n(4),b=n(1),g=function(){function e(t){i()(this,e),this.channelName="".concat(t,"Channel"),this.storageName="".concat(t,"Storage"),this.cookieName="".concat(t,"Cookie"),this.init(),this.nowUid=Object(b.getUid)();var n="".concat(Math.floor(1e9*Math.random()),"_").concat(+new Date);window.messageCenterTabKey||(window.messageCenterTabKey=n),this.tabKey=window.messageCenterTabKey||n}return a()(e,[{key:"init",value:function(){window&&window.BroadcastChannel&&(this.msgCenter=new BroadcastChannel(this.channelName))}},{key:"postMessage",value:function(e){var t,n,r,i;e.key=this.tabKey,null===(n=null===(t=null===window||void 0===window?void 0:window.log)||void 0===t?void 0:t.log)||void 0===n||n.call(t,"message center get message:, ".concat(JSON.stringify(e)," time: ").concat(+new Date)),this.msgCenter&&this.msgCenter.postMessage(e);try{localStorage.setItem(this.storageName,JSON.stringify(e))}catch(t){null===(i=null===(r=null===window||void 0===window?void 0:window.log)||void 0===r?void 0:r.log)||void 0===i||i.call(r,"message center set message fail:, ".concat(JSON.stringify(e)," time: ").concat(+new Date))}}},{key:"initListener",value:function(){var e=this;this.msgCenter&&(this.msgCenter.onmessage=function(t){t&&(null==e||e.channelHandler(t))}),window.addEventListener("storage",(function(t){t.key===e.storageName&&(null==e||e.storageHandler(t))})),document.addEventListener("visibilitychange",(function(){setTimeout((function(){null==e||e.visibilityHandle()}),100)}))}},{key:"listenerHandleFun",value:function(e){var t=e.channelHandler,n=e.storageHandler,r=e.visibilityHandle;t&&(this.channelHandler=t),r&&(this.visibilityHandle=r),this.storageHandler=n,this.initListener()}},{key:"messageHandleFun",value:function(e){}}]),e}(),y=n(6);function x(e,t,n){if(!n){var r=new RegExp("(\\?|&)"+t+"=[^&]*(&)?","g"),i=e.replace(r,(function(e,t,n){return"?"===t||n?t:""}));return"?"===i[i.length-1]?i.substr(0,i.length-1):i}var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(o)?e.replace(o,"$1"+t+"="+n+"$2"):e+a+t+"="+n}function w(e,t){var n,r=new RegExp("(?:^|;+|\\s+)".concat(e,"=([^;]*)"));return void 0===t&&(t="undefined"!=typeof document?document.cookie:""),null===(n=t.match(r))||void 0===n?void 0:n[1]}var _=n(10),O=n.n(_),j=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function E(){return j(this,void 0,void 0,d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("/session/api/multiacc/account_list","?xrsf=").concat(w("TOK")),e.abrupt("return",O.a.get(t));case 2:case"end":return e.stop()}}),e)})))}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var M,S,k=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};!function(e){e[e.switchLogin=1e4]="switchLogin",e[e.logoutLogin=10001]="logoutLogin"}(M||(M={})),function(e){e.switchLogin="user switch login in other tab",e.logoutLogin="user logout login in other tab"}(S||(S={}));var A="uid",T="uid_key",N=new(function(e){c()(n,e);var t=C(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).hadSendMsg=!1,r.nowUsesId=Object(v.getNowUserId)(),r.isMulti=Object(v.isMultiLoginGray)(),r.listenerHandleFun({channelHandler:r.channelFun,storageHandler:r.storageFun,visibilityHandle:r.visibilityFun}),r}return a()(n,[{key:"checkIsSame",value:function(e){return!this.isMulti||e===Object(v.getNowUserId)()}},{key:"getCookieValue",value:function(){var e=(Object(m.getCookie)(this.cookieName)||"").split("_");return{type:e[0],userIndex:e[1]}}},{key:"dispatchMsg",value:function(e){this.isMulti&&("logoutLogin"!==e&&"logout"!==e||document.dispatchEvent(new CustomEvent("logoutAccount")))}},{key:"checkSameUser",value:function(){return Object(b.getUidFromCookie)()===this.nowUid}},{key:"checkNoNeedVisibility",value:function(){return this.hadSendMsg||"visible"!==document.visibilityState}},{key:"visibilityFun",value:function(){var e;this.checkNoNeedVisibility()||this.checkSameUser()||(this.hadSendMsg=!0,null===(e=this.messageHandleFun)||void 0===e||e.call(this,this.getErrorMsg("switch")))}},{key:"channelFun",value:function(e){var t=this;if(e){var n=e.data;n.key!==this.tabKey&&this.checkNeedLogin(n,(function(e){var r,i,o,a=t.getErrorMsg(e);a&&(null===(r=t.messageHandleFun)||void 0===r||r.call(t,a)),null===(o=null===(i=null===window||void 0===window?void 0:window.log)||void 0===i?void 0:i.log)||void 0===o||o.call(i,"channel Event:".concat(e,", source tab:").concat(n.key,"， now tabKey:").concat(t.tabKey,"， :").concat((new Date).getTime())),t.dispatchMsg(e),t.hadSendMsg=!0}))}}},{key:"storageFun",value:function(e){var t=this,n=e.newValue;if(n){var r=JSON.parse(n);r.key!==this.tabKey&&this.checkNeedLogin(r,(function(e){setTimeout((function(){var n,i,o;t.hadSendMsg||(null===(n=t.messageHandleFun)||void 0===n||n.call(t,t.getErrorMsg(e)),null===(o=null===(i=null===window||void 0===window?void 0:window.log)||void 0===i?void 0:i.log)||void 0===o||o.call(i,"storage Event:".concat(e,", source tab:").concat(r.key,"， now tabKey:").concat(t.tabKey,"， :").concat((new Date).getTime())),t.dispatchMsg(e),t.hadSendMsg=!0)}),100)}))}}},{key:"getErrorMsg",value:function(e){return"switchLogin"===e||"switch"===e?{code:M.switchLogin,msg:S.switchLogin}:"logoutLogin"===e||"logout"===e?{code:M.logoutLogin,msg:S.logoutLogin}:void 0}},{key:"checkNeedLogin",value:function(e,t){var n=this;"switch"===e.type&&t("switchLogin"),"login"===e.type&&t("login"),"logout"===e.type&&t("logoutLogin"),document.addEventListener("visibilitychange",(function(){return k(n,void 0,void 0,d.a.mark((function e(){var t,n,r,i,o,a,s,c,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(i=null===(r=null===(n=null===(t=null===window||void 0===window?void 0:window.__ARK_EXTENSION_SERVICE__)||void 0===t?void 0:t.dependentServiceCombinder)||void 0===n?void 0:n.accountApplication)||void 0===r?void 0:r.getAccountProfileList)||void 0===i?void 0:i.call(r);case 3:o=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,E();case 10:o=e.sent;case 11:a=Object(b.getUid)(),s=Object(b.getUidKey)(),a&&s&&o?(c=o.find((function(e){return e.uid===a})),u=x(location.href,"u",(null==c?void 0:c.userIndex)||""),Object(y.tencentDocOpenUrlForAll)({replace:!0,url:u})):(l=x(location.href,"u",""),Object(y.tencentDocOpenUrlForAll)({replace:!0,url:l,noUserIndex:!0}));case 14:case"end":return e.stop()}}),e,null,[[0,6]])})))}))}},{key:"setCallback",value:function(e){this.messageHandleFun=e}}]),n}(g))("docMessageCenter");t.default=N}])},"828ba01c62":function(e,t,n){"use strict";var r=n("1c071a75a8");e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},"839277f9da":function(e,t,n){"use strict";var r=n("bdb17f6007"),i=n("272122105c"),o=n("303fa73efb"),a=n("10ffd6a39c");var s=function e(t){var n=new o(t),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n("97ccbfce5e"));s.Axios=o,s.Cancel=n("20fceb9f61"),s.CancelToken=n("35d7b15ae4"),s.isCancel=n("0e9e589c07"),s.VERSION=n("e5f36ae69b").version,s.all=function(e){return Promise.all(e)},s.spread=n("b04de3043e"),s.isAxiosError=n("bffb82cbb7"),e.exports=s,e.exports.default=s},"86289ba3d2":function(e,t,n){var r=n("aa321364b9");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},"8bf9a4690a":function(e,t,n){var r=n("d001ecb324");e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"8c0fe2484f":function(e,t,n){"use strict";var r=n("bdb17f6007");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},"8eaaebf7b1":function(e,t,n){"use strict";function r(e){return Math.sqrt(1-Math.pow(e-1,2))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t,n){e.addEventListener(t,n,!1)};function o(e){return 1-Math.sqrt(1-e*e)}var a=function(e){this.reverse=this._getValue(e.reverse,!1),this.element="string"==typeof e.touch?document.querySelector(e.touch):e.touch,this.target=this._getValue(e.target,this.element),this.vertical=this._getValue(e.vertical,!0),this.property=e.property,this.tickID=0,this.initialValue=this._getValue(e.initialValue,this.target[this.property]),this.target[this.property]=this.initialValue,this.fixed=this._getValue(e.fixed,!1),this.sensitivity=this._getValue(e.sensitivity,1),this.moveFactor=this._getValue(e.moveFactor,1),this.factor=this._getValue(e.factor,1),this.outFactor=this._getValue(e.outFactor,.3),this.min=function(){if(void 0!==e.min&&null!==e.min)return"function"==typeof e.min?e.min():e.min},this.max=function(){if(void 0!==e.max&&null!==e.max)return"function"==typeof e.max?e.max():e.max},this.deceleration=this._getValue(e.deceleration,6e-4),this.maxRegion=this._getValue(e.maxRegion,600),this.springMaxRegion=this._getValue(e.springMaxRegion,60),this.maxSpeed=e.maxSpeed,this.hasMaxSpeed=!(void 0===this.maxSpeed),this.lockDirection=this._getValue(e.lockDirection,!0);var t=function(){};this.change=e.change||t,this.touchEnd=e.touchEnd||t,this.touchStart=e.touchStart||t,this.touchMove=e.touchMove||t,this.touchCancel=e.touchCancel||t,this.reboundEnd=e.reboundEnd||t,this.animationEnd=e.animationEnd||t,this.correctionEnd=e.correctionEnd||t,this.tap=e.tap||t,this.pressMove=e.pressMove||t,this.shouldRebound=e.shouldRebound||function(){return!0},this.preventDefault=this._getValue(e.preventDefault,!0),this.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},this.hasMin=!(void 0===this.min()),this.hasMax=!(void 0===this.max()),this.isTouchStart=!1,this.step=e.step,this.inertia=this._getValue(e.inertia,!0),this._calculateIndex(),this.eventTarget=window,e.bindSelf&&(this.eventTarget=this.element),this._moveHandler=this._move.bind(this),this._startListener=this._start.bind(this),this._endListener=this._end.bind(this),this._cancelListener=this._cancel.bind(this),i(this.element,"touchstart",this._startListener),i(this.eventTarget,"touchend",this._endListener),i(this.eventTarget,"touchcancel",this._cancelListener),this.eventTarget.addEventListener("touchmove",this._moveHandler,{passive:!1,capture:!1}),this.x1=this.x2=this.y1=this.y2=null};a.prototype={destroy:function(){this.element.removeEventListener("touchstart",this._startListener),this.eventTarget.removeEventListener("touchend",this._endListener),this.eventTarget.removeEventListener("touchcancel",this._cancelListener),this.eventTarget.removeEventListener("touchmove",this._moveHandler,{passive:!1,capture:!1})},isAtMax:function(){return this.hasMax&&this.target[this.property]>=this.max()},isAtMin:function(){return this.hasMin&&this.target[this.property]<=this.min()},_getValue:function(e,t){return void 0===e?t:e},stop:function(){cancelAnimationFrame(this.tickID),this._calculateIndex()},_start:function(e){this.isTouchStart=!0,this.touchStart.call(this,e,this.target[this.property]),cancelAnimationFrame(this.tickID),this._calculateIndex(),this.startTime=(new Date).getTime(),this.x1=this.preX=e.touches[0].pageX,this.y1=this.preY=e.touches[0].pageY,this.start=this.vertical?this.preY:this.preX,this._firstTouchMove=!0,this._preventMove=!1},_move:function(e){if(this.isTouchStart){var t=e.touches.length,n=e.touches[0].pageX,r=e.touches[0].pageY;if(this._firstTouchMove&&this.lockDirection){var i=Math.abs(n-this.x1)-Math.abs(r-this.y1);(i>0&&this.vertical||i<0&&!this.vertical)&&(this._preventMove=!0),this._firstTouchMove=!1}if(!this._preventMove){var o=(this.vertical?r-this.preY:n-this.preX)*this.sensitivity,a=this.moveFactor;(this.isAtMax()&&(this.reverse?-o:o)>0||this.isAtMin()&&(this.reverse?-o:o)<0)&&(a=this.outFactor),o*=a,this.preX=n,this.preY=r,this.fixed||(this.target[this.property]+=this.reverse?-o:o),this.change.call(this,this.target[this.property]);var s=(new Date).getTime();s-this.startTime>300&&(this.startTime=s,this.start=this.vertical?this.preY:this.preX),this.touchMove.call(this,e,this.target[this.property])}this.preventDefault&&!function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1}(e.target,this.preventDefaultException)&&e.preventDefault(),1===t&&(null!==this.x2?(e.deltaX=n-this.x2,e.deltaY=r-this.y2):(e.deltaX=0,e.deltaY=0),this.pressMove.call(this,e,this.target[this.property])),this.x2=n,this.y2=r}},_cancel:function(e){var t=this.target[this.property];this.touchCancel.call(this,e,t),this._end(e)},to:function(e,t,n,i){this._to(e,this._getValue(t,600),n||r,this.change,function(e){this._calculateIndex(),this.reboundEnd.call(this,e),this.animationEnd.call(this,e),i&&i.call(this,e)}.bind(this))},_calculateIndex:function(){this.hasMax&&this.hasMin&&(this.currentPage=Math.round((this.max()-this.target[this.property])/this.step))},_end:function(e){if(this.isTouchStart){this.isTouchStart=!1;var t=this,n=this.target[this.property],i=Math.abs(e.changedTouches[0].pageX-this.x1)<30&&Math.abs(e.changedTouches[0].pageY-this.y1)<30;if(i&&this.tap.call(this,e,n),!1===this.touchEnd.call(this,e,n,this.currentPage))return;if(this.hasMax&&n>this.max()){if(!this.shouldRebound(n))return;this._to(this.max(),200,r,this.change,function(e){this.reboundEnd.call(this,e),this.animationEnd.call(this,e)}.bind(this))}else if(this.hasMin&&n<this.min()){if(!this.shouldRebound(n))return;this._to(this.min(),200,r,this.change,function(e){this.reboundEnd.call(this,e),this.animationEnd.call(this,e)}.bind(this))}else if(!this.inertia||i||this._preventMove||this.fixed)t._correction();else{var a=(new Date).getTime()-this.startTime;if(a<300){var s=((this.vertical?e.changedTouches[0].pageY:e.changedTouches[0].pageX)-this.start)*this.sensitivity,c=Math.abs(s)/a,u=this.factor*c;this.hasMaxSpeed&&u>this.maxSpeed&&(u=this.maxSpeed);var l=s<0?-1:1;this.reverse&&(l=-l);var p=n+u*u/(2*this.deceleration)*l,h=1;p<this.min()?p<this.min()-this.maxRegion?(h=o((n-this.min()+this.springMaxRegion)/(n-p)),p=this.min()-this.springMaxRegion):(h=o((n-this.min()+this.springMaxRegion*(this.min()-p)/this.maxRegion)/(n-p)),p=this.min()-this.springMaxRegion*(this.min()-p)/this.maxRegion):p>this.max()&&(p>this.max()+this.maxRegion?(h=o((this.max()+this.springMaxRegion-n)/(p-n)),p=this.max()+this.springMaxRegion):(h=o((this.max()+this.springMaxRegion*(p-this.max())/this.maxRegion-n)/(p-n)),p=this.max()+this.springMaxRegion*(p-this.max())/this.maxRegion));var f=Math.round(c/t.deceleration)*h;t._to(Math.round(p),f,r,t.change,(function(e){if(t.hasMax&&t.target[t.property]>t.max()){if(!this.shouldRebound(t.target[t.property]))return;cancelAnimationFrame(t.tickID),t._to(t.max(),600,r,t.change,t.animationEnd)}else if(t.hasMin&&t.target[t.property]<t.min()){if(!this.shouldRebound(t.target[t.property]))return;cancelAnimationFrame(t.tickID),t._to(t.min(),600,r,t.change,t.animationEnd)}else t.step?t._correction():t.animationEnd.call(t,e);t.change.call(this,e)}))}else t._correction()}}this.x1=this.x2=this.y1=this.y2=null},_to:function(e,t,n,r,i){var o=this.target,a=this.property,s=o[a],c=e-s,u=Number(new Date),l=this;!function p(){var h=Number(new Date)-u;if(h>=t)return o[a]=e,r&&r.call(l,e),void(i&&i.call(l,e));o[a]=c*n(h/t)+s,l.tickID=requestAnimationFrame(p),r&&r.call(l,o[a])}()},_correction:function(){if(void 0!==this.step){var e=this.target[this.property],t=Math.floor(Math.abs(e/this.step)),n=e%this.step;Math.abs(n)>this.step/2?this._to((e<0?-1:1)*(t+1)*this.step,400,r,this.change,function(e){this._calculateIndex(),this.correctionEnd.call(this,e),this.animationEnd.call(this,e)}.bind(this)):this._to((e<0?-1:1)*t*this.step,400,r,this.change,function(e){this._calculateIndex(),this.correctionEnd.call(this,e),this.animationEnd.call(this,e)}.bind(this))}}};var s=a;t.default=s},"8ec438d259":function(e,t,n){var r=n("8bf9a4690a"),i=n("de1025e4f0"),o=n("1e3871ee13"),a=n("427e7e241a");e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},"97ccbfce5e":function(e,t,n){"use strict";(function(t){var r=n("bdb17f6007"),i=n("8c0fe2484f"),o=n("1c071a75a8"),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(c=n("bd7cdc5297")),c),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(a)})),e.exports=u}).call(this,n("6c0cbd9268"))},"9bd2987a94":function(e,t,n){var r=n("e9a1f3934e");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},"9d756fc5b0":function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},a83457f18b:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},aa321364b9:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},ad18632588:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},b04de3043e:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},b3f41acbca:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n("d7c625d1f2"),i=function(e){function t(t,n){for(var r=this,i=t,o={cause:n};o.cause&&o.cause instanceof Error;)i=t+"\n\t→ "+n,o=o.cause;return(r=e.call(this,i)||this).cause=n,r.name=r.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,Object.setPrototypeOf(r,r.constructor.prototype),r}return Object(r.__extends)(t,e),t}(Error),o={withDefaultMessage:function(e,t){return function(n){function i(r,i){var o=n.call(this,r||t||"",i)||this;return o.name=e,Object.setPrototypeOf(o,o.constructor.prototype),o}return Object(r.__extends)(i,n),i}(i)},withMessageCreator:function(e,t){return function(n){function i(r,i){var o=n.call(this,t(r),i)||this;return o.name=e,Object.setPrototypeOf(o,o.constructor.prototype),o}return Object(r.__extends)(i,n),i}(i)}},a=(o.withDefaultMessage("AssertionError","the asserted condition is invalid"),o.withMessageCreator("UnimplementedError",(function(e){return e?"called with arguments: "+JSON.stringify(e):"called with nothing"})));var s=function(e){0}},bd7cdc5297:function(e,t,n){"use strict";var r=n("bdb17f6007"),i=n("43f1de298e"),o=n("10089e48fb"),a=n("dc99402e76"),s=n("35aeb36a5c"),c=n("2dc6d56ca9"),u=n("4d6a70f9c6"),l=n("828ba01c62"),p=n("97ccbfce5e"),h=n("20fceb9f61");e.exports=function(e){return new Promise((function(t,n){var f,d=e.data,m=e.headers,v=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(d)&&delete m["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(y+":"+x)}var w=s(e.baseURL,e.url);function _(){if(g){var r="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,o={data:v&&"text"!==v&&"json"!==v?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};i((function(e){t(e),b()}),(function(e){n(e),b()}),o),g=null}}if(g.open(e.method.toUpperCase(),a(w,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=_:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(_)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||p.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var O=(e.withCredentials||u(w))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;O&&(m[e.xsrfHeaderName]=O)}"setRequestHeader"in g&&r.forEach(m,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete m[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),v&&"json"!==v&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){g&&(n(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),d||(d=null),g.send(d)}))}},bdb17f6007:function(e,t,n){"use strict";var r=n("272122105c"),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function a(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function p(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:p,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)p(arguments[r],n);return t},extend:function(e,t,n){return p(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},bffb82cbb7:function(e,t,n){"use strict";var r=n("bdb17f6007");e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},c58837b138:function(e,t,n){var r=n("44354cefa3").default,i=n("1e71453bc5");e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},d001ecb324:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},d099416be2:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},d64e0865ec:function(e,t,n){var r=n("233c6d433a")();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},dc99402e76:function(e,t,n){"use strict";var r=n("bdb17f6007");function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},de1025e4f0:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},e1fbc4b030:function(e,t,n){var r=n("c58837b138");function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},e5f36ae69b:function(e,t){e.exports={version:"0.25.0"}},e86c0c42b2:function(e,t,n){var r=n("6022779063");function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},e9a1f3934e:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},f3ff67f404:function(e,t,n){e.exports=n("839277f9da")}}]);
//# sourceMappingURL=slide-commonAsync~ecbf7682-a5f3b6.js.map