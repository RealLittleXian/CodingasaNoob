!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=86)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return d})),n.d(e,"b",(function(){return p}));var r=n(37),o=/\d+([._]\d+)*/,i=function(t){return new RegExp("\\b".concat(t,"\\W+\\d+([\\._]\\d+)*"),"i")};function a(t){var e,n=o.exec(t);return null!==(e=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==e?e:null}function u(t){var e=a(t);return(null==e?void 0:e.split(".").map(Number))||[]}function c(t,e){return n=u(t),r=u(e),(o=Array(Math.max(n.length,r.length)).fill(0).map((function(t,e){return(n[e]||0)-(r[e]||0)})).find((function(t){return 0!==t}))||0)<0?-1:o>0?1:0;var n,r,o}function s(t,e){var n;try{n=i(t)}catch(t){return null}var r=n.exec(e);return r?a(r[0].substring(t.length)):null}var l=function(){var t;return function(){return void 0===t&&(t="undefined"!=typeof navigator?navigator.userAgent:""),t}}();function f(t){return function(e){return t(e||l())}}function d(t){return function(e,n){return t(n||l(),e)}}function p(t){var e=0;return t.fullOffline&&(e|=r.a.fullOfflineModeAvailable),t.nativeDatabase&&(e|=r.a.nativeDatabaseAvailable),t.nativeDatabaseWillDeprecated&&(e|=r.a.nativeDatabaseWillDeprecated),"".concat(r.c,"/").concat(e)}},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return c})),n.d(e,"p",(function(){return s})),n.d(e,"o",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"i",(function(){return d})),n.d(e,"s",(function(){return p})),n.d(e,"n",(function(){return h})),n.d(e,"l",(function(){return v})),n.d(e,"m",(function(){return g})),n.d(e,"h",(function(){return m})),n.d(e,"q",(function(){return y})),n.d(e,"t",(function(){return b})),n.d(e,"e",(function(){return _})),n.d(e,"k",(function(){return O})),n.d(e,"r",(function(){return w})),n.d(e,"g",(function(){return E})),n.d(e,"f",(function(){return S})),n.d(e,"u",(function(){return x})),n.d(e,"j",(function(){return j}));var r=n(16),o=n.n(r),i="undefined"!=typeof window&&window&&window.navigator?window:null,a="undefined"!=typeof self&&self&&self.navigator?self:null,u=O()?qq||wx:null,c=i||a,s=i&&i.localStorage&&"function"==typeof i.localStorage.getItem?1:O()&&"function"==typeof u.getStorage?2:0,l="object"===("undefined"==typeof indexedDB?"undefined":o()(indexedDB))&&"function"==typeof indexedDB.open;function f(){if(c&&c.navigator&&c.navigator.userAgent){var t=navigator.userAgent.toLowerCase().replace(/^.*\s+edge\/(\d+).*$/i,"$1");return/^\d+$/.test(t)?parseInt(t):0}return 0}function d(){if(c&&c.navigator&&c.navigator.userAgent){var t=navigator.userAgent.toLowerCase();return t.indexOf("trident")>-1&&t.indexOf("rv:11.0")>-1?11:-1!==t.indexOf("msie")?parseInt(t.split("msie")[1]):0}return 0}function p(t,e,n){for(var r in e)if(e.hasOwnProperty(r)){if(n&&-1!==n.indexOf(r))continue;var o=e[r];void 0!==o&&(t[r]=o)}}function h(t,e){return"string"==typeof t&&(!e||t.length===e)}function v(t){return"number"==typeof t}function g(t){return h(t)||v(t)}function m(t){if(!t)return!1;var e=t.constructor.toString().substring(9).indexOf("Array");return t&&e>-1&&e<=1}function y(t,e){for(var n in e)(r=e[n])&&"object"===o()(r)&&!m(r)?y(t[n],e[n]):t[n]=e[n];var r}function b(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push("".concat(encodeURIComponent(String(n)),"=").concat(encodeURIComponent(String(t[n]))));return e.join("&")}function _(){return(new Date).getTime()}function O(){return"object"===("undefined"==typeof qq?"undefined":o()(qq))&&qq.canIUse?qq.canIUse("request"):!("object"!==("undefined"==typeof wx?"undefined":o()(wx))||!wx.canIUse)&&wx.canIUse("request")}function w(t,e){for(var n=Object.keys(t),r=n.length,o=0;o<r;o++){var i=n[o];e(i,t[i])}}function T(t){return!!(c&&c.location&&c.location.search.indexOf(t)>0)}function E(){return T("alloy_report_debug")||T("alloy-report-debug")}function S(){return T("alloy_report_close")||T("alloy-report-close")}function x(t){for(var e=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,o=0;o<t;o++)e.push(n.charAt(Math.floor(Math.random()*r)));return e.join("")}var j=function(){return"undefined"!=typeof document}}).call(this,n(40))},function(t,e,n){"use strict";n.d(e,"V",(function(){return i})),n.d(e,"W",(function(){return a})),n.d(e,"O",(function(){return u})),n.d(e,"M",(function(){return c})),n.d(e,"v",(function(){return s})),n.d(e,"u",(function(){return l})),n.d(e,"H",(function(){return f})),n.d(e,"G",(function(){return d})),n.d(e,"bb",(function(){return p})),n.d(e,"S",(function(){return h})),n.d(e,"N",(function(){return v})),n.d(e,"t",(function(){return g})),n.d(e,"a",(function(){return m})),n.d(e,"w",(function(){return y})),n.d(e,"E",(function(){return b})),n.d(e,"f",(function(){return _})),n.d(e,"I",(function(){return O})),n.d(e,"K",(function(){return w})),n.d(e,"g",(function(){return T})),n.d(e,"L",(function(){return E})),n.d(e,"Eb",(function(){return S})),n.d(e,"Fb",(function(){return x})),n.d(e,"P",(function(){return j})),n.d(e,"Q",(function(){return R})),n.d(e,"R",(function(){return A})),n.d(e,"cb",(function(){return C})),n.d(e,"i",(function(){return k})),n.d(e,"db",(function(){return I})),n.d(e,"X",(function(){return P})),n.d(e,"h",(function(){return D})),n.d(e,"Y",(function(){return M})),n.d(e,"jb",(function(){return L})),n.d(e,"F",(function(){return N})),n.d(e,"x",(function(){return B})),n.d(e,"c",(function(){return F})),n.d(e,"y",(function(){return q})),n.d(e,"ob",(function(){return W})),n.d(e,"l",(function(){return V})),n.d(e,"pb",(function(){return Q})),n.d(e,"J",(function(){return H})),n.d(e,"ab",(function(){return G})),n.d(e,"z",(function(){return K})),n.d(e,"C",(function(){return z})),n.d(e,"e",(function(){return X})),n.d(e,"D",(function(){return J})),n.d(e,"Bb",(function(){return Y})),n.d(e,"o",(function(){return $})),n.d(e,"Cb",(function(){return Z})),n.d(e,"Jb",(function(){return tt})),n.d(e,"Pb",(function(){return et})),n.d(e,"Mb",(function(){return nt})),n.d(e,"Kb",(function(){return rt})),n.d(e,"q",(function(){return ot})),n.d(e,"Lb",(function(){return it})),n.d(e,"Nb",(function(){return at})),n.d(e,"Gb",(function(){return ut})),n.d(e,"p",(function(){return ct})),n.d(e,"Hb",(function(){return st})),n.d(e,"s",(function(){return lt})),n.d(e,"Rb",(function(){return ft})),n.d(e,"r",(function(){return dt})),n.d(e,"Ob",(function(){return pt})),n.d(e,"ib",(function(){return ht})),n.d(e,"lb",(function(){return vt})),n.d(e,"k",(function(){return gt})),n.d(e,"nb",(function(){return mt})),n.d(e,"xb",(function(){return yt})),n.d(e,"hb",(function(){return bt})),n.d(e,"n",(function(){return _t})),n.d(e,"Ab",(function(){return Ot})),n.d(e,"yb",(function(){return wt})),n.d(e,"zb",(function(){return Tt})),n.d(e,"kb",(function(){return Et})),n.d(e,"U",(function(){return St})),n.d(e,"Ib",(function(){return xt})),n.d(e,"mb",(function(){return jt})),n.d(e,"tb",(function(){return Rt})),n.d(e,"m",(function(){return At})),n.d(e,"ub",(function(){return Ct})),n.d(e,"fb",(function(){return kt})),n.d(e,"eb",(function(){return It})),n.d(e,"j",(function(){return Pt})),n.d(e,"gb",(function(){return Dt})),n.d(e,"A",(function(){return Mt})),n.d(e,"d",(function(){return Lt})),n.d(e,"B",(function(){return Nt})),n.d(e,"T",(function(){return Bt})),n.d(e,"Db",(function(){return Ut})),n.d(e,"qb",(function(){return Ft})),n.d(e,"vb",(function(){return qt})),n.d(e,"Qb",(function(){return Wt})),n.d(e,"wb",(function(){return Vt})),n.d(e,"b",(function(){return Qt})),n.d(e,"sb",(function(){return Ht})),n.d(e,"rb",(function(){return Gt})),n.d(e,"Z",(function(){return Kt}));var r=n(37),o=n(0),i=Object(o.e)((function(t){return/(mobile)/i.test(t)||l(t)||d(t)})),a=Object(o.e)((function(t){return/(mobile)/i.test(t)&&!c(t)})),u=Object(o.e)((function(t){return/(iphone)/i.test(t)})),c=Object(o.e)((function(t){return/(ipad)/i.test(t)})),s=Object(o.e)((function(t){return/(mobile)/i.test(t)&&g(t)})),l=Object(o.e)((function(t){return(!/(mobile)/i.test(t)||/(tdocsIsPad)/i.test(t))&&g(t)})),f=Object(o.e)((function(t){return b(t)&&/mobile/i.test(t)})),d=Object(o.e)((function(t){return b(t)&&!/mobile/i.test(t)})),p=Object(o.e)((function(t){return!i(t)})),h=Object(o.e)((function(t){return!i(t)&&/Mac OS X/i.test(t)})),v=Object(o.e)((function(t){var e;return h(t)&&W(t)&&(navigator.maxTouchPoints>1||(null===(e=navigator.vendor)||void 0===e?void 0:e.startsWith("Google")))})),g=Object(o.e)((function(t){return/android|adr/i.test(t)})),m=Object(o.e)((function(t){return g(t)?Object(o.d)("Android",t):null})),y=Object(o.f)((function(t,e){return Object(o.a)(m(t)||"",e)>=0})),b=Object(o.e)((function(t){return/OpenHarmony/i.test(t)})),_=Object(o.e)((function(t){return b(t)?Object(o.d)("OpenHarmony",t):null})),O=Object(o.f)((function(t,e){return Object(o.a)(_(t)||"",e)>=0})),w=Object(o.e)((function(t){return/(iphone|ipad|ipod)/i.test(t)})),T=Object(o.e)((function(t){return w(t)?Object(o.d)("OS",t):null})),E=Object(o.f)((function(t,e){return Object(o.a)(T(t)||"",e)>=0})),S=Object(o.e)((function(t){return/(win64|wow64|win32|wow32|windows nt)/i.test(t)})),x=Object(o.e)((function(t){return/MSAppHost/i.test(t)})),j=Object(o.e)((function(t){return/linux/i.test(t)&&!g(t)})),R=Object(o.e)((function(t){return/linux-kylin/i.test(t)})),A=Object(o.e)((function(t){return/linux-uos/i.test(t)})),C=Object(o.e)((function(t){return!i(t)&&/QQBrowser/i.test(t)&&!/QBCore/i.test(t)})),k=Object(o.e)((function(t){return C(t)?Object(o.d)("QQBrowser",t):null})),I=Object(o.f)((function(t,e){return Object(o.a)(k(t)||"",e)>=0})),P=Object(o.e)((function(t){return i(t)&&/MQQBrowser/i.test(t)&&!wt(t)&&!Y(t)&&!tt(t)&&!Rt(t)&&!Ut(t)&&!St(t)&&!qt(t)})),D=Object(o.e)((function(t){return P(t)?Object(o.d)("MQQBrowser",t):null})),M=Object(o.f)((function(t,e){return Object(o.a)(D(t)||"",e)>=0})),L=Object(o.e)((function(t){return i(t)?P(t):C(t)})),N=Object(o.e)((function(t){return b(t)&&!wt(t)&&!Y(t)&&!tt(t)&&!Rt(t)&&!Ut(t)&&!St(t)&&!qt(t)})),B=Object(o.e)((function(t){return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(t)})),U=Object(o.e)((function(t){return/Chrome\/\S+ Safari\/\S+ /i.test(t)&&tt(t)})),F=Object(o.e)((function(t){return Object(o.d)("Chrome",t)})),q=Object(o.f)((function(t,e){return Object(o.a)(F(t)||"",e)>=0})),W=Object(o.e)((function(t){return/Version\/\S+( Mobile\S*)? Safari\/\S+$/i.test(t)})),V=Object(o.e)((function(t){return W(t)?Object(o.d)("Version",t):null})),Q=Object(o.f)((function(t,e){return Object(o.a)(V(t)||"",e)>=0})),H=Object(o.e)((function(t){return/MSIE/i.test(t)&&!/opera/i.test(t)||/Trident/i.test(t)})),G=Object(o.e)((function(t){return/Edge/i.test(t)})),K=Object(o.e)((function(t){return/Edg\//i.test(t)})),z=Object(o.e)((function(t){return/(Firefox|Focus|FxiOS)\//i.test(t)})),X=Object(o.e)((function(t){return z(t)?Object(o.d)("(Firefox|Focus|FxiOS)",t):null})),J=Object(o.f)((function(t,e){return Object(o.a)(X(t)||"",e)>=0})),Y=Object(o.e)((function(t){return/MicroMessenger/i.test(t)&&!tt(t)&&!xt(t)})),$=Object(o.e)((function(t){return Y(t)||xt(t)?Object(o.d)("MicroMessenger",t):null})),Z=Object(o.f)((function(t,e){return Object(o.a)($(t)||"",e)>=0})),tt=Object(o.e)((function(t){return/(wxwork)/i.test(t)})),et=Object(o.e)((function(t){return/(wxworkQt)/i.test(t)})),nt=Object(o.e)((function(t){return/WeComCEF/i.test(t)&&tt(t)})),rt=Object(o.e)((function(t){return!(!tt(t)||!p(t))&&(h(t)?nt(t):U(t))})),ot=Object(o.e)((function(t){return tt(t)&&p(t)?h(t)?Object(o.d)("WeComCEF",t):F(t):null})),it=Object(o.f)((function(t,e){return Object(o.a)(ot(t)||"",e)>=0})),at=Object(o.e)((function(t){return/(wxworklocal)/i.test(t)})),ut=Object(o.e)((function(t){return/WXDrive/i.test(t)})),ct=Object(o.e)((function(t){return ut(t)?Object(o.d)("WXDrive",t):null})),st=Object(o.f)((function(t,e){return Object(o.a)(ct(t)||"",e)>=0})),lt=Object(o.e)((function(t){return tt(t)?Object(o.d)("wxwork",t):null})),ft=Object(o.f)((function(t,e){return Object(o.a)(lt(t)||"",e)>=0})),dt=Object(o.e)((function(t){return at(t)?Object(o.d)("wxworklocal",t):null})),pt=Object(o.f)((function(t,e){return Object(o.a)(dt(t)||"",e)>=0})),ht=Object(o.e)((function(t){return/QQ\//i.test(t)&&!Rt(t)&&!jt(t)&&!yt(t)})),vt=Object(o.e)((function(t){return/QQ\//i.test(t)&&/_GM/i.test(t)})),gt=Object(o.e)((function(t){return ht(t)||jt(t)?Object(o.d)("QQ",t):null})),mt=Object(o.f)((function(t,e){return Object(o.a)(gt(t)||"",e)>=0})),yt=Object(o.e)((function(t){return/TIM/i.test(t)})),bt=Object(o.e)((function(t){return/QBCore/i.test(t)&&/TIM2.0/i.test(t)})),_t=Object(o.e)((function(t){return yt(t)?Object(o.d)("TIM",t):null})),Ot=Object(o.f)((function(t,e){return Object(o.a)(_t(t)||"",e)>=0})),wt=Object(o.e)((function(t){return yt(t)&&!jt(t)||ht(t)})),Tt=Object(o.e)((function(t){return yt(t)||/QQ/i.test(t)})),Et=Object(o.e)((function(t){return/QQEX/i.test(t)})),St=Object(o.e)((function(t){return/miniprogram|miniapp(?!enable)/i.test(t)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment})),xt=Object(o.e)((function(t){return/MicroMessenger/i.test(t)&&St(t)})),jt=Object(o.e)((function(t){return/QQ\/|TIM/i.test(t)&&St(t)})),Rt=Object(o.e)((function(t){return/TencentDocs/i.test(t)})),At=Object(o.e)((function(t){return Object(o.d)("TencentDocs",t)})),Ct=Object(o.f)((function(t,e){return Object(o.a)(At(t)||"",e)>=0})),kt=Object(o.e)((function(t){return/TxDocsPC/i.test(t)})),It=Object(o.e)((function(t){return kt(t)})),Pt=Object(o.e)((function(t){return Object(o.d)("TxDocsPC",t)})),Dt=Object(o.f)((function(t,e){return Object(o.a)(Pt(t)||"",e)>=0})),Mt=Object(o.e)((function(t){return/TDAppDesktop/i.test(t)})),Lt=Object(o.e)((function(t){return Object(o.d)("TDAppDesktop",t)})),Nt=Object(o.f)((function(t,e){return Object(o.a)(Lt(t)||"",e)>=0})),Bt=Object(o.e)((function(t){return"30020"===Object(o.d)("TDAppDesktopChannel",t)})),Ut=Object(o.e)((function(t){return/weiyun/i.test(t)})),Ft=Object(o.e)((function(t){return/SE 2\.X MetaSr 1\.0/i.test(t)})),qt=Object(o.e)((function(t){return/tencent_wemeet/i.test(t)})),Wt=Object(o.e)((function(t){return qt(t)&&/meeting_wework/i.test(t)})),Vt=Object(o.e)((function(t){return/TencentMeetingRooms/i.test(t)})),Qt=function(t){return Object(o.b)(t)},Ht=Object(o.e)((function(t){var e=t.match(/_tdocFlag\/(\d+)/);if(null==e?void 0:e[1])return!!(parseInt(e[1],10)&r.b.nativeDatabaseAndFullOfflineModeAvailable);var n=t.match(r.d);return!(null==n||!n[1])&&!!(parseInt(n[1],10)&r.a.nativeDatabaseAvailable)})),Gt=Object(o.e)((function(t){var e=t.match(/_tdocFlag\/(\d+)/);if(null==e?void 0:e[1])return!!(parseInt(e[1],10)&r.b.nativeDatabaseAndFullOfflineModeAvailable);var n=t.match(r.d);return!(null==n||!n[1])&&!!(parseInt(n[1],10)&r.a.fullOfflineModeAvailable)})),Kt=Object(o.e)((function(t){var e=t.match(r.d);return!(null==e||!e[1])&&!!(parseInt(e[1],10)&r.a.nativeDatabaseWillDeprecated)}))},function(t,e,n){"use strict";var r=n(2),o=n(0),i=function(){function t(t){void 0===t&&(t=Object(o.c)());var e=this;this.getAndroidVersion=function(){return r.a(e.userAgent)},this.isAndroidVersionAboveOrEqual=function(t){return r.w(t,e.userAgent)},this.getHarmonyVersion=function(){return r.f(e.userAgent)},this.isHarmonyVersionAboveOrEqual=function(t){return r.I(t,e.userAgent)},this.getIOSVersion=function(){return r.g(e.userAgent)},this.isIOSVersionAboveOrEqual=function(t){return r.L(t,e.userAgent)},this.getPCQQBrowserVersion=function(){return r.i(e.userAgent)},this.isPCQQBrowserVersionAboveOrEqual=function(t){return r.db(t,e.userAgent)},this.getMobileQQBrowserVersion=function(){return r.h(e.userAgent)},this.isMobileQQBrowserVersionAboveOrEqual=function(t){return r.Y(t,e.userAgent)},this.getChromeVersion=function(){return r.c(e.userAgent)},this.isChromeVersionAboveOrEqual=function(t){return r.y(t,e.userAgent)},this.getSafariVersion=function(){return r.l(e.userAgent)},this.isSafariVersionAboveOrEqual=function(t){return r.pb(t,e.userAgent)},this.getFirefoxVersion=function(){return r.e(e.userAgent)},this.isFirefoxVersionAboveOrEqual=function(t){return r.D(t,e.userAgent)},this.getWeChatVersion=function(){return r.o(e.userAgent)},this.isWeChatVersionAboveOrEqual=function(t){return r.Cb(t,e.userAgent)},this.isWxWorkCEFVersionAboveOrEqual=function(t){return r.Lb(t,e.userAgent)},this.getWxDriveVersion=function(){return r.p(e.userAgent)},this.isWxDriveVersionAboveOrEqual=function(t){return r.Hb(t,e.userAgent)},this.getWxWorkVersion=function(){return r.s(e.userAgent)},this.isWxWorkVersionAboveOrEqual=function(t){return r.Rb(t,e.userAgent)},this.getWxWorkPrivateVersion=function(){return r.r(e.userAgent)},this.isWxWorkPrivateVersionAboveOrEqual=function(t){return r.Ob(t,e.userAgent)},this.getQQVersion=function(){return r.k(e.userAgent)},this.isQQVersionAboveOrEqual=function(t){return r.nb(t,e.userAgent)},this.getTimVersion=function(){return r.n(e.userAgent)},this.isTimVersionAboveOrEqual=function(t){return r.Ab(t,e.userAgent)},this.getTencentDocsAppVersion=function(){return r.m(e.userAgent)},this.isTencentDocsAppVersionAboveOrEqual=function(t){return r.ub(t,e.userAgent)},this.getPCTencentDocsClientVersion=function(){return r.j(e.userAgent)},this.isPCTencentDocsClientVersionAboveOrEqual=function(t){return r.gb(t,e.userAgent)},this.getElectronTencentDocsClientVersion=function(){return r.d(e.userAgent)},this.isElectronTencentDocsClientVersionAboveOrEqual=function(t){return r.B(t,e.userAgent)},this.getBitToggleSettings=function(t){return r.b(t)},Object.defineProperty(this,"userAgent",{value:t,writable:!1})}return Object.defineProperty(t.prototype,"isMobile",{get:function(){return r.V(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobilePhone",{get:function(){return r.W(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIPhone",{get:function(){return r.O(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIPad",{get:function(){return r.M(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAndroidPhone",{get:function(){return r.v(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAndroidPad",{get:function(){return r.u(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHarmonyPhone",{get:function(){return r.H(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHarmonyPad",{get:function(){return r.G(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPC",{get:function(){return r.bb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMac",{get:function(){return r.S(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIPadEmulatedMac",{get:function(){return r.N(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAndroid",{get:function(){return r.t(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHarmony",{get:function(){return r.E(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIOS",{get:function(){return r.K(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWindows",{get:function(){return r.Eb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWindowsUWP",{get:function(){return r.Fb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLinux",{get:function(){return r.P(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLinuxKylin",{get:function(){return r.Q(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLinuxUOS",{get:function(){return r.R(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPCQQBrowser",{get:function(){return r.cb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileQQBrowser",{get:function(){return r.X(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQQBrowser",{get:function(){return r.jb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHarmonyBrowser",{get:function(){return r.F(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isChrome",{get:function(){return r.x(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSafari",{get:function(){return r.ob(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIE",{get:function(){return r.J(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOldEdge",{get:function(){return r.ab(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isChromiumEdge",{get:function(){return r.z(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirefox",{get:function(){return r.C(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWeChat",{get:function(){return r.Bb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWxWork",{get:function(){return r.Jb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWxWorkQt",{get:function(){return r.Pb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWxWorkCustom",{get:function(){return r.Mb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWxWorkCEF",{get:function(){return r.Kb(this.userAgent)},enumerable:!1,configurable:!0}),t.prototype.getWxWorkCEFVersion=function(){return r.q(this.userAgent)},Object.defineProperty(t.prototype,"isWxWorkPrivate",{get:function(){return r.Nb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWxDrive",{get:function(){return r.Gb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQQ",{get:function(){return r.ib(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQQForGooglePlay",{get:function(){return r.lb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTim",{get:function(){return r.xb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPCTim",{get:function(){return r.hb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTimOrQQ",{get:function(){return r.yb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTimOrQQFamily",{get:function(){return r.zb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQQDesktopDocsClient",{get:function(){return r.kb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMiniProgram",{get:function(){return r.U(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWxMiniProgram",{get:function(){return r.Ib(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQQMiniProgram",{get:function(){return r.mb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTencentDocsApp",{get:function(){return r.tb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPCTencentDocsClient",{get:function(){return r.fb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPCTencentDocsApp",{get:function(){return r.eb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isElectronTencentDocsClient",{get:function(){return r.A(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMacAppStoreTencentDocsClient",{get:function(){return r.T(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWeiYunApp",{get:function(){return r.Db(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSouGou",{get:function(){return r.qb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTencentMeeting",{get:function(){return r.vb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWxWorkTencentMeeting",{get:function(){return r.Qb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTencentMeetingRooms",{get:function(){return r.wb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSupportNativeDatabase",{get:function(){return r.sb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSupportFullOfflineMode",{get:function(){return r.rb(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNativeDatabaseWillDeprecated",{get:function(){return r.Z(this.userAgent)},enumerable:!1,configurable:!0}),t}();e.a=new i},function(t,e,n){"use strict";var r=n(28),o=n.n(r),i=n(20),a=n(29);function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.navigator.userAgent;try{var n=new RegExp("\\b".concat(t,"\\/((\\d+\\.){1,3}\\d+)"),"i").exec(e);return n&&n.length>1&&n[1]||""}catch(t){return""}}var c=n(15);function s(t){for(var e="",n=0;n<t;n++)e+=Math.random().toString(36).substr(2);return e}var l=n(11);var f,d,p,h=n(3),v=n(18),g=function(t){var e=t.match(/TDAppDesktopChannel\/[\d]{5}/g);return e?e[0].slice(-5):null},m=n(8),y=n(32),b=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/kswps","application/kswpt","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],_=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","text/csv","text/csv; charset=utf-8","application/vnd.ms-excel.sheet.binary.macroEnabled.12","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/kset","application/ksett"],O=["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/ksdps","application/ksdpt","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],w=["text/lrc","text/asp; charset=utf-8","application/x-msdownload","text/richtext; charset=utf-8","text/plain","text/plain; charset=utf-8","text/xml","text/html","text/html; charset=utf-8","text/markdown"],T=["text/x-c; charset=utf-8","text/x-c; charset=utf-8","text/x-chdr","text/x-asm; charset=utf-8","text/x-java-source; charset=utf-8","text/javascript","text/x-go"],E=["image/x-sony-arw","image/bmp","image/vnd.zbrush.pcx","image/x-pcx","image/tiff","image/gif","image/x-exif","image/jpeg","image/vnd.fpx","image/svg+xml","image/vnd.adobe.photoshop","image/x-cdr","image/x-photo-cd","image/vnd.dxf","image/x-ufo","application/postscript","image/png","image/wmf","image/webp","image/x-tga"],S=["audio/mpeg","audio/aac","audio/x-flac","audio/amr","audio/AMR","audio/mp4","audio/x-ms-wma","audio/x-wav","audio/x-cd","audio/x-wave","audio/x-aiff","audio/midi","audio/x-realaudio","audio/x-twinvq","audio/ogg","audio/x-ape","audio/webm","audio/mpeg-4"],x=["video/mp4","video/3gpp","video/x-ms-asf","video/x-msvideo","video/dv","video/x-flv","video/x-f4v","application/vnd.apple.mpegurl","video/x-matroska","video/quicktime","video/mpeg","video/mp2t","application/vnd.rn-realmedia","audio/x-pn-realaudio","video/x-ms-wmv","video/dat"],j=["application/vnd.ms-visio.drawing","application/x-visio","application/vnd.ms-visio.drawing.main+xml"],R=["application/vnd.pos"];function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===A(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(t){return t.Doc="application/vnd.tdocs-apps.doc",t.Sheet="application/vnd.tdocs-apps.sheet",t.Form="application/vnd.tdocs-apps.form",t.Folder="application/vnd.tdocs-apps.folder",t.CollaborationSpace="application/vnd.tdocs-apps.collaboration-space",t.CollaborationSpaceRoot="application/vnd.tdocs-apps.collaboration-space-root",t.SharedFolder="application/vnd.tdocs-apps.shared-folder",t.Share="application/vnd.tdocs-apps.share-folder",t.Slide="application/vnd.tdocs-apps.slide",t.Pdf="application/pdf",t.Aio="application/vnd.tdocs-apps.aio",t.SmartCanvas="application/vnd.tdocs-apps.smartcanvas",t.SmartSheet="application/vnd.tdocs-apps.smartsheet",t.Mind="application/vnd.tdocs-apps.mind",t.FlowChart="application/vnd.tdocs-apps.flowchart",t.Rec="application/vnd.tdocs-apps.rec",t.Word="application/vnd.ms-word",t.Excel="application/vnd.ms-excel",t.Powerpoint="application/vnd.ms-powerpoint",t.Zip="application/zip",t}({}),I=function(t){return t[t.Doc=0]="Doc",t[t.Sheet=1]="Sheet",t[t.Form=2]="Form",t[t.Folder=3]="Folder",t[t.Slide=4]="Slide",t[t.Pdf=6]="Pdf",t[t.Aio=7]="Aio",t[t.SmartCanvas=8]="SmartCanvas",t[t.Unknown=10]="Unknown",t[t.SmartSheet=9]="SmartSheet",t[t.Mind=90]="Mind",t[t.Flowchart=91]="Flowchart",t[t.FlowChart=91]="FlowChart",t[t.Drive=101]="Drive",t[t.Rec=102]="Rec",t}({}),P=function(t){return t.Doc="doc",t.Sheet="sheet",t.Slide="slide",t.Form="form",t.Pdf="pdf",t.Mind="mind",t.FlowChart="flowchart",t.Aio="Aio",t.Folder="folder",t.SmartCanvas="smartcanvas",t.SmartSheet="smartsheet",t.Drive="drive",t.Rec="rec",t}({});C(f={},I.Doc,k.Doc),C(f,I.Sheet,k.Sheet),C(f,I.Slide,k.Slide),C(f,I.Form,k.Form),C(f,I.SmartCanvas,k.SmartCanvas),C(f,I.Mind,k.Mind),C(f,I.FlowChart,k.FlowChart),C(f,I.Rec,k.Rec),C(f,I.Pdf,k.Pdf),C(f,I.Aio,k.Aio),I.Doc,I.Sheet,I.Slide,k.Form,I.Form,k.SmartCanvas,I.SmartCanvas,k.SmartSheet,I.SmartSheet,k.Doc,I.Doc,k.Sheet,I.Sheet,k.Slide,I.Slide,k.Mind,I.Mind,k.FlowChart,I.FlowChart,I.Doc,I.Doc,k.Pdf,I.Pdf,I.FlowChart,I.Mind,k.Folder,I.Folder,C(d={},P.Doc,k.Word),C(d,P.Sheet,k.Excel),C(d,P.Slide,k.Powerpoint),C(p={},P.Doc,k.Doc),C(p,P.Sheet,k.Sheet),C(p,P.Slide,k.Slide),C(p,P.Form,k.Form),C(p,P.SmartCanvas,k.SmartCanvas),C(p,P.Mind,k.Mind),C(p,P.FlowChart,k.FlowChart),C(p,P.Pdf,k.Pdf),C(p,P.Aio,k.Aio),P.Drive,P.Drive,P.Drive,k.Form,P.Form,k.SmartCanvas,P.SmartCanvas,k.SmartSheet,P.SmartSheet,k.Doc,P.Doc,k.Sheet,P.Sheet,k.Slide,P.Slide,k.Mind,P.Mind,k.FlowChart,P.FlowChart,P.Drive,P.Drive,k.Pdf,P.Pdf,P.FlowChart,P.Mind,P.Drive,P.Drive,P.Drive,k.Rec,P.Rec;var D=function(t){return b.includes(t)},M=function(t){return _.includes(t)},L=function(t){return O.includes(t)},N=n(1);n.d(e,"g",(function(){return V})),n.d(e,"f",(function(){return Q})),n.d(e,"F",(function(){return H})),n.d(e,"H",(function(){return G})),n.d(e,"E",(function(){return K})),n.d(e,"e",(function(){return z})),n.d(e,"C",(function(){return X})),n.d(e,"G",(function(){return J})),n.d(e,"p",(function(){return $})),n.d(e,"o",(function(){return Z})),n.d(e,"t",(function(){return tt})),n.d(e,"d",(function(){return et})),n.d(e,"A",(function(){return nt})),n.d(e,"x",(function(){return rt})),n.d(e,"w",(function(){return ot})),n.d(e,"r",(function(){return it})),n.d(e,"k",(function(){return at})),n.d(e,"m",(function(){return ut})),n.d(e,"v",(function(){return ct})),n.d(e,"u",(function(){return st})),n.d(e,"s",(function(){return lt})),n.d(e,"n",(function(){return ft})),n.d(e,"b",(function(){return dt})),n.d(e,"I",(function(){return vt})),n.d(e,"h",(function(){return gt})),n.d(e,"j",(function(){return mt})),n.d(e,"y",(function(){return yt})),n.d(e,"c",(function(){return bt})),n.d(e,"z",(function(){return _t})),n.d(e,"B",(function(){return Ot})),n.d(e,"a",(function(){return wt})),n.d(e,"i",(function(){return Tt})),n.d(e,"l",(function(){return Et})),n.d(e,"D",(function(){return St})),n.d(e,"q",(function(){return xt})),n.d(e,"J",(function(){return Ct}));var B=null,U=null,F=null,q=void 0;if(Object(N.j)()){var W=h.a.getWxWorkVersion();W&&(q="".concat(h.a.isWxWorkQt?"QT":"").concat(W))}function V(){if(B)return B;var t=Object(i.a)("p_luin")||Object(i.a)("p_uin");return t&&(B=t.replace(/^[o0]+/i,"")),B}function Q(){if(U)return U;var t=Object(i.a)("uid")||Object(i.a)("wedrive_uin")||Object(i.a)("tdoc_uid");return t&&(U=t),U}function H(){return V()||(null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.userInfo)||void 0===e?void 0:e.uin)||Object(l.b)().uin||null||K();var t,e}function G(){var t;return null===(t=Object(l.b)().userInfo)||void 0===t?void 0:t.uid}function K(){return(null===(t=window.global_multi_user)||void 0===t?void 0:t.uid)||Q()||function(){var t,e,n;return(null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.userInfo)||void 0===e?void 0:e.userId)||(null===(n=Object(l.b)().userInfo)||void 0===n?void 0:n.uid)||null}();var t}function z(){var t;try{var e=null===(t=window.localStorage)||void 0===t?void 0:t.getItem("browserStr");return e||(e=s(5),window.localStorage&&window.localStorage.setItem("browserStr",e)),e}catch(t){return s(5)}}function X(){if(F)return F;var t=Object(a.d)("adtag");if(t)F=t,Object(i.b)("adtag",t,8760,m.c,"/"),localStorage.setItem("tdsourcetag",t);else{var e=Object(a.d)("tdsourcetag");if(e)F=e,Object(i.b)("adtag",e,8760,m.c,"/"),localStorage.setItem("tdsourcetag",e);else{var n=Object(a.d)("from_page");n&&(F=n,Object(i.b)("adtag",n,8760,m.c,"/"),localStorage.setItem("tdsourcetag",n))}}return F||(F=localStorage.getItem("tdsourcetag")||Object(i.a)("adtag")||""),F}function J(){var t,e,n;return(null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.userInfo)||void 0===e?void 0:e.loginType)||(null===(n=Object(l.b)().userInfo)||void 0===n?void 0:n.loginType)||c.h}var Y={flowchart:"flow"};function $(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=(null===(n=null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.docInfo)||void 0===e?void 0:e.padInfo)||void 0===n?void 0:n.padType)||Object(l.b)().padType;return r&&Y[o]?Y[o]:o}function Z(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=$()||e;return n?("drive"===n&&(n=function(){var t,e,n,r={doc:"doc",sheet:"sheet",slide:"slide"};try{var o=null!==(n=null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.docInfo)||void 0===e?void 0:e.mimeType)&&void 0!==n?n:"";return D(o)?r.doc:M(o)?r.sheet:L(o)?r.slide:""}catch(t){return""}}()),null!==(t=c.c[n])&&void 0!==t?t:c.h):c.h}function tt(){var t,e,n=(null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.docInfo)||void 0===e?void 0:e.isOwner)||Object(l.b)().isOwner;return void 0===n?c.h:n?c.g.trueNumber:c.g.falseNumber}function et(t){var e,n;return t||(null===(n=null===(e=Object(l.a)())||void 0===e?void 0:e.authInfo)||void 0===n?void 0:n.privilegeFlag)||Object(l.b)().rightFlag||c.h}function nt(){var t,e;return(null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.docInfo)||void 0===e?void 0:e.isOwner)?c.b.owner:Object(l.b)().rightFlag>1?c.b.writer:1===Object(l.b)().rightFlag?c.b.reader:c.b.error}function rt(){var t,e,n;switch(null===(n=null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.docInfo)||void 0===e?void 0:e.padInfo)||void 0===n?void 0:n.padType){case"sheet":return c.e.detail;case"scenario":return c.e.login;case"blankpage":return c.e.error;case"mall":return c.e.template;default:return""}}function ot(){var t,e,n;if(Object(v.a)())return"***";var r=(null===(n=null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.docInfo)||void 0===e?void 0:e.padInfo)||void 0===n?void 0:n.padTitle)||Object(l.b)().padTitle;return r?r.replace(/&/g,"\\&").replace(/\|/g,"\\|").replace(/=/g,"\\=").replace(/%/g,"\\%").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t"):null}function it(){var t=ut(),e=ct();return t&&e?"".concat(t,"$").concat(e):Object(l.b)().globalPadId||null}function at(){var t,e,n;return(null===(n=null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.docInfo)||void 0===e?void 0:e.createInfo)||void 0===n?void 0:n.creatorId)||Object(l.b)().creatorId||null}function ut(){var t,e,n;return(null===(n=null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.docInfo)||void 0===e?void 0:e.padInfo)||void 0===n?void 0:n.domainId)||Object(l.b)().domainId||null}function ct(){var t,e,n;return(null===(n=null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.docInfo)||void 0===e?void 0:e.padInfo)||void 0===n?void 0:n.padId)||Object(l.b)().padId||null}function st(){var t,e,n;return(null===(n=null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.docInfo)||void 0===e?void 0:e.ownerInfo)||void 0===n?void 0:n.ownerId)||Object(l.b)().ownerId||null}function lt(){var t;return(null===(t=window.__DWS_INFO__)||void 0===t?void 0:t.releaseVersion)||window.__globalReleaseVersion||null}function ft(){var t,e,n,r;return(null===(e=null===(t=Object(l.b)())||void 0===t?void 0:t.collab_client_vars)||void 0===e?void 0:e.dver)||(null===(r=null===(n=Object(l.a)())||void 0===n?void 0:n.docInfo)||void 0===r?void 0:r.dver)||null}function dt(){var t,e;return(null===(e=null===(t=Object(l.b)().collab_client_vars)||void 0===t?void 0:t.apid)||void 0===e?void 0:e.apid)||null}function pt(){if(h.a.isWxWorkQt)return"wxworkQT"}function ht(){var t;if(h.a.isWxWorkCEF){var e=h.a.getWxWorkCEFVersion();if("string"==typeof e)return null===(t=e.split("."))||void 0===t?void 0:t[0]}}function vt(){return Object(v.a)()?{work_weixin_ext:JSON.stringify({corpid:gt(),itemname:"",vid:K(),logid:"",platform:pt(),dver:ft(),wxwork_version:h.a.getWxWorkVersion(),cef_version:ht()}),work_weixin_source:""}:{}}function gt(){var t,e,n;return(null===(e=null===(t=Object(l.a)())||void 0===t?void 0:t.userInfo)||void 0===e?void 0:e.corpId)||(null===(n=Object(l.b)().userInfo)||void 0===n?void 0:n.corp_id)||null}function mt(){return Object(l.b)().creatorCorpId||null}function yt(){return h.a.isHarmony?10:h.a.isMobile?h.a.isAndroid?2:h.a.isIOS?h.a.isIPad?6:3:4:h.a.isMac?5:h.a.isLinuxUOS?9:h.a.isLinuxKylin?8:h.a.isLinux?7:h.a.isPCTencentDocsClient||h.a.isWindows?1:c.h}function bt(){return h.a?h.a.isWxWork?h.a.isMobile?c.a.MOBILE:c.a.CLIENT:h.a.isWeChat?c.a.WECHAT:c.a.BROWSER:c.a.OTHER}function _t(){return h.a.isMac?c.f.MAC:h.a.isWindows?c.f.WIN:h.a.isAndroid?c.f.ANDROID:h.a.isIOS?c.f.iOS:h.a.isHarmony?c.f.Harmony:c.f.OTHER}function Ot(){for(var t=[[h.a.isPCTencentDocsClient,10],[h.a.isTencentMeeting,14],[h.a.isTim,2],[h.a.isWxMiniProgram,3],[h.a.isWeChat,4],[h.a.isTencentDocsApp,6],[h.a.isWindowsUWP,8],[h.a.isQQ,1],[h.a.isWxWork,9],[h.a.isWeiYunApp,11],[h.a.isQQMiniProgram,12],[h.a.isQQDesktopDocsClient,15],[h.a.isElectronTencentDocsClient,13],[h.a.isTencentMeeting,14],[h.a.isQQBrowser,5],[h.a.isHarmonyBrowser,5],[h.a.isMobileQQBrowser,5],[h.a.isChrome,5],[h.a.isSafari,5],[h.a.isOldEdge,5],[h.a.isIE,5],[h.a.isChromiumEdge,5],[h.a.isFirefox,5]],e=0;e<t.length;e++){var n=o()(t[e],2),r=n[0],i=n[1];if(r)return i}return c.h}function wt(){return window.ExpIdList||null}function Tt(){var t=Object(l.b)(),e=t.userLoginCorpName,n=t.userLoginCorpId;if(!e||!n){var r=t.userInfo||{};e=r.corp_name,n=r.corp_id}return e&&n?Object(v.a)()?"".concat(n):"".concat(e,"-").concat(n):null}function Et(){return h.a.isElectronTencentDocsClient?u("TDAppDesktop"):h.a.isPCTencentDocsClient?u("TxDocsPC"):h.a.isTencentDocsApp?u("TencentDocs"):void 0}function St(){return Object(i.a)("free_go_proxy")||Object(i.a)("env_name")||Object(i.a)("env_id")||Object(i.a)("fd")}function xt(){if(Object(v.a)())return"";var t=h.a.userAgent;return JSON.stringify({channel:g(t),qimei:Object(i.a)("qimei"),domain:y.a.domain,tenant:y.a.tenant,client:y.a.client,quadrant:Rt(),suffix:At()})}var jt={local:"local",qqbrowser_local:"qqbrowser_local",drive:"drive",online:"online"};function Rt(){var t,e,n,r,o=Object(a.c)(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.href,"client")||"";return["desktop_local","qqclient_local"].includes(o)?jt.local:"qqbrowser_local"===y.a.client?jt.qqbrowser_local:"pdf"===$()?jt.drive:(null===(r=null===(n=null===(e=Object(l.a)())||void 0===e?void 0:e.docInfo)||void 0===n?void 0:n.cosInfo)||void 0===r?void 0:r.driveExt)?jt.drive:jt.online}function At(){var t,e,n,r,o,i;if(Rt()===jt.local){var u=Object(a.c)(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.href,"localFilePath");if(!u||!u.includes(".")){return null!==(e={doc:".docx",sheet:".xlsx",slide:".pptx",pdf:".pdf"}[$()])&&void 0!==e?e:""}return".".concat(u.split(".").pop())}if("pdf"===$())return".pdf";if(Rt()===jt.drive){var c=null!==(i=null===(o=null===(r=null===(n=Object(l.a)())||void 0===n?void 0:n.docInfo)||void 0===r?void 0:r.cosInfo)||void 0===o?void 0:o.driveExt)&&void 0!==i?i:"";return".".concat(c)}return""}function Ct(){return q}},function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return v})),n.d(e,"d",(function(){return g})),n.d(e,"b",(function(){return m})),n.d(e,"e",(function(){return y}));var r=n(39),o=n.n(r),i=n(1),a="[AlloyReport]",u=Object(i.g)(),c=console,s=c.log,l=c.error,f=c.warn,d=c.info,p=function(t,e){t.apply(void 0,[a].concat(o()(e)))},h=function(){if(u){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];p(s,e)}},v=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];l.apply(void 0,[a].concat(e))},g=function(){if(u){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];p(f,e)}},m=function(){if(u){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];p(d,e)}},y=function(t){u=t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(59);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(){this.__data__=[],this.size=0};var l=function(t,e){return t===e||t!=t&&e!=e};var f=function(t,e){for(var n=t.length;n--;)if(l(t[n][0],e))return n;return-1},d=Array.prototype.splice;var p=function(t){var e=this.__data__,n=f(e,t);return!(n<0)&&(n==e.length-1?e.pop():d.call(e,n,1),--this.size,!0)};var h=function(t){var e=this.__data__,n=f(e,t);return n<0?void 0:e[n][1]};var v=function(t){return f(this.__data__,t)>-1};var g=function(t,e){var n=this.__data__,r=f(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function m(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}m.prototype.clear=s,m.prototype.delete=p,m.prototype.get=h,m.prototype.has=v,m.prototype.set=g;var y=m;var b=function(){this.__data__=new y,this.size=0};var _=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var O=function(t){return this.__data__.get(t)};var w=function(t){return this.__data__.has(t)},T=n(27),E=T.a.Symbol,S=Object.prototype,x=S.hasOwnProperty,j=S.toString,R=E?E.toStringTag:void 0;var A=function(t){var e=x.call(t,R),n=t[R];try{t[R]=void 0;var r=!0}catch(t){}var o=j.call(t);return r&&(e?t[R]=n:delete t[R]),o},C=Object.prototype.toString;var k=function(t){return C.call(t)},I="[object Null]",P="[object Undefined]",D=E?E.toStringTag:void 0;var M=function(t){return null==t?void 0===t?P:I:D&&D in Object(t)?A(t):k(t)};var L=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},N="[object AsyncFunction]",B="[object Function]",U="[object GeneratorFunction]",F="[object Proxy]";var q,W=function(t){if(!L(t))return!1;var e=M(t);return e==B||e==U||e==N||e==F},V=T.a["__core-js_shared__"],Q=(q=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"";var H=function(t){return!!Q&&Q in t},G=Function.prototype.toString;var K=function(t){if(null!=t){try{return G.call(t)}catch(t){}try{return t+""}catch(t){}}return""},z=/^\[object .+?Constructor\]$/,X=Function.prototype,J=Object.prototype,Y=X.toString,$=J.hasOwnProperty,Z=RegExp("^"+Y.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var tt=function(t){return!(!L(t)||H(t))&&(W(t)?Z:z).test(K(t))};var et=function(t,e){return null==t?void 0:t[e]};var nt=function(t,e){var n=et(t,e);return tt(n)?n:void 0},rt=nt(T.a,"Map"),ot=nt(Object,"create");var it=function(){this.__data__=ot?ot(null):{},this.size=0};var at=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ut="__lodash_hash_undefined__",ct=Object.prototype.hasOwnProperty;var st=function(t){var e=this.__data__;if(ot){var n=e[t];return n===ut?void 0:n}return ct.call(e,t)?e[t]:void 0},lt=Object.prototype.hasOwnProperty;var ft=function(t){var e=this.__data__;return ot?void 0!==e[t]:lt.call(e,t)},dt="__lodash_hash_undefined__";var pt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ot&&void 0===e?dt:e,this};function ht(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ht.prototype.clear=it,ht.prototype.delete=at,ht.prototype.get=st,ht.prototype.has=ft,ht.prototype.set=pt;var vt=ht;var gt=function(){this.size=0,this.__data__={hash:new vt,map:new(rt||y),string:new vt}};var mt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var yt=function(t,e){var n=t.__data__;return mt(e)?n["string"==typeof e?"string":"hash"]:n.map};var bt=function(t){var e=yt(this,t).delete(t);return this.size-=e?1:0,e};var _t=function(t){return yt(this,t).get(t)};var Ot=function(t){return yt(this,t).has(t)};var wt=function(t,e){var n=yt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tt.prototype.clear=gt,Tt.prototype.delete=bt,Tt.prototype.get=_t,Tt.prototype.has=Ot,Tt.prototype.set=wt;var Et=Tt,St=200;var xt=function(t,e){var n=this.__data__;if(n instanceof y){var r=n.__data__;if(!rt||r.length<St-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Et(r)}return n.set(t,e),this.size=n.size,this};function jt(t){var e=this.__data__=new y(t);this.size=e.size}jt.prototype.clear=b,jt.prototype.delete=_,jt.prototype.get=O,jt.prototype.has=w,jt.prototype.set=xt;var Rt=jt,At=function(){try{var t=nt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Ct=function(t,e,n){"__proto__"==e&&At?At(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var kt=function(t,e,n){(void 0===n||l(t[e],n))&&(void 0!==n||e in t)||Ct(t,e,n)};var It=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===n(i[c],c,i))break}return e}}(),Pt=n(52),Dt=T.a.Uint8Array;var Mt=function(t){var e=new t.constructor(t.byteLength);return new Dt(e).set(new Dt(t)),e};var Lt=function(t,e){var n=e?Mt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var Nt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Bt=Object.create,Ut=function(){function t(){}return function(e){if(!L(e))return{};if(Bt)return Bt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var Ft=function(t,e){return function(n){return t(e(n))}},qt=Ft(Object.getPrototypeOf,Object),Wt=Object.prototype;var Vt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Wt)};var Qt=function(t){return"function"!=typeof t.constructor||Vt(t)?{}:Ut(qt(t))};var Ht=function(t){return null!=t&&"object"==typeof t},Gt="[object Arguments]";var Kt=function(t){return Ht(t)&&M(t)==Gt},zt=Object.prototype,Xt=zt.hasOwnProperty,Jt=zt.propertyIsEnumerable,Yt=Kt(function(){return arguments}())?Kt:function(t){return Ht(t)&&Xt.call(t,"callee")&&!Jt.call(t,"callee")},$t=Array.isArray,Zt=9007199254740991;var te=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Zt};var ee=function(t){return null!=t&&te(t.length)&&!W(t)};var ne=function(t){return Ht(t)&&ee(t)},re=n(43),oe="[object Object]",ie=Function.prototype,ae=Object.prototype,ue=ie.toString,ce=ae.hasOwnProperty,se=ue.call(Object);var le=function(t){if(!Ht(t)||M(t)!=oe)return!1;var e=qt(t);if(null===e)return!0;var n=ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ue.call(n)==se},fe={};fe["[object Float32Array]"]=fe["[object Float64Array]"]=fe["[object Int8Array]"]=fe["[object Int16Array]"]=fe["[object Int32Array]"]=fe["[object Uint8Array]"]=fe["[object Uint8ClampedArray]"]=fe["[object Uint16Array]"]=fe["[object Uint32Array]"]=!0,fe["[object Arguments]"]=fe["[object Array]"]=fe["[object ArrayBuffer]"]=fe["[object Boolean]"]=fe["[object DataView]"]=fe["[object Date]"]=fe["[object Error]"]=fe["[object Function]"]=fe["[object Map]"]=fe["[object Number]"]=fe["[object Object]"]=fe["[object RegExp]"]=fe["[object Set]"]=fe["[object String]"]=fe["[object WeakMap]"]=!1;var de=function(t){return Ht(t)&&te(t.length)&&!!fe[M(t)]};var pe=function(t){return function(e){return t(e)}},he=n(41),ve=he.a&&he.a.isTypedArray,ge=ve?pe(ve):de;var me=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},ye=Object.prototype.hasOwnProperty;var be=function(t,e,n){var r=t[e];ye.call(t,e)&&l(r,n)&&(void 0!==n||e in t)||Ct(t,e,n)};var _e=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?Ct(n,u,c):be(n,u,c)}return n};var Oe=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},we=9007199254740991,Te=/^(?:0|[1-9]\d*)$/;var Ee=function(t,e){var n=typeof t;return!!(e=null==e?we:e)&&("number"==n||"symbol"!=n&&Te.test(t))&&t>-1&&t%1==0&&t<e},Se=Object.prototype.hasOwnProperty;var xe=function(t,e){var n=$t(t),r=!n&&Yt(t),o=!n&&!r&&Object(re.a)(t),i=!n&&!r&&!o&&ge(t),a=n||r||o||i,u=a?Oe(t.length,String):[],c=u.length;for(var s in t)!e&&!Se.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ee(s,c))||u.push(s);return u};var je=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Re=Object.prototype.hasOwnProperty;var Ae=function(t){if(!L(t))return je(t);var e=Vt(t),n=[];for(var r in t)("constructor"!=r||!e&&Re.call(t,r))&&n.push(r);return n};var Ce=function(t){return ee(t)?xe(t,!0):Ae(t)};var ke=function(t){return _e(t,Ce(t))};var Ie=function(t,e,n,r,o,i,a){var u=me(t,n),c=me(e,n),s=a.get(c);if(s)kt(t,n,s);else{var l=i?i(u,c,n+"",t,e,a):void 0,f=void 0===l;if(f){var d=$t(c),p=!d&&Object(re.a)(c),h=!d&&!p&&ge(c);l=c,d||p||h?$t(u)?l=u:ne(u)?l=Nt(u):p?(f=!1,l=Object(Pt.a)(c,!0)):h?(f=!1,l=Lt(c,!0)):l=[]:le(c)||Yt(c)?(l=u,Yt(u)?l=ke(u):L(u)&&!W(u)||(l=Qt(c))):f=!1}f&&(a.set(c,l),o(l,c,r,i,a),a.delete(c)),kt(t,n,l)}};var Pe=function t(e,n,r,o,i){e!==n&&It(n,(function(a,u){if(i||(i=new Rt),L(a))Ie(e,n,u,r,t,o,i);else{var c=o?o(me(e,u),a,u+"",e,n,i):void 0;void 0===c&&(c=a),kt(e,u,c)}}),Ce)};var De=function(t){return t};var Me=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Le=Math.max;var Ne=function(t,e,n){return e=Le(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Le(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),Me(t,this,u)}};var Be=function(t){return function(){return t}},Ue=At?function(t,e){return At(t,"toString",{configurable:!0,enumerable:!1,value:Be(e),writable:!0})}:De,Fe=800,qe=16,We=Date.now;var Ve=function(t){var e=0,n=0;return function(){var r=We(),o=qe-(r-n);if(n=r,o>0){if(++e>=Fe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Ue);var Qe=function(t,e){return Ve(Ne(t,e,De),t+"")};var He=function(t,e,n){if(!L(n))return!1;var r=typeof e;return!!("number"==r?ee(n)&&Ee(e,n.length):"string"==r&&e in n)&&l(n[e],t)};var Ge=function(t){return Qe((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&He(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,i)}return e}))}((function(t,e,n){Pe(t,e,n)})),Ke="[object Symbol]";var ze=function(t){return"symbol"==typeof t||Ht(t)&&M(t)==Ke},Xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Je=/^\w*$/;var Ye=function(t,e){if($t(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ze(t))||(Je.test(t)||!Xe.test(t)||null!=e&&t in Object(e))},$e="Expected a function";function Ze(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError($e);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Ze.Cache||Et),n}Ze.Cache=Et;var tn=Ze,en=500;var nn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rn=/\\(\\)?/g,on=function(t){var e=tn(t,(function(t){return n.size===en&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nn,(function(t,n,r,o){e.push(r?o.replace(rn,"$1"):n||t)})),e}));var an=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},un=1/0,cn=E?E.prototype:void 0,sn=cn?cn.toString:void 0;var ln=function t(e){if("string"==typeof e)return e;if($t(e))return an(e,t)+"";if(ze(e))return sn?sn.call(e):"";var n=e+"";return"0"==n&&1/e==-un?"-0":n};var fn=function(t){return null==t?"":ln(t)};var dn=function(t,e){return $t(t)?t:Ye(t,e)?[t]:on(fn(t))},pn=1/0;var hn=function(t){if("string"==typeof t||ze(t))return t;var e=t+"";return"0"==e&&1/t==-pn?"-0":e};var vn=function(t,e){for(var n=0,r=(e=dn(e,t)).length;null!=t&&n<r;)t=t[hn(e[n++])];return n&&n==r?t:void 0};var gn=function(t,e,n){var r=null==t?void 0:vn(t,e);return void 0===r?n:r},mn=Ft(Object.keys,Object),yn=Object.prototype.hasOwnProperty;var bn=function(t){if(!Vt(t))return mn(t);var e=[];for(var n in Object(t))yn.call(t,n)&&"constructor"!=n&&e.push(n);return e},_n=nt(T.a,"DataView"),On=nt(T.a,"Promise"),wn=nt(T.a,"Set"),Tn=nt(T.a,"WeakMap"),En=K(_n),Sn=K(rt),xn=K(On),jn=K(wn),Rn=K(Tn),An=M;(_n&&"[object DataView]"!=An(new _n(new ArrayBuffer(1)))||rt&&"[object Map]"!=An(new rt)||On&&"[object Promise]"!=An(On.resolve())||wn&&"[object Set]"!=An(new wn)||Tn&&"[object WeakMap]"!=An(new Tn))&&(An=function(t){var e=M(t),n="[object Object]"==e?t.constructor:void 0,r=n?K(n):"";if(r)switch(r){case En:return"[object DataView]";case Sn:return"[object Map]";case xn:return"[object Promise]";case jn:return"[object Set]";case Rn:return"[object WeakMap]"}return e});var Cn=An,kn="[object Map]",In="[object Set]",Pn=Object.prototype.hasOwnProperty;var Dn=function(t){if(null==t)return!0;if(ee(t)&&($t(t)||"string"==typeof t||"function"==typeof t.splice||Object(re.a)(t)||ge(t)||Yt(t)))return!t.length;var e=Cn(t);if(e==kn||e==In)return!t.size;if(Vt(t))return!bn(t).length;for(var n in t)if(Pn.call(t,n))return!1;return!0};var Mn=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t};var Ln=function(t){return ee(t)?xe(t):bn(t)};var Nn=function(t,e){return t&&_e(e,Ln(e),t)};var Bn=function(t,e){return t&&_e(e,Ce(e),t)};var Un=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i};var Fn=function(){return[]},qn=Object.prototype.propertyIsEnumerable,Wn=Object.getOwnPropertySymbols,Vn=Wn?function(t){return null==t?[]:(t=Object(t),Un(Wn(t),(function(e){return qn.call(t,e)})))}:Fn;var Qn=function(t,e){return _e(t,Vn(t),e)};var Hn=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Gn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Hn(e,Vn(t)),t=qt(t);return e}:Fn;var Kn=function(t,e){return _e(t,Gn(t),e)};var zn=function(t,e,n){var r=e(t);return $t(t)?r:Hn(r,n(t))};var Xn=function(t){return zn(t,Ln,Vn)};var Jn=function(t){return zn(t,Ce,Gn)},Yn=Object.prototype.hasOwnProperty;var $n=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Yn.call(t,"index")&&(n.index=t.index,n.input=t.input),n};var Zn=function(t,e){var n=e?Mt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},tr=/\w*$/;var er=function(t){var e=new t.constructor(t.source,tr.exec(t));return e.lastIndex=t.lastIndex,e},nr=E?E.prototype:void 0,rr=nr?nr.valueOf:void 0;var or=function(t){return rr?Object(rr.call(t)):{}},ir="[object Boolean]",ar="[object Date]",ur="[object Map]",cr="[object Number]",sr="[object RegExp]",lr="[object Set]",fr="[object String]",dr="[object Symbol]",pr="[object ArrayBuffer]",hr="[object DataView]",vr="[object Float32Array]",gr="[object Float64Array]",mr="[object Int8Array]",yr="[object Int16Array]",br="[object Int32Array]",_r="[object Uint8Array]",Or="[object Uint8ClampedArray]",wr="[object Uint16Array]",Tr="[object Uint32Array]";var Er=function(t,e,n){var r=t.constructor;switch(e){case pr:return Mt(t);case ir:case ar:return new r(+t);case hr:return Zn(t,n);case vr:case gr:case mr:case yr:case br:case _r:case Or:case wr:case Tr:return Lt(t,n);case ur:return new r;case cr:case fr:return new r(t);case sr:return er(t);case lr:return new r;case dr:return or(t)}},Sr="[object Map]";var xr=function(t){return Ht(t)&&Cn(t)==Sr},jr=he.a&&he.a.isMap,Rr=jr?pe(jr):xr,Ar="[object Set]";var Cr=function(t){return Ht(t)&&Cn(t)==Ar},kr=he.a&&he.a.isSet,Ir=kr?pe(kr):Cr,Pr=1,Dr=2,Mr=4,Lr="[object Arguments]",Nr="[object Function]",Br="[object GeneratorFunction]",Ur="[object Object]",Fr={};Fr[Lr]=Fr["[object Array]"]=Fr["[object ArrayBuffer]"]=Fr["[object DataView]"]=Fr["[object Boolean]"]=Fr["[object Date]"]=Fr["[object Float32Array]"]=Fr["[object Float64Array]"]=Fr["[object Int8Array]"]=Fr["[object Int16Array]"]=Fr["[object Int32Array]"]=Fr["[object Map]"]=Fr["[object Number]"]=Fr[Ur]=Fr["[object RegExp]"]=Fr["[object Set]"]=Fr["[object String]"]=Fr["[object Symbol]"]=Fr["[object Uint8Array]"]=Fr["[object Uint8ClampedArray]"]=Fr["[object Uint16Array]"]=Fr["[object Uint32Array]"]=!0,Fr["[object Error]"]=Fr[Nr]=Fr["[object WeakMap]"]=!1;var qr=function t(e,n,r,o,i,a){var u,c=n&Pr,s=n&Dr,l=n&Mr;if(r&&(u=i?r(e,o,i,a):r(e)),void 0!==u)return u;if(!L(e))return e;var f=$t(e);if(f){if(u=$n(e),!c)return Nt(e,u)}else{var d=Cn(e),p=d==Nr||d==Br;if(Object(re.a)(e))return Object(Pt.a)(e,c);if(d==Ur||d==Lr||p&&!i){if(u=s||p?{}:Qt(e),!c)return s?Kn(e,Bn(u,e)):Qn(e,Nn(u,e))}else{if(!Fr[d])return i?e:{};u=Er(e,d,c)}}a||(a=new Rt);var h=a.get(e);if(h)return h;a.set(e,u),Ir(e)?e.forEach((function(o){u.add(t(o,n,r,o,e,a))})):Rr(e)&&e.forEach((function(o,i){u.set(i,t(o,n,r,i,e,a))}));var v=f?void 0:(l?s?Jn:Xn:s?Ce:Ln)(e);return Mn(v||e,(function(o,i){v&&(o=e[i=o]),be(u,i,t(o,n,r,i,e,a))})),u},Wr=1,Vr=4;var Qr=function(t){return qr(t,Wr|Vr)},Hr=n(65),Gr=function(){function t(){o(this,t),c(this,"cache",void 0),this.cache={}}return u(t,[{key:"bind",value:function(t){Ge(this.cache,t)}},{key:"get",value:function(t){return gn(this.cache,t)}},{key:"clear",value:function(){this.cache={}}},{key:"getAll",value:function(){return this.cache}}]),t}(),Kr=function(){function t(){o(this,t),c(this,"cache",void 0),this.cache=new Gr,this.init()}return u(t,[{key:"bind",value:function(t){Dn(t)||this.cache.bind(t)}},{key:"clear",value:function(){this.cache.clear()}},{key:"getConfig",value:function(t){var e=this.cache.get(t);return"object"===r(e)?Qr(e):e}},{key:"getAllConfig",value:function(){var t,e=null!==(t=this.cache.getAll())&&void 0!==t?t:{};return Qr(e)}},{key:"saveToSessionStorage",value:function(t){try{if("undefined"!=typeof self&&self.sessionStorage){var e,n=null!==(e=null!=t?t:this.cache.getAll())&&void 0!==e?e:{};return self.sessionStorage.setItem("configCache",JSON.stringify(n)),!0}}catch(t){console.error(t)}return!1}},{key:"loadFromSessionStorage",value:function(){try{if("undefined"==typeof self||!self.sessionStorage)throw new Error("browser is not support sessionStorage");var t=self.sessionStorage.getItem("configCache");if(t)return this.bind(JSON.parse(t)),!0}catch(t){console.error(t)}return!1}},{key:"init",value:function(){if("undefined"!=typeof self){var t=self.AppConfig;if("object"===r(t)){var e=t[Object(Hr.a)("mode")]||t.normal,n=Ge(e,null==e?void 0:e.custom);this.bind(n),this.saveToSessionStorage()}else console.error("加载 AppConfig 配置出错")}}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new t),this.instance}}]),t}();c(Kr,"instance",void 0),c(function(){function t(){o(this,t)}return u(t,null,[{key:"getKey",value:function(t){if(""===this.configName)throw new Error("子类未重命名configName!");return"".concat(this.configName,".").concat(t)}}]),t}(),"configName","");var zr,Xr=Kr;n.d(e,"a",(function(){return $r})),n.d(e,"d",(function(){return Zr})),n.d(e,"p",(function(){return to})),n.d(e,"o",(function(){return eo})),n.d(e,"c",(function(){return no})),n.d(e,"l",(function(){return ro})),n.d(e,"k",(function(){return oo})),n.d(e,"m",(function(){return io})),n.d(e,"b",(function(){return ao})),n.d(e,"n",(function(){return uo})),n.d(e,"i",(function(){return co})),n.d(e,"j",(function(){return so})),n.d(e,"h",(function(){return lo})),n.d(e,"e",(function(){return fo})),n.d(e,"g",(function(){return po})),n.d(e,"f",(function(){return ho}));var Jr=(Xr.default||Xr).getInstance(),Yr=Jr.getConfig('npm["@tencent/tencent-doc-report"]')||{},$r=location.host,Zr=(Yr.SDK_BUNDLE_URL,Yr.ENT_SDK_BUNDLE_URL,Yr.docrpWeixinOrigin||"https://docrp.weixin.qq.com"),to=Yr.wecomMainHost||"doc.weixin.qq.com",eo=Yr.wecomAddonHost||"wecom-addon.tencentsuite.com",no=Yr.cookieDomain||".docs.qq.com",ro=Yr.reportIdqqimgOrigin||"https://report.idqqimg.com",oo=Yr.reportIdqqimgHost||"report.idqqimg.com",io=(Yr.reportUrlOrigin,Yr.reportUrlHost||"report.url.cn"),ao=(Yr.reportHuatuoOrigin,Yr.beaconOrigin||"https://otheve.beacon.qq.com"),uo=Yr.tencentDocCdnGoOrigin||"https://tencent-doc.cdn-go.cn",co=Yr.qqwebQQHost||"qqweb.qq.com",so=Yr.qunQQHost||"qun.qq.com",lo=(Yr.interceptorIgnoreUrls,null!==(zr=Jr.getConfig("runtime.apiRoot"))&&void 0!==zr?zr:"docs.qq.com"),fo="saas-tdocs"===Jr.getConfig("domain"),po=!!Jr.getConfig("wenku.reportToWenku"),ho="paas-weboffice"===Jr.getConfig("domain");Jr.getConfig("runtime.domainName")},function(t,e,n){"use strict";(function(t,r){n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return l}));var o=n(63),i=n(1),a=n(24),u=new o.a,c=u.create("global"),s=u.create("hooks"),l=u.create("dispatch");!function(){if(i.b&&i.b.addEventListener){var e=function(){a.a&&a.a.postMessageToWorker&&a.a.postMessageToWorker({type:"beforeunload"},!0),c.trigger("beforeunload")};i.b.addEventListener("beforeunload",e),i.b.addEventListener("pagehide",e)}else t&&t.isNodePlatform&&r.on("beforeExit",(function(){c.trigger("beforeunload")}))}()}).call(this,n(40),n(62))},function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return l}));var r=n(5),o=n(24),i=n(1);function a(t,e){return l((function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];if(!i.b||!i.b.requestIdleCallback)return t.apply(void 0,o);i.b.requestIdleCallback((function(){try{return t.apply(void 0,o)}catch(t){e&&e(),Object(r.a)(t)}}),{timeout:5e3})}),e)}function u(){return s()&&!0}function c(){return!1}function s(){return!(!o.a||!o.a.worker)}function l(t,e){return function(){try{return t.apply(void 0,arguments)}catch(t){e&&e(),Object(r.a)(t)}}}},function(t,e,n){"use strict";function r(){return window.basicClientVars}function o(){var t;return null!==(t=window.clientVars)&&void 0!==t?t:{}}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}))},function(t,e,n){"use strict";n.r(e);var r={};
/*!
 Copyright 2018 Google Inc. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
/*! lifecycle.mjs v0.1.1 */
let o;n.r(r),n.d(r,"serializeKeyPairs",(function(){return ao})),n.d(r,"getKeyPairs",(function(){return uo})),n.d(r,"parsePairKeyValue",(function(){return co})),n.d(r,"parseKeyPairsIntoRecord",(function(){return so}));try{new EventTarget,o=!0}catch(t){o=!1}var i=o?EventTarget:class{constructor(){this.e={}}addEventListener(t,e,n=!1){this.t(t).push(e)}removeEventListener(t,e,n=!1){const r=this.t(t),o=r.indexOf(e);o>-1&&r.splice(o,1)}dispatchEvent(t){return t.target=this,Object.freeze(t),this.t(t.type).forEach(e=>e(t)),!0}t(t){return this.e[t]=this.e[t]||[]}};var a=o?Event:class{constructor(t){this.type=t}};class u extends a{constructor(t,e){super(t),this.newState=e.newState,this.oldState=e.oldState,this.originalEvent=e.originalEvent}}const c="active",s="passive",l="hidden",f="frozen",d="terminated",p="object"==typeof safari&&safari.pushNotification,h=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],v=t=>(t.preventDefault(),t.returnValue="Are you sure?"),g=[[c,s,l,d],[c,s,l,f],[l,s,c],[f,l],[f,c],[f,s]].map(t=>t.reduce((t,e,n)=>(t[e]=n,t),{})),m=(t,e)=>{for(let n,r=0;n=g[r];++r){const r=n[t],o=n[e];if(r>=0&&o>=0&&o>r)return Object.keys(n).slice(r,o+1)}return[]},y=()=>document.visibilityState===l?l:document.hasFocus()?c:s;var b,_=new class extends i{constructor(){super();const t=y();this.s=t,this.i=[],this.a=this.a.bind(this),h.forEach(t=>addEventListener(t,this.a,!0)),p&&addEventListener("beforeunload",t=>{this.n=setTimeout(()=>{t.defaultPrevented||t.returnValue.length>0||this.r(t,l)},0)})}get state(){return this.s}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(t){!this.i.indexOf(t)>-1&&(0===this.i.length&&addEventListener("beforeunload",v),this.i.push(t))}removeUnsavedChanges(t){const e=this.i.indexOf(t);e>-1&&(this.i.splice(e,1),0===this.i.length&&removeEventListener("beforeunload",v))}r(t,e){if(e!==this.s){const n=this.s,r=m(n,e);for(let e=0;e<r.length-1;++e){const n=r[e],o=r[e+1];this.s=o,this.dispatchEvent(new u("statechange",{oldState:n,newState:o,originalEvent:t}))}}}a(t){switch(p&&clearTimeout(this.n),t.type){case"pageshow":case"resume":this.r(t,y());break;case"focus":this.r(t,c);break;case"blur":this.s===c&&this.r(t,y());break;case"pagehide":case"unload":this.r(t,t.persisted?f:d);break;case"visibilitychange":this.s!==f&&this.s!==d&&this.r(t,y());break;case"freeze":this.r(t,f)}}},O=n(3),w=n(29),T=!!(null===window||void 0===window?void 0:window.isCloseAlloyReport),E=!!(null===window||void 0===window?void 0:window.PRIVATE_TDOCS),S="1"===Object(w.c)(null===(b=null===window||void 0===window?void 0:window.location)||void 0===b?void 0:b.href,"alloyperf"),x=(T||E||S)&&!location.host.startsWith("qydocs."),j=n(33);function R(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];void 0!==r&&(t[n]=r)}}var A,C=n(23),k=n.n(C),I=n(36),P=n(19),D=n(1),M=n(10),L=n(13);!function(t){t.ACGI="acgi",t.ADT="adt",t.AST="ast",t.APM="apm",t.HUATUO="huatuo",t.MONITOR="monitor",t.PERFORMANCE="performance",t.RETCODE="retcode",t.TDBANK="tdbank",t.TDW="tdw",t.BEACON="beacon",t.ZZS="zzs"}(A||(A={}));var N,B=n(42),U=n(8),F=0,q={},W=["action","module","opername"],V=["report-heart_beat-doc_core"],Q=(N={},k()(N,U.p,V),k()(N,U.o,V),N)[location.origin.split("//")[1]]||[],H=Object(M.d)((function(t,e,n){var r,o;if(L.a.onReceiveReporter(A.TDW,t,e,n),!t)throw"params can not be null";var i=W.map((function(e){return t[e]})).join("-");if(!(Q.indexOf(i)>=0)){var a=t.table||n||F;if(!a){try{var u=window&&window.location&&U.a;!u||u!==U.i&&-1===u.indexOf(U.j)||(a="dc00141")}catch(t){throw"not found host"}if(!a)throw"table can not be null"}t.table=a,U.e&&(t.table="0076271",t.tenant_info=JSON.stringify({host:window.location.hostname,type:2,id:(null===(o=null===(r=window.basicClientVars)||void 0===r?void 0:r.userInfo)||void 0===o?void 0:o.corpId)||""})),U.f&&(t.table="0077918"),U.g&&(t.table="079140");var c={};Object(D.s)(c,q),Object(D.s)(c,t),c.uin||(c.uin=I.a.uin),L.a.onHanldeParams(A.TDW,c),P.h.report(c,{},e)}}));H.setDefaultTable=function(t){F=t},H.setDefaultData=function(t){Object(D.s)(q,t)},H.clearDefaultData=function(){q={}},H.resetDefaultTdwData=B.b;var G=H,K=n(4);function z(){return!(!Object(K.D)()||!Object(w.d)("tdw_panel"))}function X(t,e){return new Promise((function(n){var r=document.createElement("script");r.async=!0,r.src=t,r.crossOrigin="anonymous",r.setAttribute("retry-when-error","true"),r.onload=function(){var t=window[e];n(t)},(document.head||document.body).appendChild(r)}))}var J=console.log;console.error;function Y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];J.apply(void 0,["[Doc-Report]:"].concat(e))}var $,Z,tt="".concat(U.n,"/doc-report/85fafc17/jspanel.min.css"),et="".concat(U.n,"/doc-report/85fafc17/jspanel.min.js"),nt="".concat(U.n,"/doc-report/latest/jspanel.contextmenu.min.js"),rt=document.createElement("ul"),ot=1;z()&&Promise.all([(Z=tt,new Promise((function(t){var e=document.createElement("link");e.href=Z,e.rel="stylesheet",e.onload=function(){t()},(document.head||document.body).appendChild(e)}))),X(et,"jsPanel")]).then((function(){var t,e,n={bgContent:"#fff",colorHeader:"#1e6fff",colorContent:"#".concat(window.jsPanel.colorNames.gray700),border:"thin #1e6fff solid"},r=window.jsPanel.create({content:(t=document.createElement("ul"),e=document.createElement("li"),e.innerText=$,t.appendChild(e),t),theme:n,headerTitle:"必报字段（上报库默认的字段）",contentSize:{width:.6*window.innerWidth,height:.6*window.innerHeight},contentOverflow:"scroll"}),o=window.jsPanel.create({id:"businessPanel",content:rt,theme:n,headerTitle:"腾讯文档日志流水",contentSize:{width:.6*window.innerWidth,height:.6*window.innerHeight},contentOverflow:"scroll",position:"center 50 50"});r.minimize(),o.minimize(),X(nt,""),setTimeout((function(){window.jsPanel.contextmenu.create({target:"#businessPanel",content:'<div class="contextmenu1">\n            <a href="#"><i class="fad fa-paste fa-fw"></i><div style=\'color:#1e6fff;text-align:center\'>清空数据</div></a>\n        </div>',contentSize:"auto auto",closeOnMouseleave:!1,callback:function(t){t.querySelectorAll(".contextmenu1 a").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),rt.innerHTML=""}))}))}})}),1e3)}));var it,at=n(28),ut=n.n(at);!function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE"}(it||(it={}));class ct{constructor(){this.listeners=[],this.onInitialized()}addListener(t){this.listeners.push(t)}removeListener(t){const e=this.listeners.indexOf(t);-1!==e&&this.listeners.splice(e,1)}getListeners(){return this.listeners}}class st extends ct{static getInstance(){return st.instance||(st.instance=new st),st.instance}commit(){this.getListeners().forEach(t=>t())}onInitialized(){}}var lt,ft=n(6),dt=n.n(ft),pt=n(7),ht=n.n(pt);!function(t){t[t.DELTA=0]="DELTA",t[t.CUMULATIVE=1]="CUMULATIVE"}(lt||(lt={}));var vt=n(110),gt="1.8.0",mt=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var yt=function(t){var e=new Set([t]),n=new Set,r=t.match(mt);if(!r)return function(){return!1};var o=+r[1],i=+r[2],a=+r[3];if(null!=r[4])return function(e){return e===t};function u(t){return n.add(t),!1}function c(t){return e.add(t),!0}return function(t){if(e.has(t))return!0;if(n.has(t))return!1;var r=t.match(mt);if(!r)return u(t);var s=+r[1],l=+r[2],f=+r[3];return null!=r[4]?u(t):o!==s?u(t):0===o?i===l&&a<=f?c(t):u(t):i<=l?c(t):u(t)}}(gt),bt=gt.split(".")[0],_t=Symbol.for("opentelemetry.js.api."+bt),Ot=vt.a;function wt(t,e,n,r){var o;void 0===r&&(r=!1);var i=Ot[_t]=null!==(o=Ot[_t])&&void 0!==o?o:{version:gt};if(!r&&i[t]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return n.error(a.stack||a.message),!1}if(i.version!==gt){a=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+t+" does not match previously registered API v"+gt);return n.error(a.stack||a.message),!1}return i[t]=e,n.debug("@opentelemetry/api: Registered a global for "+t+" v"+gt+"."),!0}function Tt(t){var e,n,r=null===(e=Ot[_t])||void 0===e?void 0:e.version;if(r&&yt(r))return null===(n=Ot[_t])||void 0===n?void 0:n[t]}function Et(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+gt+".");var n=Ot[_t];n&&delete n[t]}var St=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},xt=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},jt=function(){function t(t){this._namespace=t.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rt("debug",this._namespace,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rt("error",this._namespace,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rt("info",this._namespace,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rt("warn",this._namespace,t)},t.prototype.verbose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rt("verbose",this._namespace,t)},t}();function Rt(t,e,n){var r=Tt("diag");if(r)return n.unshift(e),r[t].apply(r,xt([],St(n),!1))}var At=n(26);var Ct,kt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},It=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Pt="diag",Dt=function(){function t(){function t(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tt("diag");if(r)return r[t].apply(r,It([],kt(e),!1))}}var e=this;e.setLogger=function(t,n){var r,o,i;if(void 0===n&&(n={logLevel:At.a.INFO}),t===e){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return e.error(null!==(r=a.stack)&&void 0!==r?r:a.message),!1}"number"==typeof n&&(n={logLevel:n});var u=Tt("diag"),c=function(t,e){function n(n,r){var o=e[n];return"function"==typeof o&&t>=r?o.bind(e):function(){}}return t<At.a.NONE?t=At.a.NONE:t>At.a.ALL&&(t=At.a.ALL),e=e||{},{error:n("error",At.a.ERROR),warn:n("warn",At.a.WARN),info:n("info",At.a.INFO),debug:n("debug",At.a.DEBUG),verbose:n("verbose",At.a.VERBOSE)}}(null!==(o=n.logLevel)&&void 0!==o?o:At.a.INFO,t);if(u&&!n.suppressOverrideMessage){var s=null!==(i=(new Error).stack)&&void 0!==i?i:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+s),c.warn("Current logger will overwrite one already registered from "+s)}return wt("diag",c,e,!0)},e.disable=function(){Et(Pt,e)},e.createComponentLogger=function(t){return new jt(t)},e.verbose=t("verbose"),e.debug=t("debug"),e.info=t("info"),e.warn=t("warn"),e.error=t("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}(),Mt=Dt.instance(),Lt=(Ct=function(t,e){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nt=function(){function t(){}return t.prototype.createHistogram=function(t,e){return zt},t.prototype.createCounter=function(t,e){return Kt},t.prototype.createUpDownCounter=function(t,e){return Xt},t.prototype.createObservableGauge=function(t,e){return Yt},t.prototype.createObservableCounter=function(t,e){return Jt},t.prototype.createObservableUpDownCounter=function(t,e){return $t},t.prototype.addBatchObservableCallback=function(t,e){},t.prototype.removeBatchObservableCallback=function(t){},t}(),Bt=function(){},Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e.prototype.add=function(t,e){},e}(Bt),Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e.prototype.add=function(t,e){},e}(Bt),qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e.prototype.record=function(t,e){},e}(Bt),Wt=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.removeCallback=function(t){},t}(),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e}(Wt),Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e}(Wt),Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e}(Wt),Gt=new Nt,Kt=new Ut,zt=new qt,Xt=new Ft,Jt=new Vt,Yt=new Qt,$t=new Ht;function Zt(t){for(var e={},n=t.length,r=0;r<n;r++){var o=t[r];o&&(e[String(o).toUpperCase().replace(/[-.]/g,"_")]=o)}return e}var te,ee=Zt(["cloud.provider","cloud.account.id","cloud.region","cloud.availability_zone","cloud.platform","aws.ecs.container.arn","aws.ecs.cluster.arn","aws.ecs.launchtype","aws.ecs.task.arn","aws.ecs.task.family","aws.ecs.task.revision","aws.eks.cluster.arn","aws.log.group.names","aws.log.group.arns","aws.log.stream.names","aws.log.stream.arns","container.name","container.id","container.runtime","container.image.name","container.image.tag","deployment.environment","device.id","device.model.identifier","device.model.name","faas.name","faas.id","faas.version","faas.instance","faas.max_memory","host.id","host.name","host.type","host.arch","host.image.name","host.image.id","host.image.version","k8s.cluster.name","k8s.node.name","k8s.node.uid","k8s.namespace.name","k8s.pod.uid","k8s.pod.name","k8s.container.name","k8s.replicaset.uid","k8s.replicaset.name","k8s.deployment.uid","k8s.deployment.name","k8s.statefulset.uid","k8s.statefulset.name","k8s.daemonset.uid","k8s.daemonset.name","k8s.job.uid","k8s.job.name","k8s.cronjob.uid","k8s.cronjob.name","os.type","os.description","os.name","os.version","process.pid","process.executable.name","process.executable.path","process.command","process.command_line","process.command_args","process.owner","process.runtime.name","process.runtime.version","process.runtime.description","service.name","service.namespace","service.instance.id","service.version","telemetry.sdk.name","telemetry.sdk.language","telemetry.sdk.version","telemetry.auto.version","webengine.name","webengine.version","webengine.description"]),ne=Zt(["cpp","dotnet","erlang","go","java","nodejs","php","python","ruby","webjs"]),re=((te={})[ee.TELEMETRY_SDK_NAME]="opentelemetry",te[ee.PROCESS_RUNTIME_NAME]="browser",te[ee.TELEMETRY_SDK_LANGUAGE]=ne.WEBJS,te[ee.TELEMETRY_SDK_VERSION]="1.23.0",te);var oe=function(){return(oe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ie=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},ae=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ue=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ce=function(){function t(t,e){var n,r=this;this._attributes=t,this.asyncAttributesPending=null!=e,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==e?void 0:e.then((function(t){return r._attributes=Object.assign({},r._attributes,t),r.asyncAttributesPending=!1,t}),(function(t){return Mt.debug("a resource's async attributes promise rejected: %s",t),r.asyncAttributesPending=!1,{}}))}return t.empty=function(){return t.EMPTY},t.default=function(){var e;return new t(((e={})[ee.SERVICE_NAME]="unknown_service",e[ee.TELEMETRY_SDK_LANGUAGE]=re[ee.TELEMETRY_SDK_LANGUAGE],e[ee.TELEMETRY_SDK_NAME]=re[ee.TELEMETRY_SDK_NAME],e[ee.TELEMETRY_SDK_VERSION]=re[ee.TELEMETRY_SDK_VERSION],e))},Object.defineProperty(t.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&Mt.error("Accessing resource attributes before async attributes settled"),null!==(t=this._attributes)&&void 0!==t?t:{}},enumerable:!1,configurable:!0}),t.prototype.waitForAsyncAttributes=function(){return ie(this,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.merge=function(e){var n,r=this;if(!e)return this;var o=oe(oe({},this._syncAttributes),null!==(n=e._syncAttributes)&&void 0!==n?n:e.attributes);return this._asyncAttributesPromise||e._asyncAttributesPromise?new t(o,Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then((function(t){var n,o=ue(t,2),i=o[0],a=o[1];return oe(oe(oe(oe({},r._syncAttributes),i),null!==(n=e._syncAttributes)&&void 0!==n?n:e.attributes),a)}))):new t(o)},t.EMPTY=new t({}),t}(),se=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),le=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},fe=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},de=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},pe=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},he=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ve(t){return null!=t}function ge(t){var e=Object.keys(t);return 0===e.length?"":(e=e.sort(),JSON.stringify(e.map((function(e){return[e,t[e]]}))))}var me=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return se(e,t),e}(Error);function ye(t,e){var n,r=new Promise((function(t,r){n=setTimeout((function(){r(new me("Operation timed out."))}),e)}));return Promise.race([t,r]).then((function(t){return clearTimeout(n),t}),(function(t){throw clearTimeout(n),t}))}function be(t){return le(this,void 0,void 0,(function(){var e=this;return fe(this,(function(n){return[2,Promise.all(t.map((function(t){return le(e,void 0,void 0,(function(){return fe(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t];case 1:return[2,{status:"fulfilled",value:e.sent()}];case 2:return[2,{status:"rejected",reason:e.sent()}];case 3:return[2]}}))}))})))]}))}))}function _e(t){return"rejected"===t.status}function Oe(t,e){var n=[];return t.forEach((function(t){n.push.apply(n,pe([],de(e(t)),!1))})),n}var we,Te=function(){function t(){this._registeredViews=[]}return t.prototype.addView=function(t){this._registeredViews.push(t)},t.prototype.findViews=function(t,e){var n=this;return this._registeredViews.filter((function(r){return n._matchInstrument(r.instrumentSelector,t)&&n._matchMeter(r.meterSelector,e)}))},t.prototype._matchInstrument=function(t,e){return(void 0===t.getType()||e.type===t.getType())&&t.getNameFilter().match(e.name)&&t.getUnitFilter().match(e.unit)},t.prototype._matchMeter=function(t,e){return t.getNameFilter().match(e.name)&&(void 0===e.version||t.getVersionFilter().match(e.version))&&(void 0===e.schemaUrl||t.getSchemaUrlFilter().match(e.schemaUrl))},t}();function Ee(t,e,n){var r,o,i,a;return function(t){return null!=t.match(Se)}(t)||Mt.warn('Invalid metric name: "'+t+'". The metric name should be a ASCII string with a length no greater than 255 characters.'),{name:t,type:e,description:null!==(r=null==n?void 0:n.description)&&void 0!==r?r:"",unit:null!==(o=null==n?void 0:n.unit)&&void 0!==o?o:"",valueType:null!==(i=null==n?void 0:n.valueType)&&void 0!==i?i:it.DOUBLE,advice:null!==(a=null==n?void 0:n.advice)&&void 0!==a?a:{}}}!function(t){t.COUNTER="COUNTER",t.GAUGE="GAUGE",t.HISTOGRAM="HISTOGRAM",t.UP_DOWN_COUNTER="UP_DOWN_COUNTER",t.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",t.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",t.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"}(we||(we={}));var Se=/^[a-z][a-z0-9_.\-/]{0,254}$/i;var xe=new function t(e){var n=this;n._currentContext=e?new Map(e):new Map,n.getValue=function(t){return n._currentContext.get(t)},n.setValue=function(e,r){var o=new t(n._currentContext);return o._currentContext.set(e,r),o},n.deleteValue=function(e){var r=new t(n._currentContext);return r._currentContext.delete(e),r}},je=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Re=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ae=function(){function t(){}return t.prototype.active=function(){return xe},t.prototype.with=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return e.call.apply(e,Re([n],je(r),!1))},t.prototype.bind=function(t,e){return e},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}(),Ce=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ke=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ie=new Ae,Pe=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(t){return wt("context",t,Dt.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(t,e,n){for(var r,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(r=this._getContextManager()).with.apply(r,ke([t,e,n],Ce(o),!1))},t.prototype.bind=function(t,e){return this._getContextManager().bind(t,e)},t.prototype._getContextManager=function(){return Tt("context")||Ie},t.prototype.disable=function(){this._getContextManager().disable(),Et("context",Dt.instance())},t}().getInstance(),De=(performance,9),Me=Math.pow(10,6),Le=Math.pow(10,De);function Ne(t){var e=t/1e3;return[Math.trunc(e),Math.round(t%1e3*Me)]}function Be(t){return 1e6*t[0]+t[1]/1e3}var Ue=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fe=function(){function t(t,e){this._writableMetricStorage=t,this._descriptor=e}return t.prototype._record=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=Pe.active()),"number"==typeof t?(this._descriptor.valueType!==it.INT||Number.isInteger(t)||(Mt.warn("INT value type cannot accept a floating-point value for "+this._descriptor.name+", ignoring the fractional digits."),t=Math.trunc(t),Number.isInteger(t)))&&this._writableMetricStorage.record(t,e,n,Ne(Date.now())):Mt.warn("non-number value provided to metric "+this._descriptor.name+": "+t)},t}(),qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ue(e,t),e.prototype.add=function(t,e,n){this._record(t,e,n)},e}(Fe),We=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ue(e,t),e.prototype.add=function(t,e,n){t<0?Mt.warn("negative value provided to counter "+this._descriptor.name+": "+t):this._record(t,e,n)},e}(Fe),Ve=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ue(e,t),e.prototype.record=function(t,e,n){this._record(t,e,n)},e}(Fe),Qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ue(e,t),e.prototype.record=function(t,e,n){t<0?Mt.warn("negative value provided to histogram "+this._descriptor.name+": "+t):this._record(t,e,n)},e}(Fe),He=function(){function t(t,e,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=e}return t.prototype.addCallback=function(t){this._observableRegistry.addCallback(t,this)},t.prototype.removeCallback=function(t){this._observableRegistry.removeCallback(t,this)},t}(),Ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ue(e,t),e}(He),Ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ue(e,t),e}(He),ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ue(e,t),e}(He);function Xe(t){return t instanceof He}var Je=function(){function t(t){this._meterSharedState=t}return t.prototype.createGauge=function(t,e){var n=Ee(t,we.GAUGE,e),r=this._meterSharedState.registerMetricStorage(n);return new Ve(r,n)},t.prototype.createHistogram=function(t,e){var n=Ee(t,we.HISTOGRAM,e),r=this._meterSharedState.registerMetricStorage(n);return new Qe(r,n)},t.prototype.createCounter=function(t,e){var n=Ee(t,we.COUNTER,e),r=this._meterSharedState.registerMetricStorage(n);return new We(r,n)},t.prototype.createUpDownCounter=function(t,e){var n=Ee(t,we.UP_DOWN_COUNTER,e),r=this._meterSharedState.registerMetricStorage(n);return new qe(r,n)},t.prototype.createObservableGauge=function(t,e){var n=Ee(t,we.OBSERVABLE_GAUGE,e),r=this._meterSharedState.registerAsyncMetricStorage(n);return new Ke(n,r,this._meterSharedState.observableRegistry)},t.prototype.createObservableCounter=function(t,e){var n=Ee(t,we.OBSERVABLE_COUNTER,e),r=this._meterSharedState.registerAsyncMetricStorage(n);return new Ge(n,r,this._meterSharedState.observableRegistry)},t.prototype.createObservableUpDownCounter=function(t,e){var n=Ee(t,we.OBSERVABLE_UP_DOWN_COUNTER,e),r=this._meterSharedState.registerAsyncMetricStorage(n);return new ze(n,r,this._meterSharedState.observableRegistry)},t.prototype.addBatchObservableCallback=function(t,e){this._meterSharedState.observableRegistry.addBatchCallback(t,e)},t.prototype.removeBatchObservableCallback=function(t,e){this._meterSharedState.observableRegistry.removeBatchCallback(t,e)},t}(),Ye=function(){function t(t){this._instrumentDescriptor=t}return t.prototype.getInstrumentDescriptor=function(){return this._instrumentDescriptor},t.prototype.updateDescription=function(t){this._instrumentDescriptor=Ee(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})},t}(),$e=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},tn=function(t){function e(){return t.call(this,ge)||this}return $e(e,t),e}(function(){function t(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}return t.prototype.get=function(t,e){return null!=e||(e=this._hash(t)),this._valueMap.get(e)},t.prototype.getOrDefault=function(t,e){var n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);var r=e();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r),r},t.prototype.set=function(t,e,n){null!=n||(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,e)},t.prototype.has=function(t,e){return null!=e||(e=this._hash(t)),this._valueMap.has(e)},t.prototype.keys=function(){var t,e;return Ze(this,(function(n){switch(n.label){case 0:t=this._keyMap.entries(),e=t.next(),n.label=1;case 1:return!0===e.done?[3,3]:[4,[e.value[1],e.value[0]]];case 2:return n.sent(),e=t.next(),[3,1];case 3:return[2]}}))},t.prototype.entries=function(){var t,e;return Ze(this,(function(n){switch(n.label){case 0:t=this._valueMap.entries(),e=t.next(),n.label=1;case 1:return!0===e.done?[3,3]:[4,[this._keyMap.get(e.value[0]),e.value[1],e.value[0]]];case 2:return n.sent(),e=t.next(),[3,1];case 3:return[2]}}))},Object.defineProperty(t.prototype,"size",{get:function(){return this._valueMap.size},enumerable:!1,configurable:!0}),t}()),en=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},nn=function(){function t(t){this._aggregator=t,this._activeCollectionStorage=new tn,this._cumulativeMemoStorage=new tn}return t.prototype.record=function(t,e,n,r){var o=this,i=this._activeCollectionStorage.getOrDefault(e,(function(){return o._aggregator.createAccumulation(r)}));null==i||i.record(t)},t.prototype.batchCumulate=function(t,e){var n=this;Array.from(t.entries()).forEach((function(t){var r=en(t,3),o=r[0],i=r[1],a=r[2],u=n._aggregator.createAccumulation(e);null==u||u.record(i);var c=u;if(n._cumulativeMemoStorage.has(o,a)){var s=n._cumulativeMemoStorage.get(o,a);c=n._aggregator.diff(s,u)}if(n._activeCollectionStorage.has(o,a)){var l=n._activeCollectionStorage.get(o,a);c=n._aggregator.merge(l,c)}n._cumulativeMemoStorage.set(o,u,a),n._activeCollectionStorage.set(o,c,a)}))},t.prototype.collect=function(){var t=this._activeCollectionStorage;return this._activeCollectionStorage=new tn,t},t}(),rn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},on=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},an=function(){function t(t,e){var n=this;this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map,e.forEach((function(t){n._unreportedAccumulations.set(t,[])}))}return t.prototype.buildMetrics=function(e,n,r,o){this._stashAccumulations(r);var i,a=this._getMergedUnreportedAccumulations(e),u=a;if(this._reportHistory.has(e)){var c=this._reportHistory.get(e),s=c.collectionTime;u=(i=c.aggregationTemporality)===lt.CUMULATIVE?t.merge(c.accumulations,a,this._aggregator):t.calibrateStartTime(c.accumulations,a,s)}else i=e.selectAggregationTemporality(n.type);this._reportHistory.set(e,{accumulations:u,collectionTime:o,aggregationTemporality:i});var l,f=(l=u,Array.from(l.entries()));if(0!==f.length)return this._aggregator.toMetricData(n,i,f,o)},t.prototype._stashAccumulations=function(t){var e,n,r=this._unreportedAccumulations.keys();try{for(var o=rn(r),i=o.next();!i.done;i=o.next()){var a=i.value,u=this._unreportedAccumulations.get(a);void 0===u&&(u=[],this._unreportedAccumulations.set(a,u)),u.push(t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype._getMergedUnreportedAccumulations=function(e){var n,r,o=new tn,i=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),void 0===i)return o;try{for(var a=rn(i),u=a.next();!u.done;u=a.next()){var c=u.value;o=t.merge(o,c,this._aggregator)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},t.merge=function(t,e,n){for(var r=t,o=e.entries(),i=o.next();!0!==i.done;){var a=on(i.value,3),u=a[0],c=a[1],s=a[2];if(t.has(u,s)){var l=t.get(u,s),f=n.merge(l,c);r.set(u,f,s)}else r.set(u,c,s);i=o.next()}return r},t.calibrateStartTime=function(t,e,n){var r,o;try{for(var i=rn(t.keys()),a=i.next();!a.done;a=i.next()){var u=on(a.value,2),c=u[0],s=u[1],l=e.get(c,s);null==l||l.setStartTime(n)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return e},t}();var un=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},sn=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._attributesProcessor=r,i._deltaMetricStorage=new nn(n),i._temporalMetricStorage=new an(n,o),i}return un(e,t),e.prototype.record=function(t,e){var n=this,r=new tn;Array.from(t.entries()).forEach((function(t){var e=cn(t,2),o=e[0],i=e[1];r.set(n._attributesProcessor.process(o),i)})),this._deltaMetricStorage.batchCumulate(r,e)},e.prototype.collect=function(t,e){var n=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,this._instrumentDescriptor,n,e)},e}(Ye);function ln(t,e){var n="";return t.unit!==e.unit&&(n+="\t- Unit '"+t.unit+"' does not match '"+e.unit+"'\n"),t.type!==e.type&&(n+="\t- Type '"+t.type+"' does not match '"+e.type+"'\n"),t.valueType!==e.valueType&&(n+="\t- Value Type '"+t.valueType+"' does not match '"+e.valueType+"'\n"),t.description!==e.description&&(n+="\t- Description '"+t.description+"' does not match '"+e.description+"'\n"),n}function fn(t,e){return t.valueType!==e.valueType?function(t,e){return"\t- use valueType '"+t.valueType+"' on instrument creation or use an instrument name other than '"+e.name+"'"}(t,e):t.unit!==e.unit?function(t,e){return"\t- use unit '"+t.unit+"' on instrument creation or use an instrument name other than '"+e.name+"'"}(t,e):t.type!==e.type?function(t,e){var n={name:e.name,type:e.type,unit:e.unit},r=JSON.stringify(n);return"\t- create a new view with a name other than '"+t.name+"' and InstrumentSelector '"+r+"'"}(t,e):t.description!==e.description?function(t,e){var n={name:e.name,type:e.type,unit:e.unit},r=JSON.stringify(n);return"\t- create a new view with a name other than '"+t.name+"' and InstrumentSelector '"+r+"'\n    \t- OR - create a new view with the name "+t.name+" and description '"+t.description+"' and InstrumentSelector "+r+"\n    \t- OR - create a new view with the name "+e.name+" and description '"+t.description+"' and InstrumentSelector "+r}(t,e):""}var dn,pn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hn=function(){function t(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}return t.create=function(){return new t},t.prototype.getStorages=function(t){var e,n,r,o,i=[];try{for(var a=pn(this._sharedRegistry.values()),u=a.next();!u.done;u=a.next()){var c=u.value;i=i.concat(c)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}var s=this._perCollectorRegistry.get(t);if(null!=s)try{for(var l=pn(s.values()),f=l.next();!f.done;f=l.next()){c=f.value;i=i.concat(c)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return i},t.prototype.register=function(t){this._registerStorage(t,this._sharedRegistry)},t.prototype.registerForCollector=function(t,e){var n=this._perCollectorRegistry.get(t);null==n&&(n=new Map,this._perCollectorRegistry.set(t,n)),this._registerStorage(e,n)},t.prototype.findOrUpdateCompatibleStorage=function(t){var e=this._sharedRegistry.get(t.name);return void 0===e?null:this._findOrUpdateCompatibleStorage(t,e)},t.prototype.findOrUpdateCompatibleCollectorStorage=function(t,e){var n=this._perCollectorRegistry.get(t);if(void 0===n)return null;var r=n.get(e.name);return void 0===r?null:this._findOrUpdateCompatibleStorage(e,r)},t.prototype._registerStorage=function(t,e){var n=t.getInstrumentDescriptor(),r=e.get(n.name);void 0!==r?r.push(t):e.set(n.name,[t])},t.prototype._findOrUpdateCompatibleStorage=function(t,e){var n,r,o,i,a,u,c=null;try{for(var s=pn(e),l=s.next();!l.done;l=s.next()){var f=l.value,d=f.getInstrumentDescriptor();i=t,a=void 0,u=void 0,a=(o=d).name,u=i.name,a.toLowerCase()===u.toLowerCase()&&o.unit===i.unit&&o.type===i.type&&o.valueType===i.valueType?(d.description!==t.description&&(t.description.length>d.description.length&&f.updateDescription(t.description),Mt.warn("A view or instrument with the name ",t.name," has already been registered, but has a different description and is incompatible with another registered view.\n","Details:\n",ln(d,t),"The longer description will be used.\nTo resolve the conflict:",fn(d,t))),c=f):Mt.warn("A view or instrument with the name ",t.name," has already been registered and is incompatible with another registered view.\n","Details:\n",ln(d,t),"To resolve the conflict:\n",fn(d,t))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return c},t}(),vn=function(){function t(t){this._backingStorages=t}return t.prototype.record=function(t,e,n,r){this._backingStorages.forEach((function(o){o.record(t,e,n,r)}))},t}(),gn=function(){function t(t,e){this._instrumentName=t,this._valueType=e,this._buffer=new tn}return t.prototype.observe=function(t,e){void 0===e&&(e={}),"number"==typeof t?(this._valueType!==it.INT||Number.isInteger(t)||(Mt.warn("INT value type cannot accept a floating-point value for "+this._instrumentName+", ignoring the fractional digits."),t=Math.trunc(t),Number.isInteger(t)))&&this._buffer.set(e,t):Mt.warn("non-number value provided to metric "+this._instrumentName+": "+t)},t}(),mn=function(){function t(){this._buffer=new Map}return t.prototype.observe=function(t,e,n){if(void 0===n&&(n={}),Xe(t)){var r=this._buffer.get(t);null==r&&(r=new tn,this._buffer.set(t,r)),"number"==typeof e?(t._descriptor.valueType!==it.INT||Number.isInteger(e)||(Mt.warn("INT value type cannot accept a floating-point value for "+t._descriptor.name+", ignoring the fractional digits."),e=Math.trunc(e),Number.isInteger(e)))&&r.set(n,e):Mt.warn("non-number value provided to metric "+t._descriptor.name+": "+e)}},t}(),yn=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},bn=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},_n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},On=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},wn=function(){function t(){this._callbacks=[],this._batchCallbacks=[]}return t.prototype.addCallback=function(t,e){this._findCallback(t,e)>=0||this._callbacks.push({callback:t,instrument:e})},t.prototype.removeCallback=function(t,e){var n=this._findCallback(t,e);n<0||this._callbacks.splice(n,1)},t.prototype.addBatchCallback=function(t,e){var n=new Set(e.filter(Xe));0!==n.size?this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n}):Mt.error("BatchObservableCallback is not associated with valid instruments",e)},t.prototype.removeBatchCallback=function(t,e){var n=new Set(e.filter(Xe)),r=this._findBatchCallback(t,n);r<0||this._batchCallbacks.splice(r,1)},t.prototype.observe=function(t,e){return yn(this,void 0,void 0,(function(){var n,r,o;return bn(this,(function(i){switch(i.label){case 0:return n=this._observeCallbacks(t,e),r=this._observeBatchCallbacks(t,e),[4,be(On(On([],_n(n),!1),_n(r),!1))];case 1:return o=i.sent(),[2,o.filter(_e).map((function(t){return t.reason}))]}}))}))},t.prototype._observeCallbacks=function(t,e){var n=this;return this._callbacks.map((function(r){var o=r.callback,i=r.instrument;return yn(n,void 0,void 0,(function(){var n,r;return bn(this,(function(a){switch(a.label){case 0:return n=new gn(i._descriptor.name,i._descriptor.valueType),r=Promise.resolve(o(n)),null!=e&&(r=ye(r,e)),[4,r];case 1:return a.sent(),i._metricStorages.forEach((function(e){e.record(n._buffer,t)})),[2]}}))}))}))},t.prototype._observeBatchCallbacks=function(t,e){var n=this;return this._batchCallbacks.map((function(r){var o=r.callback,i=r.instruments;return yn(n,void 0,void 0,(function(){var n,r;return bn(this,(function(a){switch(a.label){case 0:return n=new mn,r=Promise.resolve(o(n)),null!=e&&(r=ye(r,e)),[4,r];case 1:return a.sent(),i.forEach((function(e){var r=n._buffer.get(e);null!=r&&e._metricStorages.forEach((function(e){e.record(r,t)}))})),[2]}}))}))}))},t.prototype._findCallback=function(t,e){return this._callbacks.findIndex((function(n){return n.callback===t&&n.instrument===e}))},t.prototype._findBatchCallback=function(t,e){return this._batchCallbacks.findIndex((function(n){return n.callback===t&&function(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var o=he(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(!e.has(a))return!1}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0}(n.instruments,e)}))},t}(),Tn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),En=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._attributesProcessor=r,i._deltaMetricStorage=new nn(n),i._temporalMetricStorage=new an(n,o),i}return Tn(e,t),e.prototype.record=function(t,e,n,r){e=this._attributesProcessor.process(e,n),this._deltaMetricStorage.record(t,e,n,r)},e.prototype.collect=function(t,e){var n=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,this._instrumentDescriptor,n,e)},e}(Ye),Sn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xn=function(){function t(){}return t.Noop=function(){return An},t}(),jn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sn(e,t),e.prototype.process=function(t,e){return t},e}(xn),Rn=function(t){function e(e){var n=t.call(this)||this;return n._allowedAttributeNames=e,n}return Sn(e,t),e.prototype.process=function(t,e){var n=this,r={};return Object.keys(t).filter((function(t){return n._allowedAttributeNames.includes(t)})).forEach((function(e){return r[e]=t[e]})),r},e}(xn),An=new jn,Cn=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},kn=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},In=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Pn=function(){function t(t,e){this._meterProviderSharedState=t,this._instrumentationScope=e,this.metricStorageRegistry=new hn,this.observableRegistry=new wn,this.meter=new Je(this)}return t.prototype.registerMetricStorage=function(t){var e=this._registerMetricStorage(t,En);return 1===e.length?e[0]:new vn(e)},t.prototype.registerAsyncMetricStorage=function(t){return this._registerMetricStorage(t,sn)},t.prototype.collect=function(t,e,n){return Cn(this,void 0,void 0,(function(){var r,o,i;return kn(this,(function(a){switch(a.label){case 0:return[4,this.observableRegistry.observe(e,null==n?void 0:n.timeoutMillis)];case 1:return r=a.sent(),0===(o=this.metricStorageRegistry.getStorages(t)).length?[2,null]:0===(i=o.map((function(n){return n.collect(t,e)})).filter(ve)).length?[2,{errors:r}]:[2,{scopeMetrics:{scope:this._instrumentationScope,metrics:i},errors:r}]}}))}))},t.prototype._registerMetricStorage=function(t,e){var n=this,r=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map((function(r){var o=function(t,e){var n,r;return{name:null!==(n=t.name)&&void 0!==n?n:e.name,description:null!==(r=t.description)&&void 0!==r?r:e.description,type:e.type,unit:e.unit,valueType:e.valueType,advice:e.advice}}(r,t),i=n.metricStorageRegistry.findOrUpdateCompatibleStorage(o);if(null!=i)return i;var a=r.aggregation.createAggregator(o),u=new e(o,a,r.attributesProcessor,n._meterProviderSharedState.metricCollectors);return n.metricStorageRegistry.register(u),u}));if(0===r.length){var o=this._meterProviderSharedState.selectAggregations(t.type).map((function(r){var o=In(r,2),i=o[0],a=o[1],u=n.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(i,t);if(null!=u)return u;var c=a.createAggregator(t),s=new e(t,c,xn.Noop(),[i]);return n.metricStorageRegistry.registerForCollector(i,s),s}));r=r.concat(o)}return r},t}(),Dn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mn=function(){function t(t){this.resource=t,this.viewRegistry=new Te,this.metricCollectors=[],this.meterSharedStates=new Map}return t.prototype.getMeterSharedState=function(t){var e=function(t){var e,n;return t.name+":"+(null!==(e=t.version)&&void 0!==e?e:"")+":"+(null!==(n=t.schemaUrl)&&void 0!==n?n:"")}(t),n=this.meterSharedStates.get(e);return null==n&&(n=new Pn(this,t),this.meterSharedStates.set(e,n)),n},t.prototype.selectAggregations=function(t){var e,n,r=[];try{for(var o=Dn(this.metricCollectors),i=o.next();!i.done;i=o.next()){var a=i.value;r.push([a,a.selectAggregation(t)])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t}(),Ln=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Nn=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Bn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Un=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Fn=function(){function t(t,e){this._sharedState=t,this._metricReader=e}return t.prototype.collect=function(t){return Ln(this,void 0,void 0,(function(){var e,n,r,o,i=this;return Nn(this,(function(a){switch(a.label){case 0:return e=Ne(Date.now()),n=[],r=[],o=Array.from(this._sharedState.meterSharedStates.values()).map((function(o){return Ln(i,void 0,void 0,(function(){var i;return Nn(this,(function(a){switch(a.label){case 0:return[4,o.collect(this,e,t)];case 1:return null!=(null==(i=a.sent())?void 0:i.scopeMetrics)&&n.push(i.scopeMetrics),null!=(null==i?void 0:i.errors)&&r.push.apply(r,Un([],Bn(i.errors),!1)),[2]}}))}))})),[4,Promise.all(o)];case 1:return a.sent(),[2,{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:n},errors:r}]}}))}))},t.prototype.forceFlush=function(t){return Ln(this,void 0,void 0,(function(){return Nn(this,(function(e){switch(e.label){case 0:return[4,this._metricReader.forceFlush(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.shutdown=function(t){return Ln(this,void 0,void 0,(function(){return Nn(this,(function(e){switch(e.label){case 0:return[4,this._metricReader.shutdown(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.selectAggregationTemporality=function(t){return this._metricReader.selectAggregationTemporality(t)},t.prototype.selectAggregation=function(t){return this._metricReader.selectAggregation(t)},t}(),qn=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Wn=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Vn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qn=function(){function t(t){var e,n,r,o,i;this._shutdown=!1;var a=ce.default().merge(null!==(i=null==t?void 0:t.resource)&&void 0!==i?i:ce.empty());if(this._sharedState=new Mn(a),null!=(null==t?void 0:t.views)&&t.views.length>0)try{for(var u=Vn(t.views),c=u.next();!c.done;c=u.next()){var s=c.value;this._sharedState.viewRegistry.addView(s)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(null!=(null==t?void 0:t.readers)&&t.readers.length>0)try{for(var l=Vn(t.readers),f=l.next();!f.done;f=l.next()){var d=f.value;this.addMetricReader(d)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}return t.prototype.getMeter=function(t,e,n){return void 0===e&&(e=""),void 0===n&&(n={}),this._shutdown?(Mt.warn("A shutdown MeterProvider cannot provide a Meter"),Gt):this._sharedState.getMeterSharedState({name:t,version:e,schemaUrl:n.schemaUrl}).meter},t.prototype.addMetricReader=function(t){var e=new Fn(this._sharedState,t);t.setMetricProducer(e),this._sharedState.metricCollectors.push(e)},t.prototype.shutdown=function(t){return qn(this,void 0,void 0,(function(){return Wn(this,(function(e){switch(e.label){case 0:return this._shutdown?(Mt.warn("shutdown may only be called once per MeterProvider"),[2]):(this._shutdown=!0,[4,Promise.all(this._sharedState.metricCollectors.map((function(e){return e.shutdown(t)})))]);case 1:return e.sent(),[2]}}))}))},t.prototype.forceFlush=function(t){return qn(this,void 0,void 0,(function(){return Wn(this,(function(e){switch(e.label){case 0:return this._shutdown?(Mt.warn("invalid attempt to force flush after MeterProvider shutdown"),[2]):[4,Promise.all(this._sharedState.metricCollectors.map((function(e){return e.forceFlush(t)})))];case 1:return e.sent(),[2]}}))}))},t}(),Hn=/[\^$\\.+?()[\]{}|]/g,Gn=function(){function t(e){"*"===e?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(t.escapePattern(e)))}return t.prototype.match=function(t){return!!this._matchAll||this._regexp.test(t)},t.escapePattern=function(t){return"^"+t.replace(Hn,"\\$&").replace("*",".*")+"$"},t.hasWildcard=function(t){return t.includes("*")},t}(),Kn=function(){function t(t){this._matchAll=void 0===t,this._pattern=t}return t.prototype.match=function(t){return!!this._matchAll||t===this._pattern},t}(),zn=function(){function t(t){var e;this._nameFilter=new Gn(null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"*"),this._type=null==t?void 0:t.type,this._unitFilter=new Kn(null==t?void 0:t.unit)}return t.prototype.getType=function(){return this._type},t.prototype.getNameFilter=function(){return this._nameFilter},t.prototype.getUnitFilter=function(){return this._unitFilter},t}(),Xn=function(){function t(t){this._nameFilter=new Kn(null==t?void 0:t.name),this._versionFilter=new Kn(null==t?void 0:t.version),this._schemaUrlFilter=new Kn(null==t?void 0:t.schemaUrl)}return t.prototype.getNameFilter=function(){return this._nameFilter},t.prototype.getVersionFilter=function(){return this._versionFilter},t.prototype.getSchemaUrlFilter=function(){return this._schemaUrlFilter},t}();!function(t){t[t.DROP=0]="DROP",t[t.SUM=1]="SUM",t[t.LAST_VALUE=2]="LAST_VALUE",t[t.HISTOGRAM=3]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"}(dn||(dn={}));var Jn,Yn=function(){function t(){this.kind=dn.DROP}return t.prototype.createAccumulation=function(){},t.prototype.merge=function(t,e){},t.prototype.diff=function(t,e){},t.prototype.toMetricData=function(t,e,n,r){},t}();!function(t){t[t.HISTOGRAM=0]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",t[t.GAUGE=2]="GAUGE",t[t.SUM=3]="SUM"}(Jn||(Jn={}));var $n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Zn=function(){function t(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=!1),this.startTime=t,this.monotonic=e,this._current=n,this.reset=r}return t.prototype.record=function(t){this.monotonic&&t<0||(this._current+=t)},t.prototype.setStartTime=function(t){this.startTime=t},t.prototype.toPointValue=function(){return this._current},t}(),tr=function(){function t(t){this.monotonic=t,this.kind=dn.SUM}return t.prototype.createAccumulation=function(t){return new Zn(t,this.monotonic)},t.prototype.merge=function(t,e){var n=t.toPointValue(),r=e.toPointValue();return e.reset?new Zn(e.startTime,this.monotonic,r,e.reset):new Zn(t.startTime,this.monotonic,n+r)},t.prototype.diff=function(t,e){var n=t.toPointValue(),r=e.toPointValue();return this.monotonic&&n>r?new Zn(e.startTime,this.monotonic,r,!0):new Zn(e.startTime,this.monotonic,r-n)},t.prototype.toMetricData=function(t,e,n,r){return{descriptor:t,aggregationTemporality:e,dataPointType:Jn.SUM,dataPoints:n.map((function(t){var e=$n(t,2),n=e[0],o=e[1];return{attributes:n,startTime:o.startTime,endTime:r,value:o.toPointValue()}})),isMonotonic:this.monotonic}},t}(),er=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},nr=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=[0,0]),this.startTime=t,this._current=e,this.sampleTime=n}return t.prototype.record=function(t){this._current=t,this.sampleTime=Ne(Date.now())},t.prototype.setStartTime=function(t){this.startTime=t},t.prototype.toPointValue=function(){return this._current},t}(),rr=function(){function t(){this.kind=dn.LAST_VALUE}return t.prototype.createAccumulation=function(t){return new nr(t)},t.prototype.merge=function(t,e){var n=Be(e.sampleTime)>=Be(t.sampleTime)?e:t;return new nr(t.startTime,n.toPointValue(),n.sampleTime)},t.prototype.diff=function(t,e){var n=Be(e.sampleTime)>=Be(t.sampleTime)?e:t;return new nr(e.startTime,n.toPointValue(),n.sampleTime)},t.prototype.toMetricData=function(t,e,n,r){return{descriptor:t,aggregationTemporality:e,dataPointType:Jn.GAUGE,dataPoints:n.map((function(t){var e=er(t,2),n=e[0],o=e[1];return{attributes:n,startTime:o.startTime,endTime:r,value:o.toPointValue()}}))}},t}(),or=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};var ir=function(){function t(t,e,n,r){var o,i;void 0===n&&(n=!0),void 0===r&&((i=(o=e).map((function(){return 0}))).push(0),r={buckets:{boundaries:o,counts:i},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}),this.startTime=t,this._boundaries=e,this._recordMinMax=n,this._current=r}return t.prototype.record=function(t){if(!Number.isNaN(t)){this._current.count+=1,this._current.sum+=t,this._recordMinMax&&(this._current.min=Math.min(t,this._current.min),this._current.max=Math.max(t,this._current.max),this._current.hasMinMax=!0);var e=function(t,e){for(var n=0,r=t.length-1;r-n>1;){var o=Math.trunc((r+n)/2);t[o]<=e?n=o:r=o-1}return t[r]<=e?r:t[n]<=e?n:-1}(this._boundaries,t);this._current.buckets.counts[e+1]+=1}},t.prototype.setStartTime=function(t){this.startTime=t},t.prototype.toPointValue=function(){return this._current},t}(),ar=function(){function t(t,e){this._boundaries=t,this._recordMinMax=e,this.kind=dn.HISTOGRAM}return t.prototype.createAccumulation=function(t){return new ir(t,this._boundaries,this._recordMinMax)},t.prototype.merge=function(t,e){for(var n=t.toPointValue(),r=e.toPointValue(),o=n.buckets.counts,i=r.buckets.counts,a=new Array(o.length),u=0;u<o.length;u++)a[u]=o[u]+i[u];var c=1/0,s=-1/0;return this._recordMinMax&&(n.hasMinMax&&r.hasMinMax?(c=Math.min(n.min,r.min),s=Math.max(n.max,r.max)):n.hasMinMax?(c=n.min,s=n.max):r.hasMinMax&&(c=r.min,s=r.max)),new ir(t.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+r.count,sum:n.sum+r.sum,hasMinMax:this._recordMinMax&&(n.hasMinMax||r.hasMinMax),min:c,max:s})},t.prototype.diff=function(t,e){for(var n=t.toPointValue(),r=e.toPointValue(),o=n.buckets.counts,i=r.buckets.counts,a=new Array(o.length),u=0;u<o.length;u++)a[u]=i[u]-o[u];return new ir(e.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:r.count-n.count,sum:r.sum-n.sum,hasMinMax:!1,min:1/0,max:-1/0})},t.prototype.toMetricData=function(t,e,n,r){return{descriptor:t,aggregationTemporality:e,dataPointType:Jn.HISTOGRAM,dataPoints:n.map((function(e){var n=or(e,2),o=n[0],i=n[1],a=i.toPointValue(),u=t.type===we.GAUGE||t.type===we.UP_DOWN_COUNTER||t.type===we.OBSERVABLE_GAUGE||t.type===we.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:o,startTime:i.startTime,endTime:r,value:{min:a.hasMinMax?a.min:void 0,max:a.hasMinMax?a.max:void 0,sum:u?void 0:a.sum,buckets:a.buckets,count:a.count}}}))}},t}(),ur=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},cr=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},sr=function(){function t(t,e,n,r){void 0===t&&(t=new lr),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.backing=t,this.indexBase=e,this.indexStart=n,this.indexEnd=r}return Object.defineProperty(t.prototype,"offset",{get:function(){return this.indexStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return 0===this.backing.length?0:this.indexEnd===this.indexStart&&0===this.at(0)?0:this.indexEnd-this.indexStart+1},enumerable:!1,configurable:!0}),t.prototype.counts=function(){var t=this;return Array.from({length:this.length},(function(e,n){return t.at(n)}))},t.prototype.at=function(t){var e=this.indexBase-this.indexStart;return t<e&&(t+=this.backing.length),t-=e,this.backing.countAt(t)},t.prototype.incrementBucket=function(t,e){this.backing.increment(t,e)},t.prototype.decrementBucket=function(t,e){this.backing.decrement(t,e)},t.prototype.trim=function(){for(var t=0;t<this.length;t++){if(0!==this.at(t)){this.indexStart+=t;break}if(t===this.length-1)return void(this.indexStart=this.indexEnd=this.indexBase=0)}for(t=this.length-1;t>=0;t--)if(0!==this.at(t)){this.indexEnd-=this.length-t-1;break}this._rotate()},t.prototype.downscale=function(t){this._rotate();for(var e=1+this.indexEnd-this.indexStart,n=1<<t,r=0,o=0,i=this.indexStart;i<=this.indexEnd;){var a=i%n;a<0&&(a+=n);for(var u=a;u<n&&r<e;u++)this._relocateBucket(o,r),r++,i++;o++}this.indexStart>>=t,this.indexEnd>>=t,this.indexBase=this.indexStart},t.prototype.clone=function(){return new t(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)},t.prototype._rotate=function(){var t=this.indexBase-this.indexStart;0!==t&&(t>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,t),this.backing.reverse(t,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+t)),this.indexBase=this.indexStart)},t.prototype._relocateBucket=function(t,e){t!==e&&this.incrementBucket(t,this.backing.emptyBucket(e))},t}(),lr=function(){function t(t){void 0===t&&(t=[0]),this._counts=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this._counts.length},enumerable:!1,configurable:!0}),t.prototype.countAt=function(t){return this._counts[t]},t.prototype.growTo=function(t,e,n){var r=new Array(t).fill(0);r.splice.apply(r,cr([n,this._counts.length-e],ur(this._counts.slice(e)),!1)),r.splice.apply(r,cr([0,e],ur(this._counts.slice(0,e)),!1)),this._counts=r},t.prototype.reverse=function(t,e){for(var n=Math.floor((t+e)/2)-t,r=0;r<n;r++){var o=this._counts[t+r];this._counts[t+r]=this._counts[e-r-1],this._counts[e-r-1]=o}},t.prototype.emptyBucket=function(t){var e=this._counts[t];return this._counts[t]=0,e},t.prototype.increment=function(t,e){this._counts[t]+=e},t.prototype.decrement=function(t,e){this._counts[t]>=e?this._counts[t]-=e:this._counts[t]=0},t.prototype.clone=function(){return new t(cr([],ur(this._counts),!1))},t}(),fr=2146435072,dr=1048575,pr=1023,hr=1-pr,vr=pr,gr=Math.pow(2,-1022);function mr(t){var e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t),((e.getUint32(0)&fr)>>20)-pr}function yr(t){var e=new DataView(new ArrayBuffer(8));e.setFloat64(0,t);var n=e.getUint32(0),r=e.getUint32(4);return(n&dr)*Math.pow(2,32)+r}function br(t,e){return 0===t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY||Number.isNaN(t)?t:t*Math.pow(2,e)}var _r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Or=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _r(e,t),e}(Error),wr=function(){function t(t){this._shift=-t}return t.prototype.mapToIndex=function(t){return t<gr?this._minNormalLowerBoundaryIndex():mr(t)+this._rightShift(yr(t)-1,52)>>this._shift},t.prototype.lowerBoundary=function(t){var e=this._minNormalLowerBoundaryIndex();if(t<e)throw new Or("underflow: "+t+" is < minimum lower boundary: "+e);var n=this._maxNormalLowerBoundaryIndex();if(t>n)throw new Or("overflow: "+t+" is > maximum lower boundary: "+n);return br(1,t<<this._shift)},Object.defineProperty(t.prototype,"scale",{get:function(){return 0===this._shift?0:-this._shift},enumerable:!1,configurable:!0}),t.prototype._minNormalLowerBoundaryIndex=function(){var t=hr>>this._shift;return this._shift<2&&t--,t},t.prototype._maxNormalLowerBoundaryIndex=function(){return vr>>this._shift},t.prototype._rightShift=function(t,e){return Math.floor(t*Math.pow(2,-e))},t}(),Tr=function(){function t(t){this._scale=t,this._scaleFactor=br(Math.LOG2E,t),this._inverseFactor=br(Math.LN2,-t)}return t.prototype.mapToIndex=function(t){if(t<=gr)return this._minNormalLowerBoundaryIndex()-1;if(0===yr(t))return(mr(t)<<this._scale)-1;var e=Math.floor(Math.log(t)*this._scaleFactor),n=this._maxNormalLowerBoundaryIndex();return e>=n?n:e},t.prototype.lowerBoundary=function(t){var e=this._maxNormalLowerBoundaryIndex();if(t>=e){if(t===e)return 2*Math.exp((t-(1<<this._scale))/this._scaleFactor);throw new Or("overflow: "+t+" is > maximum lower boundary: "+e)}var n=this._minNormalLowerBoundaryIndex();if(t<=n){if(t===n)return gr;if(t===n-1)return Math.exp((t+(1<<this._scale))/this._scaleFactor)/2;throw new Or("overflow: "+t+" is < minimum lower boundary: "+n)}return Math.exp(t*this._inverseFactor)},Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),t.prototype._minNormalLowerBoundaryIndex=function(){return hr<<this._scale},t.prototype._maxNormalLowerBoundaryIndex=function(){return(vr+1<<this._scale)-1},t}(),Er=-10,Sr=20,xr=Array.from({length:31},(function(t,e){return e>10?new Tr(e-10):new wr(e-10)}));function jr(t){if(t>Sr||t<Er)throw new Or("expected scale >= "+Er+" && <= "+Sr+", got: "+t);return xr[t+10]}var Rr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ar=function(){function t(t,e){this.low=t,this.high=e}return t.combine=function(e,n){return new t(Math.min(e.low,n.low),Math.max(e.high,n.high))},t}(),Cr=20,kr=160,Ir=2,Pr=function(){function t(t,e,n,r,o,i,a,u,c,s,l){void 0===t&&(t=t),void 0===e&&(e=kr),void 0===n&&(n=!0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=Number.POSITIVE_INFINITY),void 0===u&&(u=Number.NEGATIVE_INFINITY),void 0===c&&(c=new sr),void 0===s&&(s=new sr),void 0===l&&(l=jr(Cr)),this.startTime=t,this._maxSize=e,this._recordMinMax=n,this._sum=r,this._count=o,this._zeroCount=i,this._min=a,this._max=u,this._positive=c,this._negative=s,this._mapping=l,this._maxSize<Ir&&(Mt.warn("Exponential Histogram Max Size set to "+this._maxSize+",                 changing to the minimum size of: "+Ir),this._maxSize=Ir)}return t.prototype.record=function(t){this.updateByIncrement(t,1)},t.prototype.setStartTime=function(t){this.startTime=t},t.prototype.toPointValue=function(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}},Object.defineProperty(t.prototype,"sum",{get:function(){return this._sum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zeroCount",{get:function(){return this._zeroCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._count===this._zeroCount?0:this._mapping.scale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positive",{get:function(){return this._positive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"negative",{get:function(){return this._negative},enumerable:!1,configurable:!0}),t.prototype.updateByIncrement=function(t,e){Number.isNaN(t)||(t>this._max&&(this._max=t),t<this._min&&(this._min=t),this._count+=e,0!==t?(this._sum+=t*e,t>0?this._updateBuckets(this._positive,t,e):this._updateBuckets(this._negative,-t,e)):this._zeroCount+=e)},t.prototype.merge=function(t){0===this._count?(this._min=t.min,this._max=t.max):0!==t.count&&(t.min<this.min&&(this._min=t.min),t.max>this.max&&(this._max=t.max)),this.startTime=t.startTime,this._sum+=t.sum,this._count+=t.count,this._zeroCount+=t.zeroCount;var e=this._minScale(t);this._downscale(this.scale-e),this._mergeBuckets(this.positive,t,t.positive,e),this._mergeBuckets(this.negative,t,t.negative,e)},t.prototype.diff=function(t){this._min=1/0,this._max=-1/0,this._sum-=t.sum,this._count-=t.count,this._zeroCount-=t.zeroCount;var e=this._minScale(t);this._downscale(this.scale-e),this._diffBuckets(this.positive,t,t.positive,e),this._diffBuckets(this.negative,t,t.negative,e)},t.prototype.clone=function(){return new t(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)},t.prototype._updateBuckets=function(t,e,n){var r=this._mapping.mapToIndex(e),o=!1,i=0,a=0;if(0===t.length?(t.indexStart=r,t.indexEnd=t.indexStart,t.indexBase=t.indexStart):r<t.indexStart&&t.indexEnd-r>=this._maxSize?(o=!0,a=r,i=t.indexEnd):r>t.indexEnd&&r-t.indexStart>=this._maxSize&&(o=!0,a=t.indexStart,i=r),o){var u=this._changeScale(i,a);this._downscale(u),r=this._mapping.mapToIndex(e)}this._incrementIndexBy(t,r,n)},t.prototype._incrementIndexBy=function(t,e,n){if(0!==n){if(0===t.length&&(t.indexStart=t.indexEnd=t.indexBase=e),e<t.indexStart)(r=t.indexEnd-e)>=t.backing.length&&this._grow(t,r+1),t.indexStart=e;else if(e>t.indexEnd){var r;(r=e-t.indexStart)>=t.backing.length&&this._grow(t,r+1),t.indexEnd=e}var o=e-t.indexBase;o<0&&(o+=t.backing.length),t.incrementBucket(o,n)}},t.prototype._grow=function(t,e){var n=t.backing.length,r=t.indexBase-t.indexStart,o=n-r,i=function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}(e);i>this._maxSize&&(i=this._maxSize);var a=i-r;t.backing.growTo(i,o,a)},t.prototype._changeScale=function(t,e){for(var n=0;t-e>=this._maxSize;)t>>=1,e>>=1,n++;return n},t.prototype._downscale=function(t){if(0!==t){if(t<0)throw new Error("impossible change of scale: "+this.scale);var e=this._mapping.scale-t;this._positive.downscale(t),this._negative.downscale(t),this._mapping=jr(e)}},t.prototype._minScale=function(t){var e=Math.min(this.scale,t.scale),n=Ar.combine(this._highLowAtScale(this.positive,this.scale,e),this._highLowAtScale(t.positive,t.scale,e)),r=Ar.combine(this._highLowAtScale(this.negative,this.scale,e),this._highLowAtScale(t.negative,t.scale,e));return Math.min(e-this._changeScale(n.high,n.low),e-this._changeScale(r.high,r.low))},t.prototype._highLowAtScale=function(t,e,n){if(0===t.length)return new Ar(0,-1);var r=e-n;return new Ar(t.indexStart>>r,t.indexEnd>>r)},t.prototype._mergeBuckets=function(t,e,n,r){for(var o=n.offset,i=e.scale-r,a=0;a<n.length;a++)this._incrementIndexBy(t,o+a>>i,n.at(a))},t.prototype._diffBuckets=function(t,e,n,r){for(var o=n.offset,i=e.scale-r,a=0;a<n.length;a++){var u=(o+a>>i)-t.indexBase;u<0&&(u+=t.backing.length),t.decrementBucket(u,n.at(a))}t.trim()},t}(),Dr=function(){function t(t,e){this._maxSize=t,this._recordMinMax=e,this.kind=dn.EXPONENTIAL_HISTOGRAM}return t.prototype.createAccumulation=function(t){return new Pr(t,this._maxSize,this._recordMinMax)},t.prototype.merge=function(t,e){var n=e.clone();return n.merge(t),n},t.prototype.diff=function(t,e){var n=e.clone();return n.diff(t),n},t.prototype.toMetricData=function(t,e,n,r){return{descriptor:t,aggregationTemporality:e,dataPointType:Jn.EXPONENTIAL_HISTOGRAM,dataPoints:n.map((function(e){var n=Rr(e,2),o=n[0],i=n[1],a=i.toPointValue(),u=t.type===we.GAUGE||t.type===we.UP_DOWN_COUNTER||t.type===we.OBSERVABLE_GAUGE||t.type===we.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:o,startTime:i.startTime,endTime:r,value:{min:a.hasMinMax?a.min:void 0,max:a.hasMinMax?a.max:void 0,sum:u?void 0:a.sum,positive:{offset:a.positive.offset,bucketCounts:a.positive.bucketCounts},negative:{offset:a.negative.offset,bucketCounts:a.negative.bucketCounts},count:a.count,scale:a.scale,zeroCount:a.zeroCount}}}))}},t}(),Mr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lr=function(){function t(){}return t.Drop=function(){return Qr},t.Sum=function(){return Hr},t.LastValue=function(){return Gr},t.Histogram=function(){return Kr},t.ExponentialHistogram=function(){return zr},t.Default=function(){return Xr},t}(),Nr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mr(e,t),e.prototype.createAggregator=function(t){return e.DEFAULT_INSTANCE},e.DEFAULT_INSTANCE=new Yn,e}(Lr),Br=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mr(e,t),e.prototype.createAggregator=function(t){switch(t.type){case we.COUNTER:case we.OBSERVABLE_COUNTER:case we.HISTOGRAM:return e.MONOTONIC_INSTANCE;default:return e.NON_MONOTONIC_INSTANCE}},e.MONOTONIC_INSTANCE=new tr(!0),e.NON_MONOTONIC_INSTANCE=new tr(!1),e}(Lr),Ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mr(e,t),e.prototype.createAggregator=function(t){return e.DEFAULT_INSTANCE},e.DEFAULT_INSTANCE=new rr,e}(Lr),Fr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mr(e,t),e.prototype.createAggregator=function(t){return e.DEFAULT_INSTANCE},e.DEFAULT_INSTANCE=new ar([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0),e}(Lr),qr=function(t){function e(e,n){void 0===n&&(n=!0);var r=t.call(this)||this;if(r._recordMinMax=n,null==e)throw new Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");var o=(e=(e=e.concat()).sort((function(t,e){return t-e}))).lastIndexOf(-1/0),i=e.indexOf(1/0);return-1===i&&(i=void 0),r._boundaries=e.slice(o+1,i),r}return Mr(e,t),e.prototype.createAggregator=function(t){return new ar(this._boundaries,this._recordMinMax)},e}(Lr),Wr=function(t){function e(e,n){void 0===e&&(e=160),void 0===n&&(n=!0);var r=t.call(this)||this;return r._maxSize=e,r._recordMinMax=n,r}return Mr(e,t),e.prototype.createAggregator=function(t){return new Dr(this._maxSize,this._recordMinMax)},e}(Lr),Vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mr(e,t),e.prototype._resolve=function(t){switch(t.type){case we.COUNTER:case we.UP_DOWN_COUNTER:case we.OBSERVABLE_COUNTER:case we.OBSERVABLE_UP_DOWN_COUNTER:return Hr;case we.GAUGE:case we.OBSERVABLE_GAUGE:return Gr;case we.HISTOGRAM:return t.advice.explicitBucketBoundaries?new qr(t.advice.explicitBucketBoundaries):Kr}return Mt.warn("Unable to recognize instrument type: "+t.type),Qr},e.prototype.createAggregator=function(t){return this._resolve(t).createAggregator(t)},e}(Lr),Qr=new Nr,Hr=new Br,Gr=new Ur,Kr=new Fr,zr=new Wr,Xr=new Vr;var Jr=function(t){var e,n;if(null==(n=t).instrumentName&&null==n.instrumentType&&null==n.instrumentUnit&&null==n.meterName&&null==n.meterVersion&&null==n.meterSchemaUrl)throw new Error("Cannot create view with no selector arguments supplied");if(null!=t.name&&(null==(null==t?void 0:t.instrumentName)||Gn.hasWildcard(t.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");null!=t.attributeKeys?this.attributesProcessor=new Rn(t.attributeKeys):this.attributesProcessor=xn.Noop(),this.name=t.name,this.description=t.description,this.aggregation=null!==(e=t.aggregation)&&void 0!==e?e:Lr.Default(),this.instrumentSelector=new zn({name:t.instrumentName,type:t.instrumentType,unit:t.instrumentUnit}),this.meterSelector=new Xn({name:t.meterName,version:t.meterVersion,schemaUrl:t.meterSchemaUrl})},Yr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},$r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zr=(function(){function t(t){this._entries=t?new Map(t):new Map}t.prototype.getEntry=function(t){var e=this._entries.get(t);if(e)return Object.assign({},e)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(t){var e=Yr(t,2);return[e[0],e[1]]}))},t.prototype.setEntry=function(e,n){var r=new t(this._entries);return r._entries.set(e,n),r},t.prototype.removeEntry=function(e){var n=new t(this._entries);return n._entries.delete(e),n},t.prototype.removeEntries=function(){for(var e,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=new t(this._entries);try{for(var a=$r(r),u=a.next();!u.done;u=a.next()){var c=u.value;i._entries.delete(c)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i},t.prototype.clear=function(){return new t}}(),Symbol("BaggageEntryMetadata")),to=Dt.instance();var eo="=",no=";",ro=",",oo=8192,io=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function ao(t){return t.reduce((function(t,e){var n=""+t+(""!==t?ro:"")+e;return n.length>oo?t:n}),"")}function uo(t){return t.getAllEntries().map((function(t){var e=io(t,2),n=e[0],r=e[1],o=encodeURIComponent(n)+"="+encodeURIComponent(r.value);return void 0!==r.metadata&&(o+=no+r.metadata.toString()),o}))}function co(t){var e=t.split(no);if(!(e.length<=0)){var n=e.shift();if(n){var r=n.indexOf(eo);if(!(r<=0)){var o,i,a=decodeURIComponent(n.substring(0,r).trim()),u=decodeURIComponent(n.substring(r+1).trim());return e.length>0&&("string"!=typeof(i=e.join(no))&&(to.error("Cannot create baggage metadata from unknown type: "+typeof i),i=""),o={__TYPE__:Zr,toString:function(){return i}}),{key:a,value:u,metadata:o}}}}}function so(t){return"string"!=typeof t||0===t.length?{}:t.split(ro).map((function(t){return co(t)})).filter((function(t){return void 0!==t&&t.value.length>0})).reduce((function(t,e){return t[e.key]=e.value,t}),{})}var lo,fo=(lo="OpenTelemetry SDK Context Key SUPPRESS_TRACING",Symbol.for(lo));var po,ho={_export:function(t,e){return new Promise((function(n){Pe.with(Pe.active().setValue(fo,!0),(function(){t.export(e,(function(t){n(t)}))}))}))}},vo=n(46),go=n(53);function mo(){var t=Object(vo.b)(go.a);return Object.assign({},vo.a,t)}!function(t){t[t.DELTA=0]="DELTA",t[t.CUMULATIVE=1]="CUMULATIVE",t[t.LOWMEMORY=2]="LOWMEMORY"}(po||(po={}));var yo=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},bo=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},_o=function(){return lt.CUMULATIVE},Oo=function(t){switch(t){case we.COUNTER:case we.OBSERVABLE_COUNTER:case we.GAUGE:case we.HISTOGRAM:case we.OBSERVABLE_GAUGE:return lt.DELTA;case we.UP_DOWN_COUNTER:case we.OBSERVABLE_UP_DOWN_COUNTER:return lt.CUMULATIVE}},wo=function(t){switch(t){case we.COUNTER:case we.HISTOGRAM:return lt.DELTA;case we.GAUGE:case we.UP_DOWN_COUNTER:case we.OBSERVABLE_UP_DOWN_COUNTER:case we.OBSERVABLE_COUNTER:case we.OBSERVABLE_GAUGE:return lt.CUMULATIVE}};function To(t){return null!=t?t===po.DELTA?Oo:t===po.LOWMEMORY?wo:_o:(e=mo(),"cumulative"===(n=e.OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE.trim().toLowerCase())?_o:"delta"===n?Oo:"lowmemory"===n?wo:(Mt.warn("OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE is set to '"+e.OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE+"', but only 'cumulative' and 'delta' are allowed. Using default ('cumulative') instead."),_o));var e,n}var Eo=function(){function t(t,e){this._otlpExporter=t,this._aggregationSelector=function(t){return(null==t?void 0:t.aggregationPreference)?t.aggregationPreference:function(t){return Lr.Default()}}(e),this._aggregationTemporalitySelector=To(null==e?void 0:e.temporalityPreference)}return t.prototype.export=function(t,e){this._otlpExporter.export([t],e)},t.prototype.shutdown=function(){return yo(this,void 0,void 0,(function(){return bo(this,(function(t){switch(t.label){case 0:return[4,this._otlpExporter.shutdown()];case 1:return t.sent(),[2]}}))}))},t.prototype.forceFlush=function(){return Promise.resolve()},t.prototype.selectAggregation=function(t){return this._aggregationSelector(t)},t.prototype.selectAggregationTemporality=function(t){return this._aggregationTemporalitySelector(t)},t}(),So=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},xo=1e4,jo=5,Ro=1e3,Ao=5e3,Co=1.5;function ko(t){return"number"==typeof t?t<=0?Io(t,xo):t:(n=Number(null!==(e=mo().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)&&void 0!==e?e:mo().OTEL_EXPORTER_OTLP_TIMEOUT))<=0?Io(n,xo):n;var e,n}function Io(t,e){return Mt.warn("Timeout must be greater than 0",t),e}var Po,Do=function(){function t(){var t=this;this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}return Object.defineProperty(t.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),t.prototype.resolve=function(t){this._resolve(t)},t.prototype.reject=function(t){this._reject(t)},t}(),Mo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Lo=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},No=function(){function t(t,e){this._callback=t,this._that=e,this._isCalled=!1,this._deferred=new Do}return Object.defineProperty(t.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),t.prototype.call=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,Lo([this._that],Mo(n),!1))).then((function(t){return e._deferred.resolve(t)}),(function(t){return e._deferred.reject(t)}))}catch(t){this._deferred.reject(t)}}return this._deferred.promise},t}();!function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(Po||(Po={}));var Bo=function(){function t(t){void 0===t&&(t={}),this._sendingPromises=[],this.url=this.getDefaultUrl(t),"string"==typeof t.hostname&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new No(this._shutdown,this),this._concurrencyLimit="number"==typeof t.concurrencyLimit?t.concurrencyLimit:30,this.timeoutMillis=ko(t.timeoutMillis),this.onInit(t)}return t.prototype.export=function(t,e){this._shutdownOnce.isCalled?e({code:Po.FAILED,error:new Error("Exporter has been shutdown")}):this._sendingPromises.length>=this._concurrencyLimit?e({code:Po.FAILED,error:new Error("Concurrent export limit reached")}):this._export(t).then((function(){e({code:Po.SUCCESS})})).catch((function(t){e({code:Po.FAILED,error:t})}))},t.prototype._export=function(t){var e=this;return new Promise((function(n,r){try{Mt.debug("items to be sent",t),e.send(t,n,r)}catch(t){r(t)}}))},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then((function(){}))},t.prototype._shutdown=function(){return Mt.debug("shutdown started"),this.onShutdown(),this.forceFlush()},t}(),Uo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fo=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.name="OTLPExporterError",o.data=r,o.code=n,o}return Uo(e,t),e}(Error),qo=function(){return(qo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Wo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Vo(t,e,n,r,o,i){var a,u,c=!1,s=setTimeout((function(){if(clearTimeout(a),c=!0,u.readyState===XMLHttpRequest.DONE){var t=new Fo("Request Timeout");i(t)}else u.abort()}),r),l=function(r,f){void 0===r&&(r=jo),void 0===f&&(f=Ro),(u=new XMLHttpRequest).open("POST",e);Object.entries(qo(qo({},{Accept:"application/json","Content-Type":"application/json"}),n)).forEach((function(t){var e=Wo(t,2),n=e[0],r=e[1];u.setRequestHeader(n,r)})),u.send(t),u.onreadystatechange=function(){if(u.readyState===XMLHttpRequest.DONE&&!1===c)if(u.status>=200&&u.status<=299)Mt.debug("xhr success",t),o(),clearTimeout(s),clearTimeout(a);else if(u.status&&(d=u.status,[429,502,503,504].includes(d))&&r>0){var e=void 0;f*=Co,e=u.getResponseHeader("Retry-After")?function(t){if(null==t)return-1;var e=Number.parseInt(t,10);if(Number.isInteger(e))return e>0?1e3*e:-1;var n=new Date(t).getTime()-Date.now();return n>=0?n:0}(u.getResponseHeader("Retry-After")):Math.round(Math.random()*(Ao-f)+f),a=setTimeout((function(){l(r-1,f)}),e)}else{var n=new Fo("Failed to export with XHR (status: "+u.status+")",u.status);i(n),clearTimeout(s),clearTimeout(a)}var d},u.onabort=function(){if(c){var t=new Fo("Request Timeout");i(t)}clearTimeout(s),clearTimeout(a)},u.onerror=function(){if(c){var t=new Fo("Request Timeout");i(t)}clearTimeout(s),clearTimeout(a)}};l()}var Qo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ho=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n._useXHR=!1,n._useXHR=!!e.headers||"function"!=typeof navigator.sendBeacon,n._useXHR?n._headers=Object.assign({},function(t){void 0===t&&(t={});var e={};return Object.entries(t).forEach((function(t){var n=So(t,2),r=n[0],o=n[1];void 0!==o?e[r]=String(o):Mt.warn('Header "'+r+'" has invalid value ('+o+") and will be ignored")})),e}(e.headers),r.parseKeyPairsIntoRecord(mo().OTEL_EXPORTER_OTLP_HEADERS)):n._headers={},n}return Qo(e,t),e.prototype.onInit=function(){},e.prototype.onShutdown=function(){},e.prototype.send=function(t,e,n){var r=this;if(this._shutdownOnce.isCalled)Mt.debug("Shutdown already started. Cannot send objects");else{var o=this.convert(t),i=JSON.stringify(o),a=new Promise((function(t,e){r._useXHR?Vo(i,r.url,r._headers,r.timeoutMillis,t,e):function(t,e,n,r,o){navigator.sendBeacon(e,new Blob([t],n))?(Mt.debug("sendBeacon - can send",t),r()):o(new Fo("sendBeacon - cannot send "+t))}(i,r.url,{type:"application/json"},t,e)})).then(e,n);this._sendingPromises.push(a);var u=function(){var t=r._sendingPromises.indexOf(a);r._sendingPromises.splice(t,1)};a.then(u,u)}},e}(Bo),Go=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Ko(t){return Object.keys(t).map((function(e){return zo(e,t[e])}))}function zo(t,e){return{key:t,value:Xo(e)}}function Xo(t){var e=typeof t;return"string"===e?{stringValue:t}:"number"===e?Number.isInteger(t)?{intValue:t}:{doubleValue:t}:"boolean"===e?{boolValue:t}:t instanceof Uint8Array?{bytesValue:t}:Array.isArray(t)?{arrayValue:{values:t.map(Xo)}}:"object"===e&&null!=t?{kvlistValue:{values:Object.entries(t).map((function(t){var e=Go(t,2);return zo(e[0],e[1])}))}}:{}}function Jo(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function Yo(t){for(var e=new Uint8Array(t.length/2),n=0,r=0;r<t.length;r+=2){var o=Jo(t.charCodeAt(r)),i=Jo(t.charCodeAt(r+1));e[n++]=o<<4|i}return e}function $o(t){var e=BigInt(1e9);return BigInt(t[0])*e+BigInt(t[1])}function Zo(t){var e,n=$o(t);return e=n,{low:Number(BigInt.asUintN(32,e)),high:Number(BigInt.asUintN(32,e>>BigInt(32)))}}var ti="undefined"!=typeof BigInt?function(t){return $o(t).toString()}:function(t){return t[0]*Le+t[1]};function ei(t){return t}function ni(t){if(void 0!==t)return Yo(t)}var ri={encodeHrTime:Zo,encodeSpanContext:Yo,encodeOptionalSpanContext:ni};function oi(t,e){var n=function(t){var e,n;if(void 0===t)return ri;var r=null===(e=t.useLongBits)||void 0===e||e,o=null!==(n=t.useHex)&&void 0!==n&&n;return{encodeHrTime:r?Zo:ti,encodeSpanContext:o?ei:Yo,encodeOptionalSpanContext:o?ei:ni}}(e);return{resource:{attributes:Ko(t.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:ii(t.scopeMetrics,n)}}function ii(t,e){return Array.from(t.map((function(t){return{scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map((function(t){return function(t,e){var n={name:t.descriptor.name,description:t.descriptor.description,unit:t.descriptor.unit},r=function(t){switch(t){case lt.DELTA:return 1;case lt.CUMULATIVE:return 2}}(t.aggregationTemporality);switch(t.dataPointType){case Jn.SUM:n.sum={aggregationTemporality:r,isMonotonic:t.isMonotonic,dataPoints:ai(t,e)};break;case Jn.GAUGE:n.gauge={dataPoints:ai(t,e)};break;case Jn.HISTOGRAM:n.histogram={aggregationTemporality:r,dataPoints:ui(t,e)};break;case Jn.EXPONENTIAL_HISTOGRAM:n.exponentialHistogram={aggregationTemporality:r,dataPoints:ci(t,e)}}return n}(t,e)})),schemaUrl:t.scope.schemaUrl}})))}function ai(t,e){return t.dataPoints.map((function(n){return function(t,e,n){var r={attributes:Ko(t.attributes),startTimeUnixNano:n.encodeHrTime(t.startTime),timeUnixNano:n.encodeHrTime(t.endTime)};switch(e){case it.INT:r.asInt=t.value;break;case it.DOUBLE:r.asDouble=t.value}return r}(n,t.descriptor.valueType,e)}))}function ui(t,e){return t.dataPoints.map((function(t){var n=t.value;return{attributes:Ko(t.attributes),bucketCounts:n.buckets.counts,explicitBounds:n.buckets.boundaries,count:n.count,sum:n.sum,min:n.min,max:n.max,startTimeUnixNano:e.encodeHrTime(t.startTime),timeUnixNano:e.encodeHrTime(t.endTime)}}))}function ci(t,e){return t.dataPoints.map((function(t){var n=t.value;return{attributes:Ko(t.attributes),count:n.count,min:n.min,max:n.max,sum:n.sum,positive:{offset:n.positive.offset,bucketCounts:n.positive.bucketCounts},negative:{offset:n.negative.offset,bucketCounts:n.negative.bucketCounts},scale:n.scale,zeroCount:n.zeroCount,startTimeUnixNano:e.encodeHrTime(t.startTime),timeUnixNano:e.encodeHrTime(t.endTime)}}))}var si=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),li=function(t){function e(e){var n=t.call(this,e)||this;return n._headers=Object.assign(n._headers,r.parseKeyPairsIntoRecord(mo().OTEL_EXPORTER_OTLP_METRICS_HEADERS)),n}return si(e,t),e.prototype.getDefaultUrl=function(t){return"string"==typeof t.url?t.url:mo().OTEL_EXPORTER_OTLP_METRICS_ENDPOINT.length>0?function(t){try{var e=new URL(t);return""===e.pathname&&(e.pathname=e.pathname+"/"),e.toString()}catch(e){return Mt.warn("Could not parse export URL: '"+t+"'"),t}}(mo().OTEL_EXPORTER_OTLP_METRICS_ENDPOINT):mo().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?function(t,e){return t.endsWith("/")||(t+="/"),t+e}(mo().OTEL_EXPORTER_OTLP_ENDPOINT,"v1/metrics"):"http://localhost:4318/v1/metrics"},e.prototype.convert=function(t){return e={useLongBits:!1},{resourceMetrics:t.map((function(t){return oi(t,e)}))};var e},e}(Ho),fi=function(t){function e(e){return t.call(this,new li(e),e)||this}return si(e,t),e}(Eo);const di="tps.tenant.id",pi="app.id",hi="server.id",vi="server.owner";var gi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mi=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return gi(e,t),e}(Error);var yi=function(t){Mt.error(function(t){return"string"==typeof t?t:JSON.stringify(function(t){for(var e={},n=t;null!==n;)Object.getOwnPropertyNames(n).forEach((function(t){if(!e[t]){var r=n[t];r&&(e[t]=String(r))}})),n=Object.getPrototypeOf(n);return e}(t))}(t))};var bi=function(t){return Lr.Default()},_i=function(t){return lt.CUMULATIVE},Oi=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},wi=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ti=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ei=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Si=function(){function t(t){var e,n,r;this._shutdown=!1,this._aggregationSelector=null!==(e=null==t?void 0:t.aggregationSelector)&&void 0!==e?e:bi,this._aggregationTemporalitySelector=null!==(n=null==t?void 0:t.aggregationTemporalitySelector)&&void 0!==n?n:_i,this._metricProducers=null!==(r=null==t?void 0:t.metricProducers)&&void 0!==r?r:[]}return t.prototype.setMetricProducer=function(t){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=t,this.onInitialized()},t.prototype.selectAggregation=function(t){return this._aggregationSelector(t)},t.prototype.selectAggregationTemporality=function(t){return this._aggregationTemporalitySelector(t)},t.prototype.onInitialized=function(){},t.prototype.collect=function(t){return Oi(this,void 0,void 0,(function(){var e,n,r,o,i,a;return wi(this,(function(u){switch(u.label){case 0:if(void 0===this._sdkMetricProducer)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return[4,Promise.all(Ei([this._sdkMetricProducer.collect({timeoutMillis:null==t?void 0:t.timeoutMillis})],Ti(this._metricProducers.map((function(e){return e.collect({timeoutMillis:null==t?void 0:t.timeoutMillis})}))),!1))];case 1:return e=Ti.apply(void 0,[u.sent()]),n=e[0],r=e.slice(1),o=n.errors.concat(Oe(r,(function(t){return t.errors}))),i=n.resourceMetrics.resource,a=n.resourceMetrics.scopeMetrics.concat(Oe(r,(function(t){return t.resourceMetrics.scopeMetrics}))),[2,{resourceMetrics:{resource:i,scopeMetrics:a},errors:o}]}}))}))},t.prototype.shutdown=function(t){return Oi(this,void 0,void 0,(function(){return wi(this,(function(e){switch(e.label){case 0:return this._shutdown?(Mt.error("Cannot call shutdown twice."),[2]):null!=(null==t?void 0:t.timeoutMillis)?[3,2]:[4,this.onShutdown()];case 1:return e.sent(),[3,4];case 2:return[4,ye(this.onShutdown(),t.timeoutMillis)];case 3:e.sent(),e.label=4;case 4:return this._shutdown=!0,[2]}}))}))},t.prototype.forceFlush=function(t){return Oi(this,void 0,void 0,(function(){return wi(this,(function(e){switch(e.label){case 0:return this._shutdown?(Mt.warn("Cannot forceFlush on already shutdown MetricReader."),[2]):null!=(null==t?void 0:t.timeoutMillis)?[3,2]:[4,this.onForceFlush()];case 1:return e.sent(),[2];case 2:return[4,ye(this.onForceFlush(),t.timeoutMillis)];case 3:return e.sent(),[2]}}))}))},t}();class xi extends Si{constructor(t){var e,n,r,o;if(super({aggregationSelector:null===(e=t.exporter.selectAggregation)||void 0===e?void 0:e.bind(t.exporter),aggregationTemporalitySelector:null===(n=t.exporter.selectAggregationTemporality)||void 0===n?void 0:n.bind(t.exporter),metricProducers:t.metricProducers}),!(null===(r=t.triggers)||void 0===r?void 0:r.length))throw Error("TriggerExportingMetricReader: trigger is required");if(void 0!==t.exportTimeoutMillis&&t.exportTimeoutMillis<=0)throw Error("TriggerExportingMetricReader: exportTimeoutMillis must be greater than 0");this.triggers=t.triggers,this.exporter=t.exporter,this.exportTimeout=null!==(o=t.exportTimeoutMillis)&&void 0!==o?o:3e4}onInitialized(){this.triggers.forEach(t=>t.addListener(this.runOnce.bind(this)))}async onForceFlush(){await this.runOnce(),await this.exporter.forceFlush()}async onShutdown(){this.triggers.forEach(t=>t.removeListener(this.runOnce.bind(this))),await this.exporter.shutdown()}async runOnce(){try{await(t=this.doRun(),e=this.exportTimeout,r=new Promise((function(t,r){n=setTimeout((function(){r(new mi("Operation timed out."))}),e)})),Promise.race([t,r]).then((function(t){return clearTimeout(n),t}),(function(t){throw clearTimeout(n),t})))}catch(t){if(t instanceof mi)return void Mt.error("TriggerExportingMetricReader: Export took longer than %s milliseconds and timed out.",this.exportTimeout);!function(t){try{yi(t)}catch(t){}}(t)}var t,e,n,r}async doRun(){var t,e,n;const{resourceMetrics:r,errors:o}=await this.collect({timeoutMillis:this.exportTimeout});if(o.length>0&&Mt.error("TriggerExportingMetricReader: metrics collection errors",...o),!(null===(t=r.scopeMetrics)||void 0===t?void 0:t.length))return Promise.resolve();const i=async()=>{const t=await ho._export(this.exporter,r);if(t.code!==Po.SUCCESS)throw new Error(`TriggerExportingMetricReader: metrics export failed (error ${t.error})`)};r.resource.asyncAttributesPending?null===(n=(e=r.resource).waitForAsyncAttributes)||void 0===n||n.call(e).then(i,t=>Mt.debug("TriggerExportingMetricReader: Error while resolving async portion of resource: ",t)):await i()}}var ji,Ri=function(t){var e;return new ce((e={},k()(e,di,"tdocs"),k()(e,pi,t),k()(e,hi,t),k()(e,vi,"solin"),k()(e,"service.name",t),e))},Ai={first_screen_visible_time:[50,100,200,500,1e3,5e3],first_render_time_3_0:[50,100,200,500,1e3,5e3],first_edit_time_3_0:[50,100,200,500,1e3,5e3],open_doc_cost_3_0:[50,100,200,500,1e3,5e3],open_doc_retry_count:[1,2,5,10,20],first_interaction_cost:[50,100,200,500,1e3,5e3],first_screen_open_cost:[50,100,200,500,1e3,5e3],first_edit_cost:[50,100,200,500,1e3,5e3]},Ci=function(){function t(){var e=this;dt()(this,t),this.projectMetricMap=new Map,this.getMeter=function(t,n){var r,o=e.projectMetricMap.get(t);return o?r=o:(r=e.getProvider(t),e.projectMetricMap.set(t,r)),r.getMeter(n)},this.getProvider=function(t){var n=Ri(t),r=new fi({temporalityPreference:lt.DELTA,url:"".concat(window.location.protocol).concat(U.h,"v1/metrics"),headers:{"X-Tps-TenantID":"default","Access-Control-Allow-Origin":"*"}}),o=new Qn({resource:n,readers:[new xi({exporter:r,triggers:[st.getInstance()]})],views:e.getHistogramViewViews()});return console.log("[opentelemetry-getProvider]"),o},this.getHistogramViewViews=function(){return Object.entries(Ai).map((function(t){var e=ut()(t,2),n=e[0],r=e[1];return new Jr({aggregation:new qr(r),instrumentName:n,instrumentType:we.HISTOGRAM})}))}}return ht()(t,null,[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}(),ki={"白屏":"blank_screen","form-white-screen-initial-10000":"blank_screen","关键数据获取失败":"key_data_acquisition_failed","关键数据获取":"key_data_acquisition_failed","核心cgi请求失败率":"core_cgi_request_failure_rate","关键请求失败":"key_request_failure","90秒以内未和后台建立编辑通道":"no_backend_editing_channel_established_in_90s","90秒以内未和后台建立socket通道":"no_backend_editing_channel_established_in_90s","5s可交互成功率":"open_success_rate_in_5s","5s打开成功率":"open_success_rate_in_5s","5s打开成功率-TDoc":"open_success_rate_in_5s","10s打开成功率":"interaction_success_rate_in_10s","白屏-至离开":"blank_screen_to_leave","首屏可见耗时":"first_screen_visible_time","可交互耗时":"first_interaction_cost","首屏可交互耗时":"first_interaction_cost","可编辑耗时":"first_edit_cost","slide-pv":"slide_pv",smartcanvas_pv:"smartcanvas_pv","form-pv":"form_pv","form-core-data-initial-beforeunload":"form_core_data_initial_beforeunload","form-submit":"form_submit","form-edit":"form_edit","form-publish":"form_publish","form-tti-less-than-5s":"form_tti_less_than_5s","10s可交互成功率":"interaction_success_rate_in_10s","十秒可交互":"interaction_success_rate_in_10s",FIRST_RENDER_TIME_3_0:"first_render_time_3_0",FIRST_EDIT_TIME_3_0:"first_edit_time_3_0",OPEN_DOC_COST_3_0:"open_doc_cost_3_0",OPEN_DOC_RETRY_COUNT:"open_doc_retry_count",IS_CHUNK_RATE:"is_chunk_rate",PV:"pv",pv:"pv",pv_m:"pv",pv_pc:"pv","5s":"open_success_rate_in_5s_2"},Ii={quality_doc:"sheet",quality_doc_melo:"doc",ppt_performance:"slide",pdf_tech:"pdf"},Pi=function(t){var e=ki[t.attrid];return e?Di({translatedName:e,data:t})?null:(delete t.dimensions,{translatedName:e,data:t}):null},Di=function(t){var e=t.translatedName,n=t.data;if(["sheet","smartsheet"].includes(n.project)){var r=n.dimensions||[],o=ut()(r,1)[0];if("key_request_failure"===e)return["INACTIVE","N0001","N0008",105,107,40001,40021,40025,40027,52003,60010,60030,60031,60032,60033].includes(o)}if("doc"===n.project){var i=n.dimensions||[],a=ut()(i,2)[1];if(["key_request_failure","no_backend_editing_channel_established_in_90s"].includes(e))return[60007,70002,72105,60010,70001,60006].includes(a)}if("form"===n.project&&"form-submit"===e&&0===n.value){var u=n.dimensions||[],c=ut()(u,2)[1];return["error-code-22","error-code-90270","error-code-90270","error-code-90218","error-code-90246"].includes(c)}return!1},Mi=function(t){var e=Pi(t);if(e){var n=e.translatedName,r=e.data;Ci.getInstance().getMeter(r.project,r.project).createCounter(n,{description:n,valueType:it.INT}).add(1,r),st.getInstance().commit()}},Li=function(t){var e=Pi(t);if(e){var n=e.translatedName,r=e.data;Ci.getInstance().getMeter(r.project,r.project).createHistogram(n,{description:n,valueType:it.DOUBLE}).record(r.value),st.getInstance().commit()}},Ni=function(t){var e=function(t){var e,n,r,o,i,a=Ii[t.opername],u=[];return"sheet"===a&&"open_time_cost"===t.action?u=[{translatedName:"first_screen_open_cost",data:{project:"sheet",value:t.ver6}},{translatedName:"first_interaction_cost",data:{project:"sheet",value:t.ver7}},{translatedName:"first_edit_cost",data:{project:"sheet",value:t.ver10}}]:"doc"===a&&"open_time_cost"===t.action?u=[{translatedName:"first_screen_open_cost",data:{project:"doc",value:null===(e=JSON.parse(t.ver8))||void 0===e?void 0:e.FIRST_RENDER}},{translatedName:"first_interaction_cost",data:{project:"doc",value:null===(n=JSON.parse(t.ver8))||void 0===n?void 0:n.FIRST_INTERACTION}},{translatedName:"first_edit_cost",data:{project:"doc",value:null===(r=JSON.parse(t.ver8))||void 0===r?void 0:r.FIRST_EDIT}}]:"slide"===a&&"FirstSlide"===t.action?u=[{translatedName:"first_screen_open_cost",data:{project:"slide",value:null===(o=JSON.parse(t.ver6))||void 0===o?void 0:o.FirstSlide}},{translatedName:"first_edit_cost",data:{project:"slide",value:null===(i=JSON.parse(t.ver6))||void 0===i?void 0:i.TTI}}]:"pdf"===a&&("first_screen"===t.action?u=[{translatedName:"first_screen_open_cost",data:{project:"pdf",value:t.ver7}}]:"pdf_interact_time"===t.action&&(u=[{translatedName:"first_interaction_cost",data:{project:"pdf",value:t.ver7}}])),u}(t);(null==e?void 0:e.length)&&(e.forEach((function(t){var e=t.translatedName,n=t.data;Ci.getInstance().getMeter(n.project,n.project).createHistogram(e,{description:e,unit:"milliseconds",valueType:it.DOUBLE}).record(Number(n.value))})),st.getInstance().commit())};function Bi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(E)Ni(t);else if(!x){var n=Object.assign({},Object(j.d)());return R(n,t),function(t,e){if(z()){$=JSON.stringify(t,null,4);var n=document.createElement("li");n.innerText="第 ".concat(ot," 条：").concat(JSON.stringify(e,null,4)),rt.prepend(n),ot+=1}}(n,t),(null==e?void 0:e.showLog)?Y(n):function(){if(window._tencent_doc_report_show_log||Object(w.d)("alloy_report_debug")||Object(w.d)("alloy-report-debug")||Object(w.d)("showLog")){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Y(e)}}(n),G(n,null==e?void 0:e.immediate)}}function Ui(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(E)Ni(t);else if(!x){var n=Object.assign({},Object(j.d)());R(n,t),e=e instanceof Array?e:[];var r={};for(var o in n)if(n.hasOwnProperty(o)){if(e.indexOf(o)>-1)continue;r[o]=n[o]}return Bi(r,{immediate:!0})}}Object(j.h)(),function(t){t[t.NOT_START=-1]="NOT_START",t[t.PAUSE=0]="PAUSE",t[t.ACTIVE=1]="ACTIVE"}(ji||(ji={}));var Fi="docReportHeartBeatFlag",qi=0,Wi=ji.NOT_START;function Vi(){return"active"===_.state||"passive"===_.state}function Qi(){Bi({opername:"doc_core",module:"heart_beat",action:"report"}),Wi!==ji.PAUSE&&(qi=window.setTimeout((function(){Qi()}),6e4))}var Hi,Gi=n(16),Ki=n.n(Gi),zi=n(5);function Xi(){Hi={appid:0,flag1:0,flag2:0,flag3:0,speedTime:[]}}function Ji(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=["appid","flag2","flag2","flag3"].filter((function(e){return!t||!t[e]}));return!(n.length>0)||(e&&Object(zi.a)("缺少必要参数:".concat(n.join(","))),!1)}function Yi(t,e){var n=t.speedTime,r={};if(isNaN(+n)||(n=[+n]),void 0!==t.id&&1===n.length)return r[t.id]=n[0],delete t.id,r;if(n instanceof Array&&n.length){var o=!1;n[0]<1e12&&(o=!0);for(var i=0;i<n.length;i++)o?n[i]&&(r[i+1]=n[i]):0!==i&&n[i]&&(r[i]=n[i]-n[0])}else if("object"===Ki()(n))for(var a in n)if(n.hasOwnProperty(a))if(e){if("".concat(parseInt(a))!=="".concat(a))throw"有个奇怪的东西混入speedTime里面了：".concat(a);r[a]=n[a]}else r[a]=n[a];return r}var $i=Object(M.d)((function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(L.a.onReceiveReporter(A.HUATUO,t,e),Ji(t)){if(void 0===t.speedTime)throw"没有测速信息";if(t.speedTime=Yi(t,!0),!Object.keys(t.speedTime).length)throw"解析 speedTime 参数错误";L.a.onHanldeParams(A.HUATUO,t);var n=t.speedTime;for(var r in n)P.d.report({flag1:t.flag1,flag2:t.flag2,flag3:t.flag3,timing:n[r],id:r,appid:t.appid},{envInfo:{platform:t.platform||I.a.platform,apn:t.apn||I.a.networkType}},e)}}));$i.timeStart=function(t){Xi(),Ji(t)&&(Hi.appid=t.appid,Hi.flag1=t.flag1,Hi.flag2=t.flag2,Hi.flag3=t.flag3,Hi.speedTime=[],Hi.speedTime.push(Object(D.e)()))},$i.time=function(){Ji(Hi)&&Hi.speedTime.push(Object(D.e)())},$i.timeEnd=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ji(Hi)&&(Hi.speedTime.push(Object(D.e)()),$i(Hi,t),Xi())};var Zi=$i,ta=Object(M.d)((function(t,e){if(!x){if(L.a.onReceiveReporter(A.MONITOR,t,e),"number"!=typeof t)return console.warn("invalid id");L.a.onHanldeParams(A.MONITOR,t),P.e.report(t,{},e)}})),ea=(window&&(window.performance||window.webkitPerformance||window.msPerformance)||{}).timing,na=void 0===ea?null:ea,ra=[];var oa=Object(M.d)((function(t,e){L.a.onReceiveReporter(A.PERFORMANCE,t,e),na?(t.speedTime=function(){if(ra.length)return ra;var t=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];na.domContentLoadedStart?t.splice(15,2,"domContentLoadedStart","domContentLoadedEnd"):na.domContentLoadedEventStart||t.splice(15,2,"domContentLoaded","domContentLoaded");for(var e=0,n=t.length;e<n;e++)ra[e]=na[t[e]];return ra}(),L.a.onHanldeParams(A.PERFORMANCE,t),Zi(t)):Object(zi.c)("没有找到 performance timming 信息")})),ia=Object(M.d)((function(t,e){L.a.onReceiveReporter(A.RETCODE,t,e);var n=function(t){if(!t||!t.url)return Object(zi.c)("url 是必需参数"),!1;if(Math.random()<1/(t.rate||1))return!0;var e;try{e=decodeURIComponent(t.url)}catch(t){return!1}return!!/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/.test(e)&&null}(t);if(null===n)return n;var r={appid:t.appid||0,type:t.type||0,code:t.code||0,time:t.time||0,device:t.device||"",signalStrength:"",expansion1:t.expansion1||"",expansion2:t.expansion2||"",expansion3:t.expansion3||"",data:t.data||"",platform:t.platform||I.a.platform,rate:t.rate||1,uin:t.uin||0},o=RegExp.$4||"",i=RegExp.$5||"",a=RegExp.$6||"";return r.domain=o,r.cgi=i,t.includeSearch&&(r.cgi=i+a),r.apn=I.a.networkType,L.a.onHanldeParams(A.RETCODE,r),P.f.report(r,{},e),!0})),aa=n(21),ua=n.n(aa),ca=n(20),sa=function(t){var e=t.url,n=t.docId;return e&&n?e.replace(n,"DOC_ID"):e},la=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},fa=Object(M.d)((function(t,e){var n=function(t){return!(!t||!t.url)||(Object(zi.c)("url 是必需参数"),!1)}(t);return n?(function(t,e){la(void 0,void 0,void 0,ua.a.mark((function n(){var r,o,i,a,u,c,s,l,f,d,p,h,v,g,m,y;return ua.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=Object(w.a)(t.url)||{},l=s.pathname,f=s.hostname,d=s.search,p=null!==(r=t.docid)&&void 0!==r?r:Object(K.v)(),h=sa({url:l,docId:p}),v="object"===Ki()(t.params)?JSON.stringify(t.params):t.params,g=(null!==(o=t.uid)&&void 0!==o?o:Object(K.E)())||0,m={biz_id:9221,userId:String(g),code:t.code,cgi:h,func:null!==(i=t.func)&&void 0!==i?i:null===(u=Object(w.b)(null!==(a=t.params)&&void 0!==a?a:d))||void 0===u?void 0:u.func,category:null!==(c=t.category)&&void 0!==c?c:Object(K.p)(),web_version:Object(K.s)(),cost:t.time,status_code:void 0!==t.statusCode?String(t.statusCode):void 0,dver:Object(K.n)()},y=function(){var e,n;return{msg:t.message,user_agent:null===(e=window.navigator)||void 0===e?void 0:e.userAgent,domain:f||U.p,apn:I.a.networkType,platform:null!==(n=t.platform)&&void 0!==n?n:Object(K.z)(),params:null!=v?v:d,openid:t.openid,referer:location.href,freego_proxy:Object(ca.a)("free_go_proxy"),docid:p,ver1:t.expansion1,ver2:t.expansion2,ver3:t.expansion3,wxwork_version:Object(K.J)(),scene:t.scene}},Ya.report(0===t.code?m:Object.assign(Object.assign({},m),y()),0!==t.code||e);case 8:case"end":return n.stop()}}),n)})))}(t,e),!0):n})),da=Object(M.d)((function(t,e){L.a.onReceiveReporter(A.TDBANK,t,e),t.uin||(t.uin=I.a.uin),L.a.onHanldeParams(A.TDBANK,t),P.g.report(t,{},e)})),pa=n(9),ha=!1,va={holdTime:1e3,interval:60,maxReport:10},ga=Object(M.d)((function(t){if(ha)Object(zi.d)("已经初始化过卡顿上报了");else if(ha=!0,t.monitor||t.tdw)if(Object(M.b)()){var e={};Object(D.s)(e,va),Object(D.s)(e,t),Object(D.l)(e.holdTime)&&Object(D.l)(e.interval)?(pa.b.on("jankReceiveHeartBeat",(function(){P.b.apiRequestToWorker(e,{},"jank")})),P.b.apiRequestToWorker(e,{init:!0},"jank")):Object(zi.a)("holdTime 或 interval 参数错误")}else Object(zi.d)("worker 没有起来，不做卡顿监控");else Object(zi.a)("缺少 monitor 或 tdw 参数")}));ga.stop=function(){P.b.apiRequestToWorker({},{stop:!0},"jank")};var ma=ga,ya=function(){function t(e){dt()(this,t),this.debugAppKey="LOGDEBUGKEY00001",this.isDebug=Object(D.g)(),this.defaultData={deviceId:"",initTime:"",language:"",pixel:"",sdkVersion:"3.1.43-web"},this.deviceID="",e?(Object(D.n)(e.appkey)||Object(zi.a)("appKey 必须是 String"),this.appkey=e.appkey,this.versionCode=e.versionCode||"2.11.1",this.openid=e.openid||"openid",this.channelID=e.channelID||"channel",e.isDebug&&(this.isDebug=!0),this.initDefaultData()):Object(zi.a)("缺少参数")}return ht()(t,[{key:"onUserAction",value:function(t,e){this.report(t,e)}},{key:"onDirectUserAction",value:function(t,e){this.report(t,e,!0)}},{key:"getDeviceId",value:function(){return this.deviceID?this.deviceID:(this.deviceID=D.b&&D.b.localStorage.getItem("AlloyReport-Beacon-Device")||"",this.deviceID||(this.deviceID=Object(D.u)(32),D.b&&D.b.localStorage.setItem("AlloyReport-Beacon-Device",this.deviceID)),this.deviceID)}},{key:"addAdditionalParams",value:function(){}},{key:"reportPV",value:function(){}},{key:"setOpenId",value:function(t){this.openid=t}},{key:"report",value:function(t,e,n){if(Object(D.n)(t)){var r=Object(D.e)(),o={};for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];if(!Object(D.m)(a))return void Object(zi.a)("参数必须是 String 或 Number 类型");o[i]=a}var u=[{data:{id:"null1591619692845",pages:[],start:r,status:2,duration:n?0:3e3,events:[{id:t,name:t,start:r,count:1,params:o}]},type:2}],c={appkey:this.isDebug?this.debugAppKey:this.appkey,versionCode:this.versionCode,channelID:this.channelID,opid:this.openid,deviceId:this.defaultData.deviceId,initTime:this.defaultData.initTime,language:this.defaultData.language,pixel:this.defaultData.pixel,sdkVersion:this.defaultData.sdkVersion,msgs:u};P.a.report(c,{},n)}else Object(zi.a)("eventCode 需要是 String 类型")}},{key:"initDefaultData",value:function(){this.defaultData.sdkVersion="VERSION",this.defaultData.language=D.b&&D.b.navigator&&D.b.navigator.language||"",this.defaultData.initTime=String(Object(D.e)());var t=D.b&&D.b.screen||{},e=t.width,n=void 0===e?0:e,r=t.height,o=[n,void 0===r?0:r];D.b&&D.b.devicePixelRatio&&o.push(D.b.devicePixelRatio),this.defaultData.pixel=o.join("*"),this.defaultData.deviceId=this.getDeviceId()}}]),t}(),ba=Object(M.d)((function(t,e){if(L.a.onReceiveReporter(A.ZZS,t,e),"string"!=typeof t.attrid)return console.warn("invalid id");L.a.onHanldeParams(A.ZZS,t),P.i.report(t,{},e)}));function _a(t,e,n,r){var o,i,a,u=new XMLHttpRequest;u.withCredentials=null===(o=null==r?void 0:r.withCredentials)||void 0===o||o,u.open(e,t),u.setRequestHeader("content-type",null!==(i=null==r?void 0:r.contentType)&&void 0!==i?i:"application/x-www-form-urlencoded"),u.setRequestHeader("accept",null!==(a=null==r?void 0:r.accept)&&void 0!==a?a:"application/json, text/plain, */*"),u.send((null==r?void 0:r.preventTransFormData)?n:function(t){var e="";for(var n in t)if(t[n]instanceof Array)for(var r in t[n])void 0!==r&&(e+="".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t[n][r]),"&"));else e+="".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t[n]),"&");return e=e.slice(0,-1)}(n))}var Oa,wa=n(18);!function(t){t[t.IDKEY=2]="IDKEY"}(Oa||(Oa={}));var Ta,Ea,Sa=new(function(){function t(){dt()(this,t),this.timer=null,this.delayLogList=[],this.delayReportTime=2}return ht()(t,[{key:"report",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{immediate:!1};if(!x&&Object(wa.a)())try{this.beforeReport(t),n.immediate?this.send([t]):this.delayLogList.push(t),!this.timer&&this.delayLogList.length>0&&(this.timer=setTimeout((function(){e.send(e.delayLogList),e.delayLogList=[],e.timer=null}),1e3*this.delayReportTime))}catch(t){console.log("report err",t)}}},{key:"send",value:function(t){if(0!==t.length){var e=t.map((function(t){return JSON.stringify(t)}));this.sendReport(e)}}},{key:"beforeReport",value:function(t){t.value||(t.value=1)}},{key:"sendReport",value:function(t){_a("/info/report","POST",{func:Oa.IDKEY,items:t})}}]),t}());function xa(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;Sa.report({logid:t,sublogid:e,value:n},r)}!function(t){t[t.OSS=1]="OSS"}(Ta||(Ta={})),function(t){t[t.WEDOC=1]="WEDOC",t[t.QQMAIL=2]="QQMAIL"}(Ea||(Ea={}));var ja,Ra={},Aa=null;if(Object(D.j)()){var Ca=O.a.getWxWorkVersion();Aa=Ca?"".concat(Ca).concat(O.a.isWxWorkQt?"-qt":""):O.a.getChromeVersion()}function ka(){return Ra}function Ia(){return t={DocID:Object(K.v)(),creator_corpid:Object(K.j)(),file_type:Object(K.p)(!0),auth:Object(K.A)(),application:Object(K.c)(),platform:Object(K.z)(),CropID:Object(K.h)(),version:Aa,vid:Object(K.H)(),page:Object(K.x)()},Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r?(e[n]=r,e):e}),{});var t}function Pa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(Ra,Ia(),t)}Pa();var Da=/^(logid|itemname|xmuin|value|val|sublogid|vid)$/i,Ma=(ja={wedocs:{logid:24317,expand:["CropID","DocID","Channel1","Channel2","Extra1","Extra2"]},edit:{logid:24316,expand:["CropID","DocID"]},personal:{logid:24315,expand:["CropID","DocID","Channel1","Channel2","Extra1","Extra2"]},wxwork:{logid:24885,expand:["CropID","DocID","Channel1","Channel2","Extra1","Extra2","Extra3","Extra4","Extra5"]}},k()(ja,"25945",{logid:25945,expand:["DocID","CreatorCorpid","FileType","Auth","Application","Platform","Version","Page","CropID","Channel1","Channel2","Extra1"]}),k()(ja,"wecomDocs",{logid:26085,expand:["DocID","CreatorCorpid","FileType","Auth","Application","Platform","Version","Page","CropID","Channel1","Channel2","Extra1","Extra2","Extra3","GrayConfig"]}),ja);function La(t){return t.replace(/(^[a-z]|_[a-z])/g,(function(t){return t.replace(/_/g,"").toUpperCase()}))}var Na=ht()((function t(){var e=this;dt()(this,t),this.resetDefaultOssData=Pa,this.url="/info/report",this.delayLogList=[],this.timer=null,this.inited=!1,this.init=function(t){e.corpId=t.corpId,e.id=t.docId,e.channel=t.channel||Ea.WEDOC,e.inited=!0},this.oss=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{e.report(Ta.OSS,t,n)}catch(t){console.error("KVR OSS error",t)}},this.initFromDefaultOssData=function(){var t=ka(),n=t.CropID,r=t.DocID;n&&r?e.init({corpId:n,docId:r}):console.error("缺少DocId或CropID，执行KVR.resetDefaultOssData({DocID})设置")},this.report=function(t,n,r){if(!x&&Object(wa.a)()){if(!e.inited){var o=ka();Pa(Object.assign({},o)),e.initFromDefaultOssData()}n.biz=n.biz||"wedocs",r?e.delayLogList.push(n):e.doReport([n],t),!e.timer&&e.delayLogList.length>0&&(e.timer=setTimeout((function(){e.doReport(e.delayLogList,t),e.delayLogList=[]}),1e3))}},this.doReport=function(t,n){e.timer&&clearTimeout(e.timer),e.timer=null,_a(e.url,"POST",{func:n,items:e.transformRequest(t)})},this.transformRequest=function(t){return t.map((function(t){var n,r,o={};if(Object.keys(t).forEach((function(e){Da.test(e)&&(o[e]=t[e])})),o.value=null!==(r=null!==(n=o.value)&&void 0!==n?n:o.val)&&void 0!==r?r:1,t.biz){var i=Ma[t.biz];if("wecomDocs"===t.biz){var a={},u=ka();Object.keys(u).forEach((function(t){a[La(t)]=u[t]})),Object.keys(t).forEach((function(e){a[La(e)]=t[e]})),t=a}i&&(Array.isArray(i.expand)&&(o.expand=i.expand.map((function(n){var r;return"CropID"!==n||t[n]?"DocID"!==n||t[n]?"Channel1"===n&&"wedocs"===t.biz?e.channel:null!==(r=t[n])&&void 0!==r?r:"":e.id:e.corpId})).join(",")),!o.logid&&i.logid&&(o.logid=i.logid),o.source=e.channel===Ea.QQMAIL?"qqmail":"wecom")}return JSON.stringify(o)}))}})),Ba=new Na,Ua=n(2);var Fa,qa,Wa,Va,Qa=n(32),Ha=function(t,e){var n,r,o,i=(null!==(n=t.uid)&&void 0!==n?n:Object(K.E)())||0,a=Object.assign(Object.assign({biz_id:9481,category:Object(K.p)(),corpid:Object(K.h)(),wxwork_version:Object(K.J)(),web_version:Object(K.s)(),user_agent:null===(r=window.navigator)||void 0===r?void 0:r.userAgent,freego_proxy:Object(ca.a)("free_go_proxy"),docid:Object(K.v)(),platform:Object(K.z)()},t),{tipType:void 0,tip_type:t.tipType,msg:t.message||t.msg,code:String(null!==(o=t.code)&&void 0!==o?o:"0"),userId:String(i),dver:Object(K.n)()});Ya.report(a,t.code&&0!==t.code||e)},Ga=n(15),Ka=(Fa={},k()(Fa,Ga.d.Doc,9506),k()(Fa,Ga.d.Sheet,9482),k()(Fa,Ga.d.SmartSheet,9482),Fa),za=function(t,e){var n,r,o,i=t.category||Object(K.p)(),a=Ka[i];a||(a=9517);var u=(null!==(n=t.uid)&&void 0!==n?n:Object(K.E)())||0,c=Object.assign(Object.assign({biz_id:a,corpid:Number(Object(K.h)()),wxwork_version:Object(K.J)(),web_version:Object(K.s)(),user_agent:null===(r=window.navigator)||void 0===r?void 0:r.userAgent,freego_proxy:Object(ca.a)("free_go_proxy"),docid:Object(K.v)()},t),{dver:null!==(o=null==t?void 0:t.dver)&&void 0!==o?o:Object(K.n)(),category:i,userId:String(u)});Ya.report(c,e)},Xa=(qa={},k()(qa,Ga.d.Sheet,11399),k()(qa,Ga.d.SmartSheet,11399),k()(qa,"tdocsJSAPI",11225),qa),Ja=function(t,e){var n,r=Xa[t.category];r||(r=11225);var o=Object(B.a)(),i=Object.assign(Object.assign(Object.assign({},o),t),{user_mac:"object"===("undefined"==typeof window?"undefined":Ki()(window))&&(null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||""}),a={biz_id:r};Object.entries(i).forEach((function(t){var e=ut()(t,2),n=e[0],r=e[1];try{if(null==r)return;"object"===Ki()(n)?a[n]=JSON.stringify(r):a[n]=String(r)}catch(t){a[n]=r}})),Ya.report(a,e)},Ya=new(function(){function t(){var e=this;dt()(this,t),this.timer=null,this.delayLogList=[],this.delayReportTime=1,this.config=null,this.initCubeReport=function(t){e.config=t},this.report=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{e.beforeReport(t),n?e.send([t]):e.delayLogList.push(t),!e.timer&&e.delayLogList.length>0&&(e.timer=setTimeout((function(){e.send(e.delayLogList),e.delayLogList=[],e.timer=null}),1e3*e.delayReportTime))}catch(t){console.log("report err",t)}},this.tips=Ha,this.retcode=fa,this.tdw=Ja,this.wdocs=function(t,n){var r,o,i;za(Object.assign({category:null===(r=e.config)||void 0===r?void 0:r.category,uid:null===(o=e.config)||void 0===o?void 0:o.uid,dver:null===(i=e.config)||void 0===i?void 0:i.dver},t),n)},this.wecomDocs=function(t,n){var r,o;e.report(Object.assign(Object.assign({biz_id:8672},t),{platform:null!==(r=t.platform)&&void 0!==r?r:Qa.a.source,source:null!==(o=t.source)&&void 0!==o?o:Qa.a.source,version:Object(K.s)()}),n)}}return ht()(t,[{key:"send",value:function(t){var e=JSON.stringify(t);_a("https://cube.weixinbridge.com/cube/report/reportbizdata?f=json","POST",e=e.replace(/&/g,"%26"),{contentType:"application/json;charset=UTF-8",accept:"*/*",preventTransFormData:!0,withCredentials:!1})}},{key:"beforeReport",value:function(t){var e,n,r,o,i,a,u,c,s,l,f,d;for(var p in t.time=null!==(e=t.time)&&void 0!==e?e:Math.floor((new Date).getTime()/1e3),t.biz_id||((null===(n=this.config)||void 0===n?void 0:n.bizId)?t.biz_id=null===(r=this.config)||void 0===r?void 0:r.bizId:(t.biz_id=1076,t.action=null!==(o=t.action)&&void 0!==o?o:"ufs",t.uid=null!==(u=null!==(i=t.uid)&&void 0!==i?i:null===(a=this.config)||void 0===a?void 0:a.uid)&&void 0!==u?u:0,t.uin=null!==(l=null!==(c=t.uin)&&void 0!==c?c:null===(s=this.config)||void 0===s?void 0:s.uin)&&void 0!==l?l:0,t.file_type=null!==(d=null===(f=this.config)||void 0===f?void 0:f.fileType)&&void 0!==d?d:99,t.source1=Object(D.j)()?Object(Ua.V)()?Object(Ua.E)()?10:Object(Ua.t)()?2:Object(Ua.K)()?Object(Ua.M)()?6:3:4:Object(Ua.S)()?5:1:"node",t.source2=Object(j.g)())),t){var h=p.substring(0,3);["ver","obj"].indexOf(h)>-1&&t[p]&&(t[p]=t[p].toString())}}}]),t}()),$a={Sheet:"sheet",Backend:"backend",WxJsSdk:"WxJsSdk",Mqq:"Mqq",Fc:"fc",Sc:"sc",Ark:"ark",DC:"dc",Doc:"doc",BlankPage:"blankPage",Slide:"slide",PDF:"pdf",Board:"board",Form:"form",Scenario:"scenario",SmartSheet:"smartSheet"},Za=!1;function tu(t,e,n){Za||(Wa=Object(K.p)()||"other",Va={domain:Qa.a.domain,tenant:Qa.a.tenant,third:Qa.a.client,platform:Qa.a.platform,source:Qa.a.source,version:Object(K.s)(),env:Qa.a.env},Za=!0);var r=Object.assign(Object.assign({project:null!=n?n:Wa},Va),t);if(E)"status"===t.type?Mi(r):Li(r);else if(!x)return ba(r,e)}function eu(t,e,n){tu(Object.assign({type:"status"},t),e,n)}function nu(t,e,n){tu(Object.assign({type:"value"},t),e,n)}var ru=1,ou="tip",iu="http.host",au=function(t,e){var n,r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];x||E||(t.browserStr=Object(K.e)(),o&&uu(t),i&&cu(t),e&&su(e,t),Object(K.s)()||"sheet"!==t.padType||null===(r=null===(n=window.log)||void 0===n?void 0:n.report)||void 0===r||r.call(n,"tips-report-release-nil"))},uu=function(t){var e,n;if(!x){var r=t.errorCode,o=t.padType,i=t.type,a=void 0===i?"error":i;null===(n=null===(e=window.log)||void 0===e?void 0:e[a])||void 0===n||n.call(e,"".concat(o,"-").concat(r),t)}};function cu(t){x||eu({attrid:t.errorCode,status:ru,project:ou,errmsg:t.snackbarMsg,dimensions:[t.padType,t.type,t.requestId||"",t.mutationId||"",t.docId||"",t.mutationSource||""]})}function su(t,e){if(!x){var n=t.startSpan(e.errorCode,{attributes:k()({errorCode:e.errorCode,padType:e.padType,url:e.url,uid:e.uid,type:e.type,isLogin:e.isLogin,browserStr:e.browserStr,snackbarMsg:e.snackbarMsg,version:window.__globalReleaseVersion},iu,U.a)});n.addEvent("other",{message:e.message,tipsCustom:"object"===Ki()(e.tipsCustom)?JSON.stringify(e.tipsCustom):e.tipsCustom}),n.end()}}var lu=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return au(t,void 0,e,n)},fu=n(44);n.d(e,"huatuo",(function(){return Zi})),n.d(e,"monitor",(function(){return ta})),n.d(e,"performance",(function(){return oa})),n.d(e,"retcode",(function(){return ia})),n.d(e,"retcodeEnt",(function(){return fa})),n.d(e,"tdbank",(function(){return da})),n.d(e,"tdwReport",(function(){return G})),n.d(e,"resetDefaultTdwData",(function(){return B.b})),n.d(e,"jank",(function(){return ma})),n.d(e,"Beacon",(function(){return ya})),n.d(e,"zzs",(function(){return ba})),n.d(e,"idkey",(function(){return xa})),n.d(e,"KVR",(function(){return Ba})),n.d(e,"KVRReporter",(function(){return Na})),n.d(e,"cube",(function(){return Ya})),n.d(e,"Channel",(function(){return Ea})),n.d(e,"tdwSingle",(function(){return Ui})),n.d(e,"tdw",(function(){return Bi})),n.d(e,"LogPadType",(function(){return $a})),n.d(e,"tipReport",(function(){return au})),n.d(e,"webLog",(function(){return uu})),n.d(e,"webLogAndEsReport",(function(){return lu})),n.d(e,"tip007",(function(){return cu})),n.d(e,"tipOpentelemetryLog",(function(){return su})),n.d(e,"zzsStatus",(function(){return eu})),n.d(e,"zzsValue",(function(){return nu})),n.d(e,"userAgent",(function(){return fu.b})),n.d(e,"UserAgent",(function(){return fu.a})),!0!==window[Fi]&&(O.a.isMiniProgram||(Vi()&&(Wi=ji.ACTIVE,window[Fi]=!0,Qi()),_.addEventListener("statechange",(function(){var t=Vi();t&&Wi===ji.PAUSE?(Wi=ji.ACTIVE,Qi()):t||Wi!==ji.ACTIVE||(Wi=ji.PAUSE,clearTimeout(qi))}))))},function(t,e,n){"use strict";var r=n(39),o=n.n(r),i=n(7),a=n.n(i),u=n(6),c=n.n(u),s=["onReceiveReporter","onHanldeParams","onBeforeCommonReport","onBeforeMergeReport","onBeforeReportSend","onReportSenderError","onReportSenderSuccess","onReportSenderTimeout"],l=n(5),f=n(9),d=n(10),p=n(24),h=(n(55),a()((function t(){var e=this;c()(this,t),this.addHooks=function(t,n){"function"==typeof n?-1!==s.indexOf(t)?(f.c.on(t,n),e.syncHooksToWorker(t,"add")):Object(l.d)("不支持的钩子"):Object(l.d)("参数必须是函数")},this.removeHooks=function(t,n){f.c.remove(t,n),e.syncHooksToWorker(t,"remove")},this.execute=function(t,e){f.c.trigger.apply(f.c,[t].concat(o()(e)))},this.getExecuteFunction=function(t){return function(){if(f.c.getLength(t)){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];f.c.trigger.apply(f.c,[t].concat(n))}}},this.syncHooksToWorker=function(t,e){if(Object(d.a)()){var n={name:t,action:e};p.a.postMessageToWorker({type:"hooks",payload:n})}},this.onReceiveReporter=this.getExecuteFunction("onReceiveReporter"),this.onHanldeParams=this.getExecuteFunction("onHanldeParams"),this.onBeforeCommonReport=this.getExecuteFunction("onBeforeCommonReport"),this.onBeforeMergeReport=this.getExecuteFunction("onBeforeMergeReport"),this.onBeforeReportSend=this.getExecuteFunction("onBeforeReportSend"),this.onReportSenderError=this.getExecuteFunction("onReportSenderError"),this.onReportSenderSuccess=this.getExecuteFunction("onReportSenderSuccess"),this.onReportSenderTimeout=this.getExecuteFunction("onReportSenderTimeout")})));e.a=new h},function(t,e,n){"use strict";var r=n(6),o=n.n(r),i=n(7),a=n.n(i),u=n(1),c=n(10),s=n(24),l=n(5),f=n(18),d=n(31),p=n(8),h=function(){function t(){var e=this;o()(this,t),this.configs={mergeQueueConfig:{sourceKey:"report_source_v2",pendingKey:"report_pending_v2",maxInBatch:5e4,maxSize:5e4},enableMergeReport:!0,cgiURL:Object(f.a)()?Object(d.b)(d.a.merge):"".concat(p.l,"/node/report/"),backupUrl:"".concat(p.l,"/node_b/"),isLogPrint:Object(u.g)(),isCloseReport:Object(u.f)(),expiredTime:6048e5,supportOffline:!0,maxStoreReport:1e4,headRequest:!0,enableWorker:!0},this.closeLog=function(){e.configs.isLogPrint=!1,Object(l.e)(!1),e.syncConfigToWorker()},this.openLog=function(){e.configs.isLogPrint=!0,Object(l.e)(!0),e.syncConfigToWorker()},this.closeReport=function(){e.configs.isCloseReport=!0,e.syncConfigToWorker()},this.openReport=function(){e.configs.isCloseReport=!1,e.syncConfigToWorker()},this.enableMerge=function(){e.configs.enableMergeReport=!0,e.syncConfigToWorker()},this.disableMerge=function(){e.configs.enableMergeReport=!1,e.syncConfigToWorker()},this.disableWorker=function(){e.configs.enableWorker=!1,s.a.terminateWorker()},this.reset=function(t){Object(u.q)(e.configs,t),Object(l.e)(e.configs.isLogPrint),e.syncConfigToWorker()},this.syncConfigToWorker=function(){if(Object(c.a)()){var t=JSON.parse(JSON.stringify(e.configs));s.a.postMessageToWorker({type:"config",payload:t})}},this.syncConfigToWorker()}return a()(t,[{key:"mergeQueueConfig",get:function(){return this.configs.mergeQueueConfig}},{key:"enableMergeReport",get:function(){return this.configs.enableMergeReport}},{key:"cgiURL",get:function(){return this.configs.cgiURL}},{key:"isLogPrint",get:function(){return this.configs.isLogPrint}},{key:"isCloseReport",get:function(){return this.configs.isCloseReport}},{key:"expiredTime",get:function(){return this.configs.expiredTime}},{key:"supportOffline",get:function(){return this.configs.supportOffline}},{key:"maxStoreReport",get:function(){return this.configs.maxStoreReport}},{key:"headRequest",get:function(){return this.configs.headRequest}},{key:"enableWorker",get:function(){return this.configs.enableWorker}}]),t}();e.a=new h},function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"h",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return u}));var r,o,i,a,u,c={doc:1,sheet:2,form:3,slide:4,pdf:7,mind:8,flowchart:9,rec:10,smartcanvas:14,resume:15,board:12},s=-1,l={errorNumber:-1,trueNumber:1,falseNumber:0};!function(t){t[t.error=-1]="error",t[t.owner=0]="owner",t[t.writer=1]="writer",t[t.reader=2]="reader"}(r||(r={})),function(t){t.CLIENT="client",t.MOBILE="mobile",t.WECHAT="wechat",t.BROWSER="browser",t.OTHER="other"}(o||(o={})),function(t){t.ANDROID="android",t.iOS="iOS",t.WIN="win",t.MAC="mac",t.Harmony="harmony",t.OTHER="other"}(i||(i={})),function(t){t.tab_timeline="tab-timeline",t.tab_all="tab-all",t.detail="detail",t.setting_auth="setting-auth",t.template="template",t.error="error",t.activities="activities",t.login="login",t.member="member",t.tab_container="tab-container",t.tab_icon="tab-icon",t.m_setting_auth="m-setting-auth",t.m_detail_menu="m-detail-menu",t.m_tab_all_menu="m-tab-all-menu",t.m_activities="m- activities",t.m_member="m-member",t.m_form_app="m-form-app",t.m_gourp_form_app="m-gourp-form-app",t.m_tab_timeline="m-tab-timeline",t.m_tab_all="m-tab-all",t.m_group_doc="m-group-doc"}(a||(a={})),function(t){t.Doc="doc",t.Sheet="sheet",t.Slide="slide",t.Form="form",t.Pdf="pdf",t.Board="board",t.Mind="mind",t.FlowChart="flowchart",t.Aio="Aio",t.Folder="folder",t.SmartSheet="smartsheet",t.Drive="drive"}(u||(u={}))},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r,o,i,a=n(39),u=n.n(a),c=n(6),s=n.n(c),l=n(7),f=n.n(l);!function(t){t[t.NO_WORKER=35056324]="NO_WORKER",t[t.NO_INDEDEDDB=35056325]="NO_INDEDEDDB",t[t.WORKER_FAIL=34981047]="WORKER_FAIL",t[t.SDK_LOAD=34980701]="SDK_LOAD",t[t.INDEDEDDB_OPEN_FAIL=34981048]="INDEDEDDB_OPEN_FAIL",t[t.INDEDEDDB_OVER_LIMIT=34981049]="INDEDEDDB_OVER_LIMIT",t[t.INDEDEDDB_OVER_TIME=34986191]="INDEDEDDB_OVER_TIME",t[t.REPORT_NONE=34987578]="REPORT_NONE"}(r||(r={})),function(t){t.INLINE_LOAD_COST="inline-load-cost",t.SDK_LOAD_COST="sdk-load-cost",t.REPORT_TOTAL="report-total",t.REPORT_FAIL="report-fail",t.REPORT_OFFLINE="report-offline",t.REPORT_ONEXIT="report-onexit"}(o||(o={})),function(t){t[t.SUM=1]="SUM",t[t.AVERAGE=2]="AVERAGE"}(i||(i={}));var d=n(9),p=n(5);n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var h=function(){function t(){var e=this;s()(this,t),this.projectID=64,this.pageName="sdk-inside",this.dataDBKey="ALLOYREPORT_REPORT_INSIDE",this.getLastInsideDatas=function(){var t=[],n=[],r=window.localStorage&&window.localStorage.getItem(e.dataDBKey);if(r)try{(r=JSON.parse(r))&&(t=r.monitor,n=(n=r.adt).map((function(t){return Object.assign({projectid:e.projectID,pagename:e.pageName},t)}))),window.localStorage.removeItem(e.dataDBKey)}catch(t){}return{monitor:t,adt:n}},this.saveInsideDatas=function(){var t,n;if(window&&window.localStorage){var r=window.localStorage.getItem(e.dataDBKey);if(r)try{r=JSON.parse(r)}catch(t){Object(p.a)(t)}else r={};var o=r,i=o.monitor,a=void 0===i?[]:i,c=o.adt,s=void 0===c?[]:c;if((t=e.monitorID).push.apply(t,u()(a)),(n=e.adtDatas).push.apply(n,u()(s)),e.monitorID.length||e.adtDatas.length){var l=JSON.stringify({monitor:e.monitorID,adt:e.adtDatas});window.localStorage.setItem(e.dataDBKey,l),e.monitorID=[],e.adtDatas=[]}}},this.adtDatas=[],this.monitorID=[],this.pointIDValues={},this.isMainHandledExit=!1,this.initEvent(),this.doResourceReport(),this.doReceiveNoneReport()}return f()(t,[{key:"monitor",value:function(t){this.monitorID.push(t)}},{key:"adt",value:function(t,e){this.adtDatas.push({pointid:t,pointvalue:e})}},{key:"adtSum",value:function(t,e){this.pointIDValues[t]||(this.pointIDValues[t]=[0,0,i.SUM]),this.pointIDValues[t][0]+=e,this.pointIDValues[t][1]+=1}},{key:"adtAverage",value:function(t,e){this.pointIDValues[t]||(this.pointIDValues[t]=[0,0,i.AVERAGE]),this.pointIDValues[t][0]+=e,this.pointIDValues[t][1]+=1}},{key:"mergeIDValuesToAdt",value:function(){for(var t=Object.keys(this.pointIDValues),e=0;e<t.length;e++){var n=t[e],r=this.pointIDValues[n],o=0;r[2]===i.SUM?o=r[0]:r[2]===i.AVERAGE&&(o=r[0]/r[1]),this.adtDatas.push({pointid:n,pointvalue:o})}}},{key:"syncDatasToMainThread",value:function(){this.mergeIDValuesToAdt();var t={monitor:this.monitorID,adt:this.adtDatas};self.postMessage({type:"reportInside",datas:t})}},{key:"initEvent",value:function(){var t=this;d.b.on("beforeunload",(function(){t.isMainHandledExit=!0,t.mergeIDValuesToAdt(),t.saveInsideDatas()})),d.b.on("reportInside",(function(e){var n,r,o=e.datas,i=void 0===o?{}:o;t.mergeIDValuesToAdt();var a=i.monitor,c=i.adt;(n=t.monitorID).push.apply(n,u()(a)),(r=t.adtDatas).push.apply(r,u()(c)),t.saveInsideDatas()}))}},{key:"doResourceReport",value:function(){var t=window&&(window.performance||window.webkitPerformance||window.msPerformance)||null,e=null;if(t&&t.getEntries?e=t.getEntries():t&&t.getEntriesByType&&(e=t.getEntriesByType("resource")),e)for(var n=e.length,r=0;r<n;r++){var i=e[r],a=i.name,u=i.duration,c=i.initiatorType;"script"===(c=c&&c.toLocaleLowerCase&&c.toLocaleLowerCase())&&(u=parseFloat(u.toFixed(2)),-1!==a.indexOf("alloyreport.inline.js")?this.adt(o.INLINE_LOAD_COST,u):-1!==a.indexOf("alloyreport.sdk.js")&&this.adt(o.SDK_LOAD_COST,u))}}},{key:"doReceiveNoneReport",value:function(){var t=this;setTimeout((function(){t.pointIDValues[o.REPORT_TOTAL]||t.monitor(r.REPORT_NONE)}),6e4)}}]),t}();e.c=new h},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r,o=n(8),i=(n(20),[o.p,o.o]),a=(r=i.includes("undefined"!=typeof location&&location.origin.split("//")[1]||""),function(){return r})},function(t,e,n){"use strict";var r,o,i=n(6),a=n.n(i),u=n(7),c=n.n(u),s=n(1),l=n(10),f=n(14);!function(t){t[t.GET=0]="GET",t[t.POST=1]="POST",t[t.HEAD=2]="HEAD",t[t.BEACON=3]="BEACON"}(r||(r={})),function(t){t.HUATUO="huatuo",t.MONITOR="monitor",t.RETCODE="retcode",t.TDBANK="tdbank",t.TDW="tdw",t.COMMON="common",t.BEACON="beacon",t.ZZS="zzs"}(o||(o={}));var d,p,h=n(5),v=function(){function t(){a()(this,t),this.MemStore={},this.isWxStorage=2===s.p}return c()(t,[{key:"set",value:function(t,e){if(s.p)try{return this.isWxStorage?s.c&&s.c.setStorageSync(t,e):s.b&&s.b.localStorage.setItem(t,JSON.stringify(e)),!0}catch(t){}return!1}},{key:"get",value:function(t,e){var n;if(s.p)try{this.isWxStorage?n=s.c&&s.c.getStorageSync(t):(n=s.b&&s.b.localStorage.getItem(t)).length>512e3?(n=e,Object(h.d)("警告：调用频率过高，部分上报数据已丢失")):n=JSON.parse(n)}catch(t){}return n||(n=e,e&&this.set(t,n)),n}}]),t}(),g=n(28),m=n.n(g),y=n(21),b=n.n(y),_=n(9),O=n(50),w=n(17),T=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},E=function(){function t(){var e=this;a()(this,t),this.databaseName="AlloyReport-DB",this.tableName="AlloyReport-Table",this.expiredTime=Object(s.e)()-f.a.expiredTime,this.tsRangeExpired=IDBKeyRange.upperBound(this.expiredTime,!0),this.tsRangeNotExpired=IDBKeyRange.lowerBound(this.expiredTime,!1),this.statistic={},this.readonly="readonly",this.readwrite="readwrite",this.addDataCache=[],this.overLimitReport=!1,this.dbDataCache={},this.addBatch=function(){return T(e,void 0,void 0,b.a.mark((function t(){var e=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T(e,void 0,void 0,b.a.mark((function t(){var e,n,r,o,i,a=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDB();case 2:e=t.sent,n=e.transaction(this.tableName,this.readwrite),r=n.objectStore(this.tableName),o=this.addDataCache,this.addDataCache=[],i=o.map((function(t){return new Promise((function(e){var n=t.key,o=t.data,i=t.tryTimes,u=o.ts,c=r.add({key:n,data:o,tryTimes:0,ts:u});c.onsuccess=function(t){var r=t.target.result;a.setStatistic(n,r,u,i,o),e(!0)},c.onerror=function(t){Object(h.a)(t),e(!1)}}))})),Promise.all(i).then((function(){2===a.initedStatistic&&_.a.trigger("indexedDBDispatch",a.statistic)})).catch((function(t){Object(h.a)(t)}));case 9:case"end":return t.stop()}}),t,this)})));case 1:case"end":return t.stop()}}),t)})))},this.handleFailByIDs=function(t,n){return T(e,void 0,void 0,b.a.mark((function e(){var r,o,i,a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.statistic[t]){e.next=3;break}return e.abrupt("return");case 3:o=[],i=[],Object(s.r)(r,(function(e,r){var u=parseInt(e);if(-1!==n.indexOf(u)){var c=m()(r,2),s=c[0],l=c[1];!l||l<1?(o.push(u),a.setStatistic(t,u,s,1)):(i.push(u),delete a.statistic[t][u])}})),this.query("id",this.readwrite,void 0,null,(function(t,e,n){-1!==i.indexOf(t.id)?e.delete(n.primaryKey):-1!==o.indexOf(t.id)&&e.put({id:t.id,key:t.key,data:t.data,tryTimes:1,ts:t.ts})})).then((function(){setTimeout((function(){_.a.trigger("indexedDBDispatch",a.statistic,t)}),1e3*Math.floor(120*Math.random()+30))})),w.c.adtSum(w.a.REPORT_FAIL,i.length);case 8:case"end":return e.stop()}}),e,this)})))},this.deleteByIDs=function(t){return T(e,void 0,void 0,b.a.mark((function e(){var n,r,o,i,a,u,c,s,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=Object.keys(this.statistic),r=0;r<n.length;r++)for(o=n[r],i=0;i<t.length;i++)a=t[i],delete this.statistic[o][a];return e.next=4,this.getDB();case 4:for(u=e.sent,c=u.transaction(this.tableName,this.readwrite),s=c.objectStore(this.tableName),l=0;l<t.length;l++)s.delete(t[l]);case 8:case"end":return e.stop()}}),e,this)})))},this.initIndexedDB(),_.a.on("dispatchSuccessID",this.deleteByIDs),_.a.on("dispatchFailID",this.handleFailByIDs)}return c()(t,[{key:"add",value:function(t){return T(this,void 0,void 0,b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.addDataCache.push(t),Object(O.a)("dbAddBatch",this.addBatch,100);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"queryByIDs",value:function(t){return T(this,void 0,void 0,b.a.mark((function e(){var n,r,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=!0,o=0;case 3:if(!(o<t.length)){e.next=14;break}if(!(i=this.dbDataCache[t[o]])){e.next=9;break}n.push(i),e.next=11;break;case 9:return r=!1,e.abrupt("break",14);case 11:o++,e.next=3;break;case 14:if(!r){e.next=16;break}return e.abrupt("return",Promise.resolve(n));case 16:return e.abrupt("return",this.query("id",this.readonly,void 0,(function(e){return-1!==t.indexOf(e.id)})));case 17:case"end":return e.stop()}}),e,this)})))}},{key:"getStatistic",value:function(){return this.statistic}},{key:"query",value:function(t,e,n,r,o){return T(this,void 0,void 0,b.a.mark((function i(){var a=this;return b.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,u){return T(a,void 0,void 0,b.a.mark((function a(){var u,c,s,l,f;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getDB();case 2:u=a.sent,c=u.transaction(this.tableName,e),s=c.objectStore(this.tableName),l=s.index(t).openCursor(n),f=[],l.onsuccess=function(t){var e=l.result;e?(r&&r(e.value),f.push(e.value),o&&o(e.value,s,e),e.continue()):i(f)},l.onerror=function(t){Object(h.a)(t),i(t)};case 9:case"end":return a.stop()}}),a,this)})))})));case 1:case"end":return i.stop()}}),i)})))}},{key:"getDB",value:function(){return this.cacheGetDBPromise?this.cacheGetDBPromise:this.db?this.db:(this.cacheGetDBPromise=this.initIndexedDB(),this.cacheGetDBPromise)}},{key:"initIndexedDB",value:function(){var t=this;return new Promise((function(e){var n=indexedDB.open(t.databaseName);n.onerror=function(t){w.c.monitor(w.b.INDEDEDDB_OPEN_FAIL),Object(h.a)("打开 indexdb 失败。",t)},n.onsuccess=function(n){t.db=n.target.result,Object(h.b)("打开 indexdb 成功"),t.initStatistic(),e(t.db)},n.onupgradeneeded=function(e){var n=e.target.result;if(!n.objectStoreNames.contains(t.databaseName)){var r=n.createObjectStore(t.tableName,{keyPath:"id",autoIncrement:!0});r.createIndex("key","key",{unique:!1}),r.createIndex("tryTimes","tryTimes",{unique:!1}),r.createIndex("ts","ts",{unique:!1}),r.createIndex("id","id",{unique:!1})}}}))}},{key:"setStatistic",value:function(t,e,n,r,o){this.statistic[t]||(this.statistic[t]={});var i=this.statistic[t];if(i[e]=[n,r],o){this.dbDataCache[e]={id:e,key:t,data:o,tryTimes:r,ts:n};var a=Object.keys(this.dbDataCache);if(a.length>50){a.sort();for(var u=a.slice(0,a.length-50).map((function(t){return parseInt(t)})),c=0;c<u.length;c++)delete this.dbDataCache[u[c]]}}else delete this.dbDataCache[e];var s=Object.keys(i),l=s.length,d=f.a.maxStoreReport;if(l>d){s.sort();var p=s.slice(0,l-d).map((function(t){return parseInt(t)}));this.deleteByIDs(p),this.overLimitReport||(this.overLimitReport=!0,w.c.monitor(w.b.INDEDEDDB_OVER_LIMIT))}}},{key:"initStatistic",value:function(){var t=this;this.initedStatistic||(this.initedStatistic=1,this.query("ts",this.readonly,this.tsRangeNotExpired,null,(function(e){var n=e.id,r=e.ts,o=e.tryTimes,i=e.key;t.setStatistic(i,n,r,o)})).then((function(){t.initedStatistic=2,_.a.trigger("indexedDBDispatch",t.statistic,null)})).catch((function(){t.initedStatistic=2,_.a.trigger("indexedDBDispatch",t.statistic,null)})),this.deleteExpiredReporter())}},{key:"deleteExpiredReporter",value:function(){return T(this,void 0,void 0,b.a.mark((function t(){var e,n=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,t.abrupt("return",new Promise((function(t,r){return T(n,void 0,void 0,b.a.mark((function n(){var r,o,i,a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getDB();case 2:r=n.sent,o=r.transaction(this.tableName,this.readwrite),i=o.objectStore(this.tableName),(a=i.index("ts").openCursor(this.tsRangeExpired)).onsuccess=function(n){var r=a.result;r?(i.delete(r.primaryKey),r.continue(),e++):(e?(w.c.monitor(w.b.INDEDEDDB_OVER_TIME),Object(h.b)("过期上报数据已清除")):Object(h.b)("当前没有过期上报数据"),t())},a.onerror=function(e){Object(h.a)(e),t()};case 8:case"end":return n.stop()}}),n,this)})))})));case 2:case"end":return t.stop()}}),t)})))}}]),t}(),S=c()((function t(){var e=this;a()(this,t),this.MemStore={},this.set=function(t,n){e.MemStore[t]=n},this.get=function(t,n){var r;return(r=e.MemStore[t])||(r=n,n&&e.set(t,r)),r},this.each=function(t){for(var n=e.MemStore,r=Object.keys(n),o=r.length,i=0;i<o;i++)t&&t(n[r[i]])}})),x=new(function(){function t(){var e=this;a()(this,t),this.isIndexedDB=!1,this.isLocalDB=!1,this.get=function(t,n){return e.isLocalDB?e.constDB.get(t,n):e.db.get(t,n)},this.set=function(t,n){return e.isLocalDB?e.constDB.set(t,n):e.db.set(t,n)},this.add=function(t){var n=e.constDB.add(t);return n.catch((function(t){Object(h.a)(t)})),n},this.queryByIDs=function(t){var n=e.constDB.queryByIDs(t);return n.catch((function(t){Object(h.a)(t)})),n},this.db=new S;try{Object(l.b)()&&Object(l.a)()||this.initConstDB()}catch(t){Object(h.a)(t)}}return c()(t,[{key:"initConstDB",value:function(){s.o?(this.constDB=new E,this.isIndexedDB=!0):s.p&&(this.constDB=new v,this.isLocalDB=!0),s.o||w.c.monitor(w.b.NO_INDEDEDDB)}},{key:"getStatistic",value:function(){return this.constDB.getStatistic()}}]),t}()),j=n(38);!function(t){t[t.ALL=1]="ALL",t[t.PART=2]="PART"}(d||(d={})),function(t){t[t.ERROR=-1]="ERROR",t[t.ALL=1]="ALL",t[t.PART=2]="PART"}(p||(p={}));var R=function(){function t(){var e=this;a()(this,t),this.lastAddToBatchTime={},this.storeConfig=new S,this.dispatchTimeIDs={},this.sentIDs=[],this.count=0,this.dispatchBatch=function(t,n){if(!f.a.supportOffline||j.a.getStatus()){var r=e.dispatchTimeIDs,o=Object(s.e)();if(n)if(clearTimeout(r[n]),o-e.lastAddToBatchTime[n]>2e3)e.dispatchBatchBySourceKey(t,n,d.ALL),e.lastAddToBatchTime[n]=0;else e.dispatchBatchBySourceKey(t,n,d.PART)===p.PART&&(r[n]=setTimeout((function(){e.dispatchBatch(x.getStatistic(),n)}),2e3));else for(var i=Object.keys(t),a=0;a<i.length;a++){var u=i[a];e.dispatchBatchBySourceKey(t,u,d.ALL),e.lastAddToBatchTime[u]=0}}else Object(h.b)("网络离线，暂停上报")},_.a.on("indexedDBDispatch",this.dispatchBatch),_.b.on("networkConnect",(function(){Object(h.b)("网络恢复，上报离线数据"),_.a.trigger("indexedDBDispatch",x.getStatistic(),null)}))}return c()(t,[{key:"addOne",value:function(t,e,n){var r=t.sourceKey,o=Object(s.e)();x.add({key:r,data:{ts:o+this.count,param:e,opts:n},tryTimes:0}),this.count++,this.lastAddToBatchTime[r]||(this.lastAddToBatchTime[r]=o)}},{key:"successItems",value:function(t,e){var n=e.map((function(t){return t.id})),r=this.sentIDs.filter((function(t){return-1===n.indexOf(t)}));this.sentIDs=r,_.a.trigger("dispatchSuccessID",n)}},{key:"failItems",value:function(t,e){var n=t.sourceKey,r=e.map((function(t){return t.id})),o=this.sentIDs.filter((function(t){return-1===r.indexOf(t)}));this.sentIDs=o,f.a.supportOffline&&!j.a.getStatus()||_.a.trigger("dispatchFailID",n,r)}},{key:"getConfigBySourceKey",value:function(t){if(f.a.mergeQueueConfig.sourceKey===t)return f.a.mergeQueueConfig;var e=Ot.getAdapterBySourceKey(t);return e&&e.configs&&e.configs.queueConfig?e.configs.queueConfig:null}},{key:"dispatchBatchBySourceKey",value:function(t,e,n){if(!t[e])return p.ERROR;var r=Object.keys(t[e]).map((function(t){return parseInt(t,10)})),o=(r=this.filterIDsBySent(r)).length;if(o<1)return p.ERROR;var i=this.getConfigBySourceKey(e);if(!i)return p.ERROR;var a=i.maxInBatch||10,u=p.ALL;if(n===d.PART){if(o<a)return p.PART;var c=o%a;u=0===c?p.ALL:p.PART,r.sort(),r=r.slice(0,o-c)}return this.dispatchBatchByIds(r,i,a),u}},{key:"dispatchBatchByIds",value:function(t,e,n){var r=e.sourceKey;this.sentIDs=this.sentIDs.concat(t),x.queryByIDs(t).then((function(o){for(var i=[],a=0;a<o.length;a++){var u=o[a],c=u.data,s=u.id;-1!==t.indexOf(s)&&i.push(Object.assign(Object.assign({},c),{id:s}))}for(var l=0;l<i.length;l+=n){var d=i.slice(l,l+n);r===f.a.mergeQueueConfig.sourceKey?_.a.trigger("dispatchMerge",e,d):_.a.trigger("dispatchCommon",e,d)}})).catch((function(t){Object(h.a)(t),Object(h.a)("从数据库取数据错误")}))}},{key:"filterIDsBySent",value:function(t){var e=this.sentIDs;return t.filter((function(t){return-1===e.indexOf(t)}))}}]),t}(),A=function(){function t(){a()(this,t),this.storeConfig=new S,this.addTimeIDs={},this.dispatchTimeIDs={},this.lastAddToBatchTime={},this.batchCache={},this.counter=0}return c()(t,[{key:"addOne",value:function(t,e,n){e&&this.addToBatch(t,e,n)}},{key:"successItems",value:function(t,e){for(var n=t.pendingKey,r=t.sourceKey,o=x.get(n,[]),i=x.get(r,[]),a=[],u=[],c=e.map((function(t){return t.ts})),s=o.length-1;s>=0;s--)-1===c.indexOf(o[s].ts)&&u.push(o[s]);for(var l=i.length-1;l>=0;l--)-1===c.indexOf(i[l].ts)&&a.push(i[l]);o.length!==u.length&&x.set(n,u),i.length!==a.length&&x.set(r,a)}},{key:"failItems",value:function(t,e){for(var n=t.pendingKey,r=t.sourceKey,o=x.get(n,[]),i=x.get(r,[]),a=[],u=[],c=e.map((function(t){return t.ts})),s=o.length-1;s>=0;s--){var l=o[s];-1!==c.indexOf(l.ts)?(!l.tryTimes||l.tryTimes<1||f.a.supportOffline&&!j.a.getStatus())&&(l.tryTimes=1,a.push(l)):u.push(l)}o.length!==u.length&&x.set(n,u),i.length!==a.length&&x.set(r,a);var d=i.length+o.length-(u.length+a.length);w.c.adtSum(w.a.REPORT_FAIL,d)}},{key:"addToBatch",value:function(t,e,n){var r=this,o=(this.storeConfig,this.addTimeIDs),i=this.lastAddToBatchTime,a=this.batchCache,u=t.sourceKey,c=Object(s.e)();if(clearTimeout(o[u]),a[u]||(a[u]=[]),i[u]&&c-i[u]<50)return e&&(a[u].push({ts:c+this.counter,param:e,opts:n}),this.counter+=1),void(o[u]=setTimeout((function(){r.addToBatch(t,null,{})}),10));var l=x.get(u,[]);this.storeConfig.set(u,t),l||(l=[]),e&&l.push({id:c+this.counter,param:e,opts:n}),a[u].length&&(l=l.concat(a[u])),a[u]=[],i[u]=c,x.set(u,l),this.dispatchBatch(t,l)}},{key:"dispatchBatch",value:function(t,e){var n=this;if(!f.a.supportOffline||j.a.getStatus()){var r=this.dispatchTimeIDs,o=t.sourceKey,i=t.pendingKey,a=t.maxInBatch,u=void 0===a?10:a,c=0;if(u<1&&(u=10),clearTimeout(r[o]),e.length>0)if(e.length>=u?c=u:Object(s.e)()-this.lastAddToBatchTime[o]>2e3&&(c=e.length),0!==c){for(var l=x.get(i,[]),d=[],p=0;p<c;p++)e[p].startTime=Object(s.e)(),d.push(e[p]),l.push(e[p]);var v=e.slice(c);x.set(t.sourceKey,v),x.set(t.pendingKey,l),o===f.a.mergeQueueConfig.sourceKey?_.a.trigger("dispatchMerge",t,d):_.a.trigger("dispatchCommon",t,d),v.length>=u&&this.dispatchBatch(t,v)}else r[o]=setTimeout((function(){n.dispatchBatch(t,e)}),2e3)}else Object(h.b)("网络离线，暂停上报")}}]),t}(),C=new(function(){function t(){a()(this,t),x.isIndexedDB?this.queueInstance=new R:this.queueInstance=new A}return c()(t,[{key:"addOne",value:function(t,e,n){this.queueInstance.addOne(t,e,n),f.a.supportOffline&&!j.a.getStatus()&&w.c.adtSum(w.a.REPORT_OFFLINE,1)}},{key:"successItems",value:function(t,e){this.queueInstance.successItems(t,e)}},{key:"failItems",value:function(t,e){this.queueInstance.failItems(t,e)}}]),t}()),k=n(30),I=new(function(){function t(){var e=this;a()(this,t),this.sendReporter=function(t,n,o){if(0!==n.length){for(var i=[],a="",u=0;u<n.length;u++){var c=n[u],s=c.param,l=c.opts;i.push(s),a=l.name}var f=Ot.getAdapterByName(a),d=f.getConfigs(),p=f.getMethods(),h=function(){o?C.successItems(o,n):C.successItems(t,n)},v=function(){o?C.failItems(o,n):C.failItems(t,n)};if(p[r.HEAD]||p[r.GET]){var g=f.transToURL(i,n[0].opts);if(e.isUrlOverLimit(g))return void e.sendRequestViaDatas(d.baseURL,f.buildData(i,{}),h,v);e.sendRequestViaURls(g,h,v)}else e.sendRequestViaDatas(d.baseURL,f.buildData(i,{}),h,v)}},this.initEvent()}return c()(t,[{key:"initEvent",value:function(){_.a.on("dispatchCommon",this.sendReporter),_.a.on("dispatchTryCommon",this.sendReporter)}},{key:"isUrlOverLimit",value:function(t){return(Array.isArray(t)?t:[t]).some((function(t){return t.length>2e3}))}},{key:"sendRequestViaURls",value:function(t,e,n){if(Object(s.h)(t))for(var r=0;r<t.length;r++)Object(k.a)({url:"".concat(t[r],"&t=").concat(Object(s.e)()),method:"GET",onSucc:e,onError:n,onTimeout:n});else t&&Object(k.a)({url:"".concat(t,"&t=").concat(Object(s.e)()),method:"GET",onSucc:e,onError:n,onTimeout:n})}},{key:"sendRequestViaDatas",value:function(t,e,n,r){if(Object(s.h)(e))for(var o=0;o<e.length;o++)Object(k.a)({url:t,method:"POST",onSucc:n,onError:r,onTimeout:r,data:e[o],postFormat:"JSON"});else e&&Object(k.a)({url:t,method:"POST",onSucc:n,onError:r,onTimeout:r,data:e,postFormat:"JSON"})}},{key:"report",value:function(t,e,n,o){var i=t.getConfigs(),a=t.getMethods(),u=i.queueConfig;if(Object(h.b)("[common-".concat(n.name,"]"),e),o&&(a[r.HEAD]||a[r.GET])){var c=t.transToURL(e,n);return this.isUrlOverLimit(c)?void this.sendRequestViaDatas(i.baseURL,t.buildData(e,{})):void this.sendRequestViaURls(c)}o&&this.sendRequestViaDatas(i.baseURL,t.buildData(e,{})),C.addOne(u,e,n)}}]),t}()),P=new(function(){function t(){a()(this,t),this.LSErrorFlag=0,this.LSTimeDiffDelay=0,this.LSTestModeFlag=0,this.errorFlag={set:this.errorSet,get:this.errorGet,clear:function(){}},this.testModeFlag={set:this.testSet,get:this.testGet,clear:this.testClear},this.timeDiffFlag={set:this.diffSet,get:this.diffGet,clear:function(){}}}return c()(t,[{key:"errorSet",value:function(t){this.LSErrorFlag=1}},{key:"errorGet",value:function(){return 1===this.LSErrorFlag}},{key:"testGet",value:function(){var t=+new Date,e=this.LSTestModeFlag;return 0!==e&&t-e<6048e5}},{key:"testSet",value:function(){this.LSTestModeFlag=+new Date}},{key:"testClear",value:function(){this.LSTestModeFlag=0}},{key:"diffSet",value:function(){this.LSTimeDiffDelay=+new Date}},{key:"diffGet",value:function(){var t=+new Date,e=this.LSTimeDiffDelay;return!(0===e||t-e>864e5)}}]),t}()),D=new(function(){function t(){a()(this,t),this.started=!1,this.LSLastPingTime=0,this.LSErrorFlag=1}return c()(t,[{key:"send",value:function(t){var e=this;Object(k.a)({url:"".concat(t,"?v=3&t=").concat(+new Date,"&q=check"),onSucc:function(){e.started=!1,clearInterval(e.intervalHandler),e.LSErrorFlag=0},method:"GET"})}},{key:"start",value:function(t){var e=this;this.pingURL=t,this.started||(this.started=!0,clearInterval(this.intervalHandler),this.intervalHandler=setInterval((function(){var t=e.LSLastPingTime,n=Object(s.e)();0===t?e.LSLastPingTime=n:n>t+6e4&&(e.LSLastPingTime=n,e.send(e.pingURL))}),6e4))}},{key:"stop",value:function(){this.intervalHandler&&(clearInterval(this.intervalHandler),this.intervalHandler=null)}}]),t}()),M=n(47),L=n.n(M),N=P.errorFlag,B=P.testModeFlag,U=new(function(){function t(){var e=this;a()(this,t),this.sendReporter=function(t,n){n.length&&Object(k.a)({onSucc:function(){B.clear(),D.stop(),C.successItems(f.a.mergeQueueConfig,n)},onError:function(t){N.set(f.a.cgiURL),e.dispatchOriginRequest(n),4===t&&at.commonReport(2394321)},onTimeout:function(){e.dispatchOriginRequest(n),Object(s.e)()-Object(s.e)()<8e3&&at.commonReport(2589015),N.set(f.a.cgiURL)},onTest:function(){B.set(),C.successItems(f.a.mergeQueueConfig,n)},timeout:1e4,url:f.a.cgiURL,data:e.buildData(n),method:"POST"})},this.initEvent()}return c()(t,[{key:"initEvent",value:function(){_.a.on("dispatchMerge",this.sendReporter)}},{key:"getAdapterConfigByName",value:function(t){var e=Ot.getAdapterByName(t);return e&&e.getConfigs()||{}}},{key:"buildData",value:function(t){for(var e=[],n=0;n<t.length;n++)Object(h.b)("[merge-".concat(t[n].opts.name,"]"),t[n].param),e.push({param:t[n].param,opts:t[n].opts});var r=JSON.stringify(e);return e=L.a.compressToBase64(r),{v:"3",t:+new Date,q:e}}},{key:"splitItemsBySourceKey",value:function(t){for(var e={},n=0;n<t.length;n++){var r=t[n],o=Ot.getAdapterByName(r.opts.name).getSourceKey();e[o]||(e[o]=[]),e[o].push(r)}return e}},{key:"sendOriginalRequest",value:function(t){for(var e=0;e<t.length;e++){Ot.getAdapterByName(t[e].opts.name).commonReport(t[e].param,t[e].opts)}}},{key:"dispatchOriginRequest",value:function(t){var e=this.splitItemsBySourceKey(t);Object(s.r)(e,(function(t,e){var n=Ot.getAdapterBySourceKey(t).getConfigs();_.a.trigger("dispatchTryCommon",n,e,f.a.mergeQueueConfig)}))}},{key:"report",value:function(t,e,n){var r=t.getConfigs(),o=r.shouldMerge,i=r.reportInTestMode,a=!1;if(o?B.get()?("function"!=typeof o||o(e))&&("function"!=typeof i||i(e))||(a=!0):"function"!=typeof o||o(e)||(a=!0):a=!0,a)I.report(t,e,n,!1);else{var u=f.a.mergeQueueConfig;C.addOne(u,e,n)}}}]),t}()),F=new(function(){function t(){a()(this,t)}return c()(t,[{key:"report",value:function(t,e,n){Object(h.b)("[immediate-".concat(n.name,"]"),e);var r=t.transToURL(e,n);if(r){var o="".concat(r,"&t=").concat(Object(s.e)());if(!Object(k.b)({url:o})){t.getConfigs().queueConfig;var i=function(){t.report(e,n,!1)};Object(k.a)({url:o,method:"GET",onSucc:function(){},onError:i,onTimeout:i})}}}}]),t}());var q=function(t,e,n,o){t.getConfigs();var i=t.getMethods();o&&i[r.BEACON]?F.report(t,e,n):f.a.enableMergeReport?U.report(t,e,n):I.report(t,e,n,o)},W=n(13),V=n(24),Q=n(18),H=c()((function t(){var e=this;a()(this,t),this.adapterName=o.COMMON,this.transToURL=function(t,e){return""},this.buildData=function(t,e){return{}},this.resetConfig=function(t){e.configs?Object(Q.a)()||(Object(s.q)(e.configs,t),e.syncConfigToWorker()):Object(h.a)("找不到此适配器")},this.getConfigs=function(){return e.configs||{}},this.getMethods=function(){var t=e.configs.methods.toString(2);return t.length<4&&(t=new Array(4-t.length).fill("0").join("")+t),t.split("").map((function(t){return parseInt(t)}))},this.getSourceKey=function(){var t=e.getConfigs();return t.queueConfig&&t.queueConfig.sourceKey||""},this.report=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.name=e.adapterName,Object(l.a)()&&w.c.adtSum(w.a.REPORT_TOTAL,1);try{Object(l.a)()&&!r?V.a.postMessageToWorker({type:"api",payload:{data:t,opts:n,isImmediately:r},opts:{reportType:"auto"}}):q(e,t,n,r)}catch(t){Object(h.a)(t)}},this.commonReport=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.name=e.adapterName;try{Object(l.a)()?V.a.postMessageToWorker({type:"api",payload:{data:t,opts:n,isImmediately:r},opts:{reportType:"common"}}):(W.a.onBeforeCommonReport(t,n,r),I.report(e,t,n,r))}catch(t){Object(h.a)(t)}},this.mergeReport=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.name=e.adapterName;try{Object(l.a)()?V.a.postMessageToWorker({type:"api",payload:{data:t,opts:n,isImmediately:!1},opts:{reportType:"merge"}}):(W.a.onBeforeMergeReport(t,n),U.report(e,t,n))}catch(t){Object(h.a)(t)}},this.apiRequestToWorker=function(t,e,n){V.a.postMessageToWorker({type:"apiWorker",payload:{data:t,opts:e},opts:{reportType:n}},!0)},this.syncConfigToWorker=function(){if(Object(l.a)()){var t=e.configs,n=t.baseURL,r=t.shouldMerge,o=t.reportInTestMode,i=t.queueConfig,a={baseURL:n,shouldMerge:"function"==typeof r?r():r,reportInTestMode:"function"==typeof o?o():o,queueConfig:{maxInBatch:i.maxInBatch,maxSize:i.maxSize}};V.a.postMessageToWorker({type:"adapterConfig",payload:a,opts:{adapterName:e.adapterName}})}}})),G=new H,K=n(16),z=n.n(K),X=n(34),J=n.n(X),Y=n(35),$=n.n(Y),Z=n(25),tt=n.n(Z),et=n(8);function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt()(t);if(e){var o=tt()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $()(this,n)}}var rt=new(function(t){J()(n,t);var e=nt(n);function n(){var t;return a()(this,n),(t=e.call(this)).adapterName=o.HUATUO,t.configs={baseURL:"".concat(et.l,"/node_b/speedreport?"),shouldMerge:function(){return!0},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"huatuo_queue_v3",pendingKey:"huatuo_pending_v3",maxInBatch:20,maxSize:10},methods:15,postFormat:"FORM-DATA"},t.transToURL=function(e,n){var r,o,i=e||[];"object"!==z()(e)||Object(s.h)(e)||(i=[e]);var a=[];if(!i.length)return[];for(var u in r=t.exractData(i))r.hasOwnProperty(u)&&(o={flag1:r[u].flag1,flag2:r[u].flag2,flag3:r[u].flag3,apn:n.envInfo.apn,appid:r[u].appid,platform:n.envInfo.platform},Object.assign(o,r[u].timingObj),a.push(t.configs.baseURL+Object(s.t)(o)));return a},t}return c()(n,[{key:"exractData",value:function(t){var e=t||[],n=null,r="";if(e.length){n={};for(var o=0;o<e.length;o++)n[r="".concat(e[o].flag1,"_").concat(e[o].flag2,"_").concat(e[o].flag3).concat(e[o].appid)]||(n[r]={flag1:e[o].flag1,flag2:e[o].flag2,flag3:e[o].flag3,appid:e[o].appid,timingObj:{}}),n[r].timingObj[e[o].id]=e[o].timing}return n}}]),n}(H)),ot=n(31);function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt()(t);if(e){var o=tt()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $()(this,n)}}var at=new(function(t){J()(n,t);var e=it(n);function n(){var t;return a()(this,n),(t=e.call(this)).adapterName=o.MONITOR,t.configs={baseURL:Object(Q.a)()?Object(ot.b)(ot.a.monitor):"".concat(et.l,"/node_b/monitorreport?monitors="),shouldMerge:function(){return!0},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"monitor_queue_v3",pendingKey:"monitor_pending_v3",maxInBatch:100,maxSize:10},methods:15,postFormat:"FORM-DATA"},t.transToURL=function(e){var n=[];return"number"==typeof e?n.push(e):Object(s.h)(e)&&(n=e),n.length&&t.configs?"".concat(t.configs.baseURL,"[").concat(n,"]"):""},t}return c()(n)}(H));function ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt()(t);if(e){var o=tt()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $()(this,n)}}var ct=new(function(t){J()(n,t);var e=ut(n);function n(){var t;return a()(this,n),(t=e.call(this)).adapterName=o.RETCODE,t.configs={baseURL:Object(Q.a)()?Object(ot.b)(ot.a.retcode):"".concat(et.l,"/node_b/retcodereport?"),shouldMerge:function(){return!0},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"retcode_queue_v3",pendingKey:"retcode_pending_v3",maxInBatch:20,maxSize:10},methods:15,postFormat:"FORM-DATA"},t.keyList=["domain","cgi","type","code","time","rate","uin","apn","device","signalStrength","expansion1","expansion2","expansion3","data","platform","appid"],t.transToURL=function(e,n){var r,o="",i=[];if(Object(s.h)(e))for(r=0;r<e.length;r++)i.push(t.extractData(e[r],r+1));else i.push(t.extractData(e,1));return i.length>0?(o="".concat(t.configs.baseURL,"key=").concat(encodeURIComponent(t.keyList.join(","))),o+="&".concat(i.join("&"))):o},t}return c()(n,[{key:"extractData",value:function(t,e){for(var n=[],r=0;r<this.keyList.length;r++)n.push("".concat(e,"_").concat(r+1,"=").concat(encodeURIComponent(t[this.keyList[r]])));if(n.length>0)return n.join("&")}}]),n}(H));function st(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt()(t);if(e){var o=tt()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $()(this,n)}}var lt=new(function(t){J()(n,t);var e=st(n);function n(){var t;return a()(this,n),(t=e.call(this)).adapterName=o.TDBANK,t.configs={baseURL:"".concat(et.l,"/node_b/tdbankreport?"),shouldMerge:function(){return!0},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"tdbank_queue_v3",pendingKey:"tdbank_pending_v3",maxInBatch:20,maxSize:10},methods:15,postFormat:"FORM-DATA"},t.transToURL=function(e,n){var r,o,i,a=e||[],u=[],c={};if(Object(s.h)(a)){r=a.length;for(var l=0;l<r;l++)c[i=(o=a[l]).tdbank_table&&o.tdbank_busi_id?"".concat(o.tdbank_table,"|").concat(o.tdbank_busi_id):"".concat(o.table_id,"|").concat(o.busi_id)]||(c[i]=[]),c[i].push(o);for(var f in c)c.hasOwnProperty(f)&&u.push(t.getItemURL(c[f],n));return u}return t.getItemURL([a],n)},t}return c()(n,[{key:"getItemURL",value:function(t,e){var n,r,o,i=[],a=[],u={},c={};return c.tdbank_busi_id=!0,c.tdbank_table=!0,c.busi_id=!0,c.table_id=!0,function(){var e,n,s,l,f=1,d=[];for(e=0;e<t.length;e++)for(s in l=t[e],r=t[e].tdbank_table||t[e].table_id,o=t[e].tdbank_busi_id||t[e].busi_id,l)if(l.hasOwnProperty(s)){if(c[s])continue;if(u[s])continue;u[s]=f++,i.push(s)}for(e=0;e<t.length;e++){for(l=t[e],d=new Array(i.length),n=0;n<i.length;n++)d[n]=void 0===l[i[n]]?"":l[i[n]];a.push(d)}}(),t&&0!==t.length?(n={table_id:r,busi_id:o,fields:JSON.stringify(i),datas:JSON.stringify(a)},n=this.configs.baseURL+Object(s.t)(n)):""}}]),n}(H));function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt()(t);if(e){var o=tt()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $()(this,n)}}var dt=new(function(t){J()(n,t);var e=ft(n);function n(){var t;return a()(this,n),(t=e.call(this)).adapterName=o.TDW,t.configs={baseURL:Object(Q.a)()?Object(ot.b)(ot.a.tdw):"".concat(et.l,"/node_b/tdwreport?"),shouldMerge:function(){return!0},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"tdw_queue_v3",pendingKey:"tdw_pending_v3",maxInBatch:20,maxSize:10},methods:15,postFormat:"FORM-DATA"},t.transToURL=function(e,n){var r,o,i=e||[],a=Object.assign({timeField:"t"},n),u=[],c={};if(Object(s.h)(i)){r=i.length;for(var l=0;l<r;l++)c[(o=i[l]).table]||(c[o.table]=[]),c[o.table].push(o);for(var f in c)c.hasOwnProperty(f)&&u.push(t.getItemURL(c[f],f,a));return u}return t.getItemURL([i],i.table,a)},t}return c()(n,[{key:"getItemURL",value:function(t,e,n){var r,o=[],i=[],a={},u={};return delete t.table,u[n.timeField]=!0,function(){var e,n,r,c,s=1,l=[];for(e=0;e<t.length;e++)for(r in c=t[e])if(c.hasOwnProperty(r)){if(u[r])continue;if(a[r])continue;a[r]=s++,o.push(r)}for(e=0;e<t.length;e++){for(c=t[e],l=new Array(o.length),n=0;n<o.length;n++)l[n]=void 0===c[o[n]]?"":c[o[n]];i.push(l)}}(),t&&0!==t.length?(r={table:e,fields:JSON.stringify(o),datas:JSON.stringify(i),pr_t:n.timeField},r=this.configs.baseURL+Object(s.t)(r)):""}}]),n}(H)),pt=n(39),ht=n.n(pt);function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt()(t);if(e){var o=tt()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $()(this,n)}}var gt,mt=new(function(t){J()(n,t);var e=vt(n);function n(){var t;return a()(this,n),(t=e.call(this)).adapterName=o.BEACON,t.configs={baseURL:"".concat(et.b,"/analytics/upload?tp=js"),shouldMerge:function(){return!1},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"beacon_queue_v3",pendingKey:"beacon_pending_v3",maxInBatch:20,maxSize:10},methods:4,postFormat:"JSON"},t.buildData=function(t,e){if(Object(s.h)(t)){var n=t;if(n.length<2)return n;for(var r={},o=0;o<n.length;o++){var i,a=n[o],u=a.appkey;if(r[u])(i=r[u].msgs[0].data.events).push.apply(i,ht()(a.msgs[0].data.events));else r[u]=a}return Object.keys(r).map((function(t){return r[t]}))}return[t]},t}return c()(n)}(H));function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt()(t);if(e){var o=tt()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $()(this,n)}}!function(t){t.STATUS="status",t.VALUE="value"}(gt||(gt={}));var bt=new(function(t){J()(n,t);var e=yt(n);function n(){var t;return a()(this,n),(t=e.apply(this,arguments)).adapterName=o.ZZS,t.configs={baseURL:Object(Q.a)()?Object(ot.b)(ot.a.zzs):"".concat(et.l,"/node_b/zzsreport"),shouldMerge:function(){return!1},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"zzs_queue_v3",pendingKey:"zzs_pending_v3",maxInBatch:100,maxSize:100},methods:4,postFormat:"JSON"},t.buildData=function(e){var n,r,o,i,a,u,c,l=e;return Object(s.h)(e)||(l=[e]),{domain:null===(n=l[0])||void 0===n?void 0:n.domain,tenant:null===(r=l[0])||void 0===r?void 0:r.tenant,third:null===(o=l[0])||void 0===o?void 0:o.third,platform:null===(i=l[0])||void 0===i?void 0:i.platform,source:null===(a=l[0])||void 0===a?void 0:a.source,version:null===(u=l[0])||void 0===u?void 0:u.version,env:null===(c=l[0])||void 0===c?void 0:c.env,datas:l.map((function(e){var n,r=t.getDataFieldsWithType(e.type).map((function(t){var n;return null!==(n=e[t])&&void 0!==n?n:""})),o=[null!==(n=e.errmsg)&&void 0!==n?n:""];return e.dimensions&&(o=o.concat(e.dimensions)),r.push(o),r}))}},t}return c()(n,[{key:"getDataFieldsWithType",value:function(t){switch(t){case gt.VALUE:return["project","type","attrid","value"];case gt.STATUS:default:return["project","type","attrid","status"]}}}]),n}(H));n.d(e,"d",(function(){return rt})),n.d(e,"e",(function(){return at})),n.d(e,"f",(function(){return ct})),n.d(e,"g",(function(){return lt})),n.d(e,"h",(function(){return dt})),n.d(e,"b",(function(){return G})),n.d(e,"a",(function(){return mt})),n.d(e,"i",(function(){return bt}));var _t=function(){function t(){a()(this,t)}return c()(t,[{key:"getAdapterByName",value:function(t){switch(t){case o.HUATUO:return rt;case o.MONITOR:return at;case o.RETCODE:return ct;case o.TDBANK:return lt;case o.TDW:return dt;case o.BEACON:return mt;case o.ZZS:return bt;default:return G}}},{key:"getAdapterBySourceKey",value:function(t){switch(t){case rt.configs.queueConfig.sourceKey:return rt;case at.configs.queueConfig.sourceKey:return at;case ct.configs.queueConfig.sourceKey:return ct;case lt.configs.queueConfig.sourceKey:return lt;case dt.configs.queueConfig.sourceKey:return dt;case mt.configs.queueConfig.sourceKey:return mt;case bt.configs.queueConfig.sourceKey:return bt;default:return G}}}]),t}(),Ot=e.c=new _t},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n(16),o=n.n(r);function i(t){var e=new RegExp("(?:^|;+|\\s+)".concat(t,"=([^;]*)")),n="object"===("undefined"==typeof document?"undefined":o()(document))&&document.cookie.match(e);return n?n[1]:null}function a(t,e,n,r,o){var i=new Date;i.setTime(i.getTime()+(n?36e5*n:2592e6)),"undefined"!=typeof document&&(document.cookie="".concat(t,"=").concat(e,";expires=").concat(i.toGMTString(),";path=").concat(o||"/",";").concat(r?"domain=".concat(r,";"):""))}},function(t,e,n){var r=n(98)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},,function(t,e,n){var r=n(59);t.exports=function(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(6),o=n.n(r),i=n(7),a=n.n(i),u=n(1),c=n(5),s=n(13),l=n(64),f=n.n(l),d=n(9),p=n(50),h=n(17),v=n(3),g=function(){function t(){var e,r=this;o()(this,t),this.isNativeMP=Object(u.k)(),this.msgCache=[],this.postMessageCacheToWorker=function(){try{var t=r.msgCache;r.msgCache=[],r.worker&&r.worker.postMessage(t)}catch(t){Object(c.a)(t)}},this.receiveMessageFromWorker=function(t){var e,n=e=r.isNativeMP?t:t.data,o=n.type,i=n.payload;switch(o){case"hooks":r.handleMessageFromWorker(i);break;case"jank":d.b.trigger("jankReceiveHeartBeat");break;default:d.b.trigger(e.type,e)}},this.handleMessageFromWorker=function(t){var e=t.args,n=t.name;s.a.execute(n,e)},this.postMessageToWorker=function(t,e){e?r.worker&&r.worker.postMessage([t]):(r.msgCache.push(t),Object(p.a)("msgToWorker",r.postMessageCacheToWorker,2e3,(function(){return r.msgCache.length>2e3})))},this.terminateWorker=function(){var t=r.worker;n(12).jank.stop(),r.worker=null,t&&setTimeout((function(){t.terminate&&t.terminate()}),3e3)},this.notSupportWorker=!1,!(null===(e=window.TencentDocReport)||void 0===e?void 0:e.noWorker)&&!Object(u.i)()&&Object(u.d)()<18&&!v.a.isIOS&&this.init()}return a()(t,[{key:"init",value:function(){try{"function"==typeof Worker?this.worker=new f.a:(h.c.monitor(h.b.NO_WORKER),this.notSupportWorker=!0)}catch(t){Object(c.a)("创建 worker 线程失败")}this.worker&&(this.worker.onmessage=this.receiveMessageFromWorker),(!this.notSupportWorker&&!this.worker||this.worker&&!this.worker.onmessage)&&h.c.monitor(h.b.WORKER_FAIL)}}]),t}();e.a=new g},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"}(r||(r={}))},function(t,e,n){"use strict";var r=n(51),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();e.a=i},function(t,e,n){var r=n(95),o=n(96),i=n(61),a=n(97);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return h}));var r=n(16),o=n.n(r),i=n(28),a=n.n(i);function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){var e=window.location.search.substring(1);if(e){var n,r=u(e.split("&"));try{for(r.s();!(n=r.n()).done;){var o=n.value.split("="),i=a()(o,2),c=i[0],s=i[1];if(c===t)return s}}catch(t){r.e(t)}finally{r.f()}}}function l(t,e){return new URL(t).searchParams.get(e)}var f,d=(f="undefined"==typeof document?null:document.createElement("a"),function(t){return f?(f.href=t,f.href):t});function p(t){try{var e=d(t),n=e.match(/^(https?:)?\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);if(!n)return;return{href:e,protocol:n[1]||"",host:n[2]||"",hostname:n[3]||"",port:n[4]||"",pathname:n[5]||"",search:n[6]||"",hash:n[7]||""}}catch(e){return{pathname:t}}}var h=function(t){if("object"===o()(t))return t;if(!t)return{};try{return JSON.parse(t)}catch(t){}try{var e,n=null==t?void 0:t.substring(1),r={},i=u(n.split("&").map((function(t){return t.split("=")})));try{for(i.s();!(e=i.n()).done;){var a=e.value,c=decodeURIComponent(a[0]),s=decodeURIComponent(a[1]);c.length&&(r[c]=s)}}catch(t){i.e(t)}finally{i.f()}return r}catch(t){return console.error(t),{}}}},function(t,e,n){"use strict";var r=n(16),o=n.n(r),i=n(14),a=(n(99),n(8)),u=function(t){if(t.url){var e=new XMLHttpRequest;if(e){var n=t.method||"POST",r=!1;i.a.headRequest&&"GET"===n&&(-1===t.url.indexOf(a.k)&&-1===t.url.indexOf(a.m)||(n="HEAD",r=!0));if(e.onerror=function(){t.onError&&t.onError()},e.ontimeout=function(){t.onTimeout&&t.onTimeout()},e.onreadystatechange=function(){if(4===e.readyState){var n=e.status;200===n?function(){if(r)t.onSucc&&t.onSucc();else{var n=e.responseText;try{switch(JSON.parse(n).retcode){case 0:t.onSucc&&t.onSucc();break;case 1:t.onTest&&t.onTest();break;case 6:t.onTimeout&&t.onTimeout();break;default:t.onError&&t.onError(200)}}catch(e){t.onError&&t.onError(200)}}}():function(e){r?t.onError&&t.onError(e):202===e?t.onTest&&t.onTest():500===e?t.onTimeout&&t.onTimeout():t.onError&&t.onError(e)}(n)}},"POST"===n&&"JSON"!==t.postFormat){var o=new FormData;if(t.data)for(var u=Object.keys(t.data||{}),c=0;c<u.length;c++)o.append(u[c],t.data[u[c]]);e.open(n,t.url,!0),e.timeout=t.timeout||1e4,e.send(o)}else"POST"===n&&"JSON"===t.postFormat?(e.open(n,t.url,!0),e.timeout=t.timeout||1e4,e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.send(JSON.stringify(t.data))):(e.open(n,t.url,!0),e.timeout=t.timeout||1e4,e.send())}}},c=(n(55),n(13)),s=n(5),l=n(1),f=function(t){if(!t.url)return!1;if("object"!==("undefined"==typeof window?"undefined":o()(window))||!window.navigator||"function"!=typeof window.navigator.sendBeacon)return!1;try{return window.navigator.sendBeacon("".concat(t.url,"&fromSDKSendBeacon=true"))}catch(t){Object(s.a)(t)}};var d=n(10),p=n(18);n.d(e,"b",(function(){return f}));var h=function(){},v=Object(d.e)((function(t){var e=Object.assign({},t);e.url.length>2e3&&(e.method="POST"),Object(p.a)()&&(e.method="POST",e.postFormat="JSON"),c.a.onBeforeReportSend(e);var n,r=e.onSucc,i=void 0===r?h:r,a=e.onError,f=void 0===a?h:a,d=e.onTimeout,v=void 0===d?h:d;e.onSucc=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];c.a.onReportSenderSuccess.apply(c.a,[e].concat(n)),i.apply(void 0,n)},e.onError=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];c.a.onReportSenderError.apply(c.a,[e].concat(n)),f.apply(void 0,n)},e.onTimeout=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];c.a.onReportSenderTimeout.apply(c.a,[e].concat(n)),v.apply(void 0,n)};try{"object"===("undefined"==typeof wx?"undefined":o()(wx))&&(null===wx||void 0===wx?void 0:wx.request)?(n=e).url&&(n.url.indexOf("https:")<0&&(n.url="https://".concat(n.url)),wx.request({method:"GET",url:n.url,fail:function(t){var e=t.statusCode;n.onError&&n.onError(e)},header:{UseGet:"1"},complete:function(t){var e=t.statusCode;200===e?n.onSucc&&n.onSucc():202===e?n.onTest&&n.onTest():500===e?n.onTimeout&&n.onTimeout():n.onError&&n.onError(e)}})):l.b&&l.b.Image&&"GET"===e.method?function(t){var e,n,r={},o={};t.timeout=t.timeout||1e4,t.url&&(e=+new Date,r[e]=new Image,r[e].id=e,r[e].onerror=function(){var e=this.id;clearTimeout(o[e]),r[e]&&(r[e].onerror=null,r[e].onload=null),delete o[e],delete r[e],n&&+new Date-n<1e3?t.onTimeout&&t.onTimeout():t.onError&&t.onError()},r[e].onload=function(){var e=this.width,n=this.id;clearTimeout(o[n]),r[n]&&(r[n].onerror=null,r[n].onload=null),delete o[n],delete r[n],1===e?t.onSucc&&t.onSucc():6===e?t.onTest&&t.onTest():5===e?t.onTimeout&&t.onTimeout():t.onError&&t.onError(e)},+new Date,r[e].src=t.url,o[e]=setTimeout((function(){r[e]&&(r[e].src=""),n=+new Date}),t.timeout))}(e):u(e)}catch(t){Object(s.a)(t)}}));e.a=v},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r,o=n(36),i=n(8);function a(t){var e=!!o.a.getCookie("free_go_proxy")?"".concat(i.d,"/pre"):i.d;return"".concat(e).concat(t)}!function(t){t.merge="/report/node/",t.monitor="/report/node_b/monitorreport?monitors=",t.retcode="/report/node_b/retcodereport?",t.tdw="/report/node_b/tdwreport?",t.zzs="/report/node_b/zzsreport"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(6),o=n.n(r),i=n(7),a=n.n(i),u=n(3),c=n(18),s=new(function(){function t(){o()(this,t)}return a()(t,[{key:"domain",get:function(){var t,e,n,r;return(null===(e=null===(t=window.AppConfig)||void 0===t?void 0:t.normal)||void 0===e?void 0:e.domain)||(null===(r=null===(n=window.AppConfig)||void 0===n?void 0:n.normal)||void 0===r?void 0:r.instance)||location.host}},{key:"tenant",get:function(){var t,e,n,r;return(null===(t=window.clientVars)||void 0===t?void 0:t.creatorCorpId)?Object(c.a)()?"".concat(null===(e=window.clientVars)||void 0===e?void 0:e.creatorCorpId):"".concat(null===(n=window.clientVars)||void 0===n?void 0:n.creatorCorpName,":").concat(null===(r=window.clientVars)||void 0===r?void 0:r.creatorCorpId):""}},{key:"client",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=window.AppConfig)||void 0===t?void 0:t.normal)||void 0===e?void 0:e.client)&&void 0!==n?n:""}},{key:"platform",get:function(){return u.a.isIPhone?"iPhone":u.a.isIPad?"iPad":u.a.isAndroidPad?"androidPad":u.a.isAndroidPhone?"androidPhone":u.a.isHarmonyPhone?"harmonyPhone":u.a.isHarmonyPad?"harmonyPad":u.a.isMac?"mac":u.a.isWindows?"windows":"other"}},{key:"source",get:function(){for(var t=[[u.a.isWxMiniProgram,"wxMiniProgram"],[u.a.isQQMiniProgram,"qqMiniProgram"],[u.a.isWxWork,"wxWork"],[u.a.isChrome,"chrome"],[u.a.isSafari,"safari"],[u.a.isFirefox,"firefox"],[u.a.isChromiumEdge,"chromiumEdge"],[u.a.isQQBrowser,"qqBrowser"],[u.a.isHarmonyBrowser,"harmonyBrowser"],[u.a.isTencentDocsApp,"tencentDocsApp"],[u.a.isPCTencentDocsClient,"pcTencentDocsClient"],[u.a.isWeiYunApp,"weiYunApp"],[u.a.isElectronTencentDocsClient,"electronTencentDocsClient"],[u.a.isWeChat,"weChat"],[u.a.isQQ,"qq"],[u.a.isTim,"tim"],[u.a.isWindowsUWP,"windowsUwp"]],e=0;e<t.length;e++)if(t[e][0])return t[e][1];return""}},{key:"env",get:function(){var t;return null===(t=window.__DWS_INFO__)||void 0===t?void 0:t.curEnvId}}]),t}())},function(t,e,n){"use strict";var r=n(42);n.d(e,"d",(function(){return r.a})),n.d(e,"h",(function(){return r.b}));var o=n(4);n.d(e,"b",(function(){return o.f})),n.d(e,"c",(function(){return o.g})),n.d(e,"g",(function(){return o.B})),n.d(e,"f",(function(){return o.y})),n.d(e,"e",(function(){return o.o})),n.d(e,"a",(function(){return o.d}))},function(t,e,n){var r=n(100);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(16).default,o=n(101);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(6),o=n.n(r),i=n(7),a=n.n(i),u=n(44),c="undefined"==typeof window,s=function(){function t(){o()(this,t),this.lastCookie="",this.lastCookieObj={},this.platformCache="",this.browserCache="",this.networkGot=!1,this.networkRet="-1"}return a()(t,[{key:"uin",get:function(){var t=this.getCookie("uin")||"";return"o0"===t.slice(0,2)?t.slice(2):"o"===t.slice(0,1)?t.slice(1):t}},{key:"networkType",get:function(){var t=this;if(c||this.networkGot)return this.networkRet;var e=window&&window.mqq;return e&&e.device&&e.device.getNetworkType&&e.support("mqq.device.getNetworkType")&&e.device.getNetworkType((function(e){t.networkRet=e})),this.networkGot=!0,this.networkRet}},{key:"platform",get:function(){if(c||this.platformCache)return this.platformCache;var t=window&&window.navigator&&window.navigator.userAgent||"";t=t.toLocaleLowerCase();var e="unknown";return/android|adr/i.test(t)?e="android":/OpenHarmony/i.test(t)?e="harmony":/(iphone|ipad|ipod)/i.test(t)?e="ios":/(mobile)/i.test(t)?e="mobile":t&&(e="pc"),this.platformCache=e,e}},{key:"browser",get:function(){if(c||this.browserCache)return this.browserCache;var t=u.b.browser,e=(t.isIE?"IE":t.isChrome&&"Chrome")||t.isFirefox&&"Firefox"||t.isSafari&&"Safari"||t.isEdgeChromium&&"EdgeChromium"||t.isEdge&&"Edge"||"unknown";return this.browserCache=e,e}},{key:"getCookie",value:function(t){if(c)return"";var e=document&&document.cookie||"";if(this.lastCookie&&this.lastCookie===e)return this.lastCookieObj[t]||"";this.lastCookie=e;for(var n=e.split(";"),r=n.length,o=0;o<r;o++){var i=n[o].trim().split("="),a=i[0],u=i.slice(1).join("=");try{this.lastCookieObj[a]=decodeURIComponent(u)}catch(t){this.lastCookieObj[a]=u}}return this.lastCookieObj[t]||""}}]),t}();e.a=new s},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r,o,i="AppBitShiftToggle",a=new RegExp("".concat(i,"/(\\d+)"));!function(t){t[t.fullOfflineModeAvailable=1]="fullOfflineModeAvailable",t[t.nativeDatabaseAvailable=2]="nativeDatabaseAvailable",t[t.nativeDatabaseWillDeprecated=4]="nativeDatabaseWillDeprecated"}(r||(r={})),function(t){t[t.nativeDatabaseAndFullOfflineModeAvailable=2]="nativeDatabaseAndFullOfflineModeAvailable"}(o||(o={}))},function(t,e,n){"use strict";var r=n(6),o=n.n(r),i=n(7),a=n.n(i),u=n(9),c=n(1),s=n(10),l=n(24),f=function(){function t(){var e=this;o()(this,t),this.status=1,this.isCustom=!1,this.getStatus=function(){return e.isCustom?e.status:c.a&&c.a.navigator?c.a.navigator.onLine:e.status},this.isOffline=function(){return!e.getStatus()},this.setOffline=function(){e.isCustom||(e.isCustom=!0,e.offEvent()),e.offlineListener()},this.setOnline=function(){e.isCustom||(e.isCustom=!0,e.offEvent()),e.onlineListener()},this.offlineListener=function(){Object(s.a)()?e.syncStatusToWorker(0):Object(s.c)()||e.handleOffLine()},this.onlineListener=function(){Object(s.a)()?e.syncStatusToWorker(1):Object(s.c)()||e.handleOnLine()},this.handleOffLine=function(t){t&&t.isCustom&&(e.isCustom=!0),e.status=0},this.handleOnLine=function(t){t&&t.isCustom&&(e.isCustom=!0),e.status||(e.status=1,Object(s.b)()&&Object(s.c)()?u.b.trigger("networkConnect"):Object(s.b)()||u.b.trigger("networkConnect"))},this.initEvent()}return a()(t,[{key:"initEvent",value:function(){c.b&&c.b.addEventListener&&(c.b.addEventListener("online",this.onlineListener),c.b.addEventListener("offline",this.offlineListener)),Object(s.c)()&&(u.b.on("workerOffline",this.handleOffLine),u.b.on("workerOnline",this.handleOnLine))}},{key:"offEvent",value:function(){c.b&&c.b.removeEventListener&&(c.b.removeEventListener("online",this.onlineListener),c.b.removeEventListener("offline",this.offlineListener))}},{key:"syncStatusToWorker",value:function(t){this.status=t,l.a.postMessageToWorker({type:t?"online":"offline",payload:{isCustom:this.isCustom}},!0)}}]),t}();e.a=new f},function(t,e,n){var r=n(89),o=n(90),i=n(61),a=n(91);t.exports=function(t){return r(t)||o(t)||i(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t){var r=n(51),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.a.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();e.a=u}).call(this,n(56)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));var r=n(11),o=n(4),i={},a=!1,u=!1,c=!1;function s(){var t=Object(r.b)();return!a&&t.ownerId&&(a=!0,l()),!u&&t.userInfo&&(u=!0,l()),!c&&Object(o.n)()&&(c=!0,l()),i}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(i,Object.assign({table:"dc03111",third_appid:Object(o.b)(),uin:Object(o.F)(),uid:Object(o.E)(),user_mac:Object(o.e)(),uin_type:Object(o.G)(),platform:Object(o.y)(),appid:Object(o.l)(),touin:Object(o.k)(),isOwner:Object(o.t)(),file_type:Object(o.o)(),id:Object(o.v)(),source1:Object(o.B)(),source2:"",source3:Object(o.i)()||Object(o.C)(),obj1:Object(o.d)(),obj2:Object(o.w)(),ver1:Object(o.r)(),ver2:Object(o.k)(),ver3:Object(o.m)(),ver4:Object(o.u)(),web_version:Object(o.s)(),abtest:Object(o.a)(),frontend_ext:Object(o.q)()},Object(o.I)()),t);var e=Object(o.D)();e&&(i.dev_route_id=e)}},function(t,e,n){"use strict";(function(t){var r=n(27),o=n(66),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.a.Buffer:void 0,c=(u?u.isBuffer:void 0)||o.a;e.a=c}).call(this,n(56)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(16),o=n.n(r),i=n(6),a=n.n(i),u=n(7),c=n.n(u),s=function(){function t(){a()(this,t),this.ua=navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase()||"",this.href=location&&location.href||"",this.wxUrlContainStr="__wxjs_environment=miniprogram",this.qqUrlContainStr="__wxjs_environment=qqminiprogram",this.ie=/rv:([\d.]+)\) like gecko/.test(this.ua)||/msie ([\d.]+)/.test(this.ua)||/Trident/.test(this.ua),this.chrome=/chrome\/([\d.]+)/.test(this.ua),this.opera=/opera/.test(this.ua),this.safari=/webkit/.test(this.ua),this.firefox=/firefox/.test(this.ua)&&!/(compatible|webkit)/.test(this.ua),this.edge=/edge/.test(this.ua),this.edgeChromium=this.chrome&&this.edge,this.isPad=/(ipad)/i.test(this.ua),this.isMobile=/(mobile)/i.test(this.ua)&&!this.isPad,this.isMac=/Mac OS X/i.test(this.ua)&&!this.isMobile,this.isAndroid=/android|adr/i.test(this.ua),this.isIOS=/(iphone|ipad|ipod)/.test(this.ua),this.isHarmony=/OpenHarmony/i.test(this.ua),this.isWindowStore=/MSAppHost/i.test(this.ua),this.isPCQQBrowser=!this.isMobile&&/QQBrowser/i.test(this.ua)&&!/QBCore/i.test(this.ua),this.isMobileQQBrowser=this.isMobile&&/MQQBrowser/i.test(this.ua)&&!/TBS/i.test(this.ua),this.isQQBrowser=this.isMobile?this.isMobileQQBrowser:this.isPCQQBrowser,this.isWxMiniProgram=this.href.indexOf(this.wxUrlContainStr)>-1||/MicroMessenger/i.test(this.ua)&&/miniProgram/i.test(this.ua),this.isQQMiniProgram=this.href.indexOf(this.qqUrlContainStr)>-1||/QQ/i.test(this.ua)&&/MiniApp/i.test(this.ua),this.isMiniProgram=this.isWxMiniProgram||this.isQQMiniProgram,this.isWxWork=/(wxwork)/i.test(this.ua),this.isWeWork=this.isWxWork,this.isWeChat=/MicroMessenger/i.test(this.ua)&&!this.isWxWork&&!this.isWxMiniProgram,this.isWechat=this.isWeChat,this.isTim=/TIM/i.test(this.ua),this.isQQ=/QQ/i.test(this.ua)&&!this.isWxWork&&!this.isWeChat&&!this.isQQBrowser&&!this.isTim&&!this.isQQMiniProgram,this.isTimOrQQ=this.isTim||this.isQQ,this.isTimOrQQFamily=this.isTim||/QQ/i.test(this.ua),this.isPCTim=/QBCore/i.test(this.ua)&&/TIM2.0/i.test(this.ua),this.isWindowPlatform=/(win64|wow64|win32|wow32)/i.test(this.ua),this.isQQNativeMiniProgram="object"===("undefined"==typeof wx?"undefined":o()(wx))&&"function"==typeof wx.canIUse&&wx.canIUse("request"),this.isWxNativeMiniProgram=!this.isQQNativeMiniProgram&&"object"===("undefined"==typeof qq?"undefined":o()(qq))&&"function"==typeof qq.canIUse&&qq.canIUse("request"),this.isNativeMiniProgram=this.isQQNativeMiniProgram||this.isWxNativeMiniProgram}return c()(t,[{key:"browser",get:function(){return{isIE:this.ie,isChrome:this.chrome,isOpera:this.opera,isSafari:this.safari,isFirefox:this.firefox,isEdge:this.edge,isEdgeChromium:this.edgeChromium,isPCQQBrowser:this.isPCQQBrowser,isMobileQQBrowser:this.isMobileQQBrowser,isQQBrowser:this.isQQBrowser}}},{key:"platform",get:function(){return{isPad:this.isPad,isMobile:this.isMobile,isMac:this.isMac,isAndroid:this.isAndroid,isIOS:this.isIOS,isHarmony:this.isHarmony,isWindow:this.isWindowPlatform}}},{key:"host",get:function(){return{isWindowStore:this.isWindowStore,isWxMiniProgram:this.isWxMiniProgram,isQQMiniProgram:this.isQQMiniProgram,isMiniProgram:this.isMiniProgram,isQQNativeMiniProgram:!!this.isQQNativeMiniProgram,isWxNativeMiniProgram:!!this.isWxNativeMiniProgram,isNativeMiniProgram:!!this.isNativeMiniProgram,isWxWork:this.isWxWork,isWeWork:this.isWeWork,isWeChat:this.isWeChat,isWechat:this.isWechat,isTim:this.isTim,isQQ:this.isQQ,isTimOrQQ:this.isTimOrQQ,isTimOrQQFamily:this.isTimOrQQFamily,isPCTim:this.isPCTim}}}]),t}();e.b=new s},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"AlloyReport",(function(){return O})),n.d(e,"reportErrorCode",(function(){return w}));var r=n(16),o=n.n(r),i=n(6),a=n.n(i),u=n(7),c=n.n(u),s=(n(88),n(5),n(92),n(93),n(24),n(14)),l=n(12);n.d(e,"monitor",(function(){return l.monitor})),n.d(e,"retcode",(function(){return l.retcode})),n.d(e,"retcodeEnt",(function(){return l.retcodeEnt})),n.d(e,"tdbank",(function(){return l.tdbank})),n.d(e,"zzs",(function(){return l.zzs})),n.d(e,"huatuo",(function(){return l.huatuo})),n.d(e,"tdw",(function(){return l.tdw})),n.d(e,"tdwSingle",(function(){return l.tdwSingle})),n.d(e,"tipReport",(function(){return l.tipReport})),n.d(e,"webLogAndEsReport",(function(){return l.webLogAndEsReport})),n.d(e,"webLog",(function(){return l.webLog})),n.d(e,"KVR",(function(){return l.KVR})),n.d(e,"zzsStatus",(function(){return l.zzsStatus})),n.d(e,"zzsValue",(function(){return l.zzsValue})),n.d(e,"idkey",(function(){return l.idkey})),n.d(e,"tip007",(function(){return l.tip007})),n.d(e,"tipOpentelemetryLog",(function(){return l.tipOpentelemetryLog})),n.d(e,"resetDefaultTdwData",(function(){return l.resetDefaultTdwData})),n.d(e,"Channel",(function(){return l.Channel})),n.d(e,"KVRReporter",(function(){return l.KVRReporter})),n.d(e,"LogPadType",(function(){return l.LogPadType})),n.d(e,"cube",(function(){return l.cube}));var f=n(19),d=n(30),p=n(47),h=n.n(p),v=n(13),g=n(17),m=n(38),y=n(49),b=n(33);n.d(e,"getAuth",(function(){return b.a})),n.d(e,"getCookieUid",(function(){return b.b})),n.d(e,"getCookieUin",(function(){return b.c})),n.d(e,"getDefaultTdwData",(function(){return b.d})),n.d(e,"getFileTypeForReport",(function(){return b.e})),n.d(e,"getPlatform",(function(){return b.f})),n.d(e,"getSource1",(function(){return b.g}));var _=n(67),O=(new(function(){function e(){var n=this;a()(this,e),this.report={isMain:!0,closeLog:s.a.closeLog,openLog:s.a.openLog,reset:s.a.reset,resetConfig:s.a.reset,closeReport:s.a.closeReport,openReport:s.a.openReport,enableMerge:s.a.enableMerge,disableMerge:s.a.disableMerge,disableWorker:s.a.disableWorker,reportSender:d.a,reportInside:g.c,huatuo:l.huatuo,monitor:l.monitor,performance:l.performance,retcode:l.retcode,retcodeEnt:l.retcodeEnt,tdbank:l.tdbank,tdw:l.tdwReport,jank:l.jank,Beacon:l.Beacon,zzs:l.zzs,addHooks:v.a.addHooks,removeHooks:v.a.removeHooks,huatuoConfig:f.d.resetConfig,monitorConfig:f.e.resetConfig,retcodeConfig:f.f.resetConfig,tdbankConfig:f.g.resetConfig,tdwConfig:f.h.resetConfig,zzsConfig:f.i.resetConfig,utils:{compressToBase64:h.a.compressToBase64,decompressFromBase64:h.a.decompressFromBase64,userAgent:l.userAgent},network:{isOffline:m.a.isOffline,setOffline:m.a.setOffline,setOnline:m.a.setOnline},version:"V".concat("4.3.89")},this.init=function(){"undefined"!=typeof window&&(window.AlloyReportNext?window.AlloyReportNext.isMain||Object.assign(window.AlloyReportNext,n.report):window.AlloyReportNext=n.report,window.AlloyReport?Object(y.a)(window.AlloyReportNext.version,window.AlloyReport.version)&&Object.assign(window.AlloyReport,window.AlloyReportNext):window.AlloyReport=window.AlloyReportNext),void 0!==t&&t.isNodePlatform},this.doInlineReport=function(){if("object"===("undefined"==typeof window?"undefined":o()(window))){var t=function(){if(!window||!window.localStorage)return window.ALLOY_REPORT_NEXT;var t=window.localStorage.getItem("ALLOY_REPORT_NEXT");try{return t&&JSON.parse(t)}catch(t){return}}();t instanceof Array||(t=[]);for(var e=0;e<t.length;e++)try{var r=t[e].t.split("."),i=n.report[r[0]];if(!i)continue;if(r.length>1){var a=i&&i[r[1]];"function"==typeof a&&a.apply(window,t[e].d)}else i.apply(window,t[e].d)}catch(t){console.error(t)}window&&window.localStorage||(window.ALLOY_REPORT_NEXT=null)}},this.doInsideReport=function(){for(var t=g.c.getLastInsideDatas(),e=t.monitor,n=t.adt,r=0;r<e.length;r++)Object(l.monitor)(e[r]);for(var o=0;o<n.length;o++)Object(l.tdwReport)(n[o],!1,"dc05239")},this.init()}return c()(e,[{key:"printBuildInfo",value:function(){console.log("AlloyReport-SDK-".concat("V4.3.89-build.2024.11.19"))}},{key:"doSDKLoadedReport",value:function(){this.report.monitor(g.b.SDK_LOAD)}}]),e}())).report,w=_.a}.call(this,n(40))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return y}));var r=n(26),o=n(48),i=(n(53),","),a=["OTEL_SDK_DISABLED"];function u(t){return a.indexOf(t)>-1}var c=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function s(t){return c.indexOf(t)>-1}var l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function f(t){return l.indexOf(t)>-1}var d={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:r.a.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:1/0,OTEL_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:1/0,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:1/0,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:o.a.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function p(t,e,n){if(void 0!==n[t]){var r=String(n[t]);e[t]="true"===r.toLowerCase()}}function h(t,e,n,r,o){if(void 0===r&&(r=-1/0),void 0===o&&(o=1/0),void 0!==n[t]){var i=Number(n[t]);isNaN(i)||(e[t]=i<r?r:i>o?o:i)}}function v(t,e,n,r){void 0===r&&(r=i);var o=n[t];"string"==typeof o&&(e[t]=o.split(r).map((function(t){return t.trim()})))}var g={ALL:r.a.ALL,VERBOSE:r.a.VERBOSE,DEBUG:r.a.DEBUG,INFO:r.a.INFO,WARN:r.a.WARN,ERROR:r.a.ERROR,NONE:r.a.NONE};function m(t,e,n){var r=n[t];if("string"==typeof r){var o=g[r.toUpperCase()];null!=o&&(e[t]=o)}}function y(t){var e={};for(var n in d){var r=n;switch(r){case"OTEL_LOG_LEVEL":m(r,e,t);break;default:if(u(r))p(r,e,t);else if(s(r))h(r,e,t);else if(f(r))v(r,e,t);else{var o=t[r];null!=o&&(e[r]=String(o))}}}return e}}).call(this,n(62))},function(t,e,n){var r,o=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var i={compressToBase64:function(t){if(null==t)return"";var n=i._compress(t,6,(function(t){return e.charAt(t)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:i._decompress(t.length,32,(function(n){return o(e,t.charAt(n))}))},compressToUTF16:function(e){return null==e?"":i._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:i._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=i.compress(t),n=new Uint8Array(2*e.length),r=0,o=e.length;r<o;r++){var a=e.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(e){if(null==e)return i.decompress(e);for(var n=new Array(e.length/2),r=0,o=n.length;r<o;r++)n[r]=256*e[2*r]+e[2*r+1];var a=[];return n.forEach((function(e){a.push(t(e))})),i.decompress(a.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":i._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),i._decompress(t.length,32,(function(e){return o(n,t.charAt(e))})))},compress:function(e){return i._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,n){if(null==t)return"";var r,o,i,a={},u={},c="",s="",l="",f=2,d=3,p=2,h=[],v=0,g=0;for(i=0;i<t.length;i+=1)if(c=t.charAt(i),Object.prototype.hasOwnProperty.call(a,c)||(a[c]=d++,u[c]=!0),s=l+c,Object.prototype.hasOwnProperty.call(a,s))l=s;else{if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(r=0;r<p;r++)v<<=1,g==e-1?(g=0,h.push(n(v)),v=0):g++;for(o=l.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&o,g==e-1?(g=0,h.push(n(v)),v=0):g++,o>>=1}else{for(o=1,r=0;r<p;r++)v=v<<1|o,g==e-1?(g=0,h.push(n(v)),v=0):g++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&o,g==e-1?(g=0,h.push(n(v)),v=0):g++,o>>=1}0==--f&&(f=Math.pow(2,p),p++),delete u[l]}else for(o=a[l],r=0;r<p;r++)v=v<<1|1&o,g==e-1?(g=0,h.push(n(v)),v=0):g++,o>>=1;0==--f&&(f=Math.pow(2,p),p++),a[s]=d++,l=String(c)}if(""!==l){if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(r=0;r<p;r++)v<<=1,g==e-1?(g=0,h.push(n(v)),v=0):g++;for(o=l.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&o,g==e-1?(g=0,h.push(n(v)),v=0):g++,o>>=1}else{for(o=1,r=0;r<p;r++)v=v<<1|o,g==e-1?(g=0,h.push(n(v)),v=0):g++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&o,g==e-1?(g=0,h.push(n(v)),v=0):g++,o>>=1}0==--f&&(f=Math.pow(2,p),p++),delete u[l]}else for(o=a[l],r=0;r<p;r++)v=v<<1|1&o,g==e-1?(g=0,h.push(n(v)),v=0):g++,o>>=1;0==--f&&(f=Math.pow(2,p),p++)}for(o=2,r=0;r<p;r++)v=v<<1|1&o,g==e-1?(g=0,h.push(n(v)),v=0):g++,o>>=1;for(;;){if(v<<=1,g==e-1){h.push(n(v));break}g++}return h.join("")},decompress:function(t){return null==t?"":""==t?null:i._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,n,r){var o,i,a,u,c,s,l,f=[],d=4,p=4,h=3,v="",g=[],m={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)f[o]=o;for(a=0,c=Math.pow(2,2),s=1;s!=c;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*s,s<<=1;switch(a){case 0:for(a=0,c=Math.pow(2,8),s=1;s!=c;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*s,s<<=1;l=t(a);break;case 1:for(a=0,c=Math.pow(2,16),s=1;s!=c;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*s,s<<=1;l=t(a);break;case 2:return""}for(f[3]=l,i=l,g.push(l);;){if(m.index>e)return"";for(a=0,c=Math.pow(2,h),s=1;s!=c;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*s,s<<=1;switch(l=a){case 0:for(a=0,c=Math.pow(2,8),s=1;s!=c;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*s,s<<=1;f[p++]=t(a),l=p-1,d--;break;case 1:for(a=0,c=Math.pow(2,16),s=1;s!=c;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*s,s<<=1;f[p++]=t(a),l=p-1,d--;break;case 2:return g.join("")}if(0==d&&(d=Math.pow(2,h),h++),f[l])v=f[l];else{if(l!==p)return null;v=i+i.charAt(0)}g.push(v),f[p++]=i+v.charAt(0),i=v,0==--d&&(d=Math.pow(2,h),h++)}}};return i}();void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"}(r||(r={}))},function(t,e,n){"use strict";e.a=function(t,e){if(!e)return!0;for(var n=t.replace(/[^0-9.]/g,""),r=e.replace(/[^0-9.]/g,""),o=n.split("."),i=r.split(".");o.length&&i.length;){var a=Number(o.shift()),u=Number(i.shift());if(a>u)return!0;if(a<u)return!1}return o.length?!o.every((function(t){return 0===Number(t)})):(i.length,!1)}},function(t,e,n){"use strict";var r=n(9),o=n(17),i={},a={},u=!1;r.b.on("beforeunload",(function(){var t=0;for(var e in u=!0,i)i.hasOwnProperty(e)&&(window.clearTimeout(a[e]),i[e](),t++);o.c.adtSum(o.a.REPORT_ONEXIT,t)})),e.a=function(t,e,n,r){if(i[t])return u&&(delete i[t],e()),void(r&&r()&&(delete i[t],e()));clearTimeout(a[t]),i[t]=e,a[t]=setTimeout((function(){delete i[t],e()}),n)}},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(40))},function(t,e,n){"use strict";(function(t){var r=n(27),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.a.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(56)(t))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var r="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof t?t:{}}).call(this,n(40))},,function(t,e,n){},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},,,function(t,e,n){var r=n(16).default,o=n(87);t.exports=function(t){var e=o(t,"string");return"symbol"===r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(60);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,s=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&p())}function p(){if(!l){var t=u(d);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new h(t,e)),1!==s.length||l||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(7),o=n.n(r),i=n(6),a=n.n(i),u=n(5),c=o()((function t(){var e=this;a()(this,t),this.namespaceCache={},this.create=function(t){e.namespaceCache[t]||(e.namespaceCache[t]={});var n=e.namespaceCache[t];return{on:function(t,r){e.on(n,t,r)},trigger:function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];e.trigger.apply(e,[n,t].concat(o))},remove:function(t,r){e.remove(n,t,r)},getLength:function(t){return e.getLength(n,t)}}},this.on=function(t,e,n){e&&"function"==typeof n&&(void 0===t[e]&&(t[e]=[]),t[e].push(n))},this.trigger=function(t,e){if(e&&t[e]){for(var n=t[e],r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];for(var a=0;a<n.length;a++)try{n[a].apply(n,o)}catch(t){Object(u.a)(t)}}},this.remove=function(t,e,n){if(e&&t[e]){for(var r=t[e],o=-1,i=0;i<r.length;i++)r[i]===n&&(o=i);1!==o&&r.splice(o,1)}},this.getLength=function(t,e){return e&&t[e]?t[e].length:0}}));e.a=c},function(t,e,n){t.exports=function(){return n(94)('!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){self,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=39)}([function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return u})),n.d(e,"i",(function(){return c})),n.d(e,"h",(function(){return f})),n.d(e,"l",(function(){return l})),n.d(e,"f",(function(){return h})),n.d(e,"j",(function(){return p})),n.d(e,"m",(function(){return d})),n.d(e,"c",(function(){return v})),n.d(e,"g",(function(){return y})),n.d(e,"k",(function(){return g})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return w}));var r=n(9),o=n.n(r),i="undefined"!=typeof window&&window&&window.navigator?window:null,a="undefined"!=typeof self&&self&&self.navigator?self:null,s=y()?qq||wx:null,u=i||a,c=i&&i.localStorage&&"function"==typeof i.localStorage.getItem?1:y()&&"function"==typeof s.getStorage?2:0,f="object"===("undefined"==typeof indexedDB?"undefined":o()(indexedDB))&&"function"==typeof indexedDB.open;function l(t,e,n){for(var r in e)if(e.hasOwnProperty(r)){if(n&&-1!==n.indexOf(r))continue;var o=e[r];void 0!==o&&(t[r]=o)}}function h(t){if(!t)return!1;var e=t.constructor.toString().substring(9).indexOf("Array");return t&&e>-1&&e<=1}function p(t,e){for(var n in e)(r=e[n])&&"object"===o()(r)&&!h(r)?p(t[n],e[n]):t[n]=e[n];var r}function d(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push("".concat(encodeURIComponent(String(n)),"=").concat(encodeURIComponent(String(t[n]))));return e.join("&")}function v(){return(new Date).getTime()}function y(){return"object"===("undefined"==typeof qq?"undefined":o()(qq))&&qq.canIUse?qq.canIUse("request"):!("object"!==("undefined"==typeof wx?"undefined":o()(wx))||!wx.canIUse)&&wx.canIUse("request")}function g(t,e){for(var n=Object.keys(t),r=n.length,o=0;o<r;o++){var i=n[o];e(i,t[i])}}function m(t){return!!(u&&u.location&&u.location.search.indexOf(t)>0)}function b(){return m("alloy_report_debug")||m("alloy-report-debug")}function w(){return m("alloy_report_close")||m("alloy-report-close")}}).call(this,n(15))},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(26);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return v})),n.d(e,"d",(function(){return y}));var r=n(12),o=n.n(r),i=n(0),a="[AlloyReport-Worker]",s=Object(i.e)(),u=console,c=(u.log,u.error),f=u.warn,l=u.info,h=function(t,e){t.apply(void 0,[a].concat(o()(e)))},p=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];c.apply(void 0,[a].concat(e))},d=function(){if(s){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];h(f,e)}},v=function(){if(s){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];h(l,e)}},y=function(t){s=t}},function(t,e,n){"use strict";(function(t,r){n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return f}));var o=n(21),i=n(0),a=n(5),s=new o.a,u=s.create("global"),c=s.create("hooks"),f=s.create("dispatch");!function(){if(i.b&&i.b.addEventListener){var e=function(){a.a&&a.a.postMessageToWorker&&a.a.postMessageToWorker({type:"beforeunload"},!0),u.trigger("beforeunload")};i.b.addEventListener("beforeunload",e),i.b.addEventListener("pagehide",e)}else t&&t.isNodePlatform&&r.on("beforeExit",(function(){u.trigger("beforeunload")}))}()}).call(this,n(15),n(28))},function(t,e,n){"use strict";e.a={}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(35)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";var r=n(16),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();e.a=i},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(37);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(9).default,o=n(38);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(29),o=n(30),i=n(20),a=n(31);t.exports=function(t){return r(t)||o(t)||i(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,r){"use strict";(function(t){var o=r(16),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i&&o.a.process,u=function(){try{return a&&a.require&&a.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();n.a=u}).call(this,r(18)(t))},function(t,n,r){"use strict";(function(t){var o=r(8),i=r(23),a=e&&!e.nodeType&&e,s=a&&"object"==typeof t&&t&&!t.nodeType&&t,u=s&&s.exports===a?o.a.Buffer:void 0,c=(u?u.isBuffer:void 0)||i.a;n.a=c}).call(this,r(18)(t))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(15))},function(t,n,r){"use strict";(function(t){var o=r(8),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i?o.a.Buffer:void 0,u=s?s.allocUnsafe:void 0;n.a=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,r(18)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(19);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(2),o=n.n(r),i=n(1),a=n.n(i),s=n(3),u=o()((function t(){var e=this;a()(this,t),this.namespaceCache={},this.create=function(t){e.namespaceCache[t]||(e.namespaceCache[t]={});var n=e.namespaceCache[t];return{on:function(t,r){e.on(n,t,r)},trigger:function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];e.trigger.apply(e,[n,t].concat(o))},remove:function(t,r){e.remove(n,t,r)},getLength:function(t){return e.getLength(n,t)}}},this.on=function(t,e,n){e&&"function"==typeof n&&(void 0===t[e]&&(t[e]=[]),t[e].push(n))},this.trigger=function(t,e){if(e&&t[e]){for(var n=t[e],r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];for(var a=0;a<n.length;a++)try{n[a].apply(n,o)}catch(t){Object(s.a)(t)}}},this.remove=function(t,e,n){if(e&&t[e]){for(var r=t[e],o=-1,i=0;i<r.length;i++)r[i]===n&&(o=i);1!==o&&r.splice(o,1)}},this.getLength=function(t,e){return e&&t[e]?t[e].length:0}}));e.a=u},function(t,e,n){"use strict";(function(t){function r(e,n){var r,o=null,i=(n?"?".concat(n.split("?")[1]||""):null===(r=t.location)||void 0===r?void 0:r.search)||"";return i&&(o=i.match(new RegExp("(\\\\?|&)".concat(e,"=([^&]*)(&|$)")))),o?decodeURIComponent(o[2]):""}n.d(e,"a",(function(){return r}))}).call(this,n(15))},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){var r=n(32),o=n(33),i=n(20),a=n(34);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r,o=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var i={compressToBase64:function(t){if(null==t)return"";var n=i._compress(t,6,(function(t){return e.charAt(t)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:i._decompress(t.length,32,(function(n){return o(e,t.charAt(n))}))},compressToUTF16:function(e){return null==e?"":i._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:i._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=i.compress(t),n=new Uint8Array(2*e.length),r=0,o=e.length;r<o;r++){var a=e.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(e){if(null==e)return i.decompress(e);for(var n=new Array(e.length/2),r=0,o=n.length;r<o;r++)n[r]=256*e[2*r]+e[2*r+1];var a=[];return n.forEach((function(e){a.push(t(e))})),i.decompress(a.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":i._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),i._decompress(t.length,32,(function(e){return o(n,t.charAt(e))})))},compress:function(e){return i._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,n){if(null==t)return"";var r,o,i,a={},s={},u="",c="",f="",l=2,h=3,p=2,d=[],v=0,y=0;for(i=0;i<t.length;i+=1)if(u=t.charAt(i),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=h++,s[u]=!0),c=f+u,Object.prototype.hasOwnProperty.call(a,c))f=c;else{if(Object.prototype.hasOwnProperty.call(s,f)){if(f.charCodeAt(0)<256){for(r=0;r<p;r++)v<<=1,y==e-1?(y=0,d.push(n(v)),v=0):y++;for(o=f.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&o,y==e-1?(y=0,d.push(n(v)),v=0):y++,o>>=1}else{for(o=1,r=0;r<p;r++)v=v<<1|o,y==e-1?(y=0,d.push(n(v)),v=0):y++,o=0;for(o=f.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&o,y==e-1?(y=0,d.push(n(v)),v=0):y++,o>>=1}0==--l&&(l=Math.pow(2,p),p++),delete s[f]}else for(o=a[f],r=0;r<p;r++)v=v<<1|1&o,y==e-1?(y=0,d.push(n(v)),v=0):y++,o>>=1;0==--l&&(l=Math.pow(2,p),p++),a[c]=h++,f=String(u)}if(""!==f){if(Object.prototype.hasOwnProperty.call(s,f)){if(f.charCodeAt(0)<256){for(r=0;r<p;r++)v<<=1,y==e-1?(y=0,d.push(n(v)),v=0):y++;for(o=f.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&o,y==e-1?(y=0,d.push(n(v)),v=0):y++,o>>=1}else{for(o=1,r=0;r<p;r++)v=v<<1|o,y==e-1?(y=0,d.push(n(v)),v=0):y++,o=0;for(o=f.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&o,y==e-1?(y=0,d.push(n(v)),v=0):y++,o>>=1}0==--l&&(l=Math.pow(2,p),p++),delete s[f]}else for(o=a[f],r=0;r<p;r++)v=v<<1|1&o,y==e-1?(y=0,d.push(n(v)),v=0):y++,o>>=1;0==--l&&(l=Math.pow(2,p),p++)}for(o=2,r=0;r<p;r++)v=v<<1|1&o,y==e-1?(y=0,d.push(n(v)),v=0):y++,o>>=1;for(;;){if(v<<=1,y==e-1){d.push(n(v));break}y++}return d.join("")},decompress:function(t){return null==t?"":""==t?null:i._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,n,r){var o,i,a,s,u,c,f,l=[],h=4,p=4,d=3,v="",y=[],g={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)l[o]=o;for(a=0,u=Math.pow(2,2),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;switch(a){case 0:for(a=0,u=Math.pow(2,8),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;f=t(a);break;case 1:for(a=0,u=Math.pow(2,16),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;f=t(a);break;case 2:return""}for(l[3]=f,i=f,y.push(f);;){if(g.index>e)return"";for(a=0,u=Math.pow(2,d),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;switch(f=a){case 0:for(a=0,u=Math.pow(2,8),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;l[p++]=t(a),f=p-1,h--;break;case 1:for(a=0,u=Math.pow(2,16),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;l[p++]=t(a),f=p-1,h--;break;case 2:return y.join("")}if(0==h&&(h=Math.pow(2,d),d++),l[f])v=l[f];else{if(f!==p)return null;v=i+i.charAt(0)}y.push(v),l[p++]=i+v.charAt(0),i=v,0==--h&&(h=Math.pow(2,d),d++)}}};return i}();void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r=n(9).default,o=n(27);t.exports=function(t){var e=o(t,"string");return"symbol"===r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(9).default;t.exports=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],f=!1,l=-1;function h(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=s(h);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||f||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(19);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(9).default;function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),s=new R(r||[]);return a(i,"_invoke",{value:_(t,n,s)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d={};function v(){}function y(){}function g(){}var m={};l(m,u,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(D([])));w&&w!==n&&i.call(w,u)&&(m=w);var O=g.prototype=v.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){var n;a(this,"_invoke",{value:function(o,a){function s(){return new e((function(n,s){!function n(o,a,s,u){var c=p(t[o],t,a);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==r(l)&&i.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}(o,a,n,s)}))}return n=n?n.then(s,s):s()}})}function _(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a \'"+n+"\' method")),d;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function D(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return y.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=l(g,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,f,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},x(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(O),l(O,f,"Generator"),l(O,u,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=D,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){(function(t){!function(){var e;function n(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},o="undefined"!=typeof window&&window===this?this:void 0!==t&&null!=t?t:this;function i(){i=function(){},o.Symbol||(o.Symbol=c)}function a(t,e){this.s=t,r(this,"description",{configurable:!0,writable:!0,value:e})}a.prototype.toString=function(){return this.s};var s,u,c=(s=0,function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_"+(e||"")+"_"+s++,e)});function f(){i();var t=o.Symbol.iterator;t||(t=o.Symbol.iterator=o.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[t]&&r(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return function(t){return f(),(t={next:t})[o.Symbol.iterator]=function(){return this},t}(n(this))}}),f=function(){}}function l(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:n(t)}}if("function"==typeof Object.setPrototypeOf)u=Object.setPrototypeOf;else{var h;t:{var p={};try{p.__proto__={v:!0},h=p.v;break t}catch(t){}h=!1}u=h?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var d=u;function v(){this.h=!1,this.c=null,this.o=void 0,this.b=1,this.m=this.w=0,this.g=null}function y(t){if(t.h)throw new TypeError("Generator is already running");t.h=!0}function g(t,e,n){return t.b=n,{value:e}}function m(t){for(var e in this.C=t,this.l=[],t)this.l.push(e);this.l.reverse()}function b(t){this.a=new v,this.D=t}function w(t,e,n,r){try{var o=e.call(t.a.c,n);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return t.a.h=!1,o;var i=o.value}catch(e){return t.a.c=null,t.a.j(e),O(t)}return t.a.c=null,r.call(t.a,i),O(t)}function O(t){for(;t.a.b;)try{var e=t.D(t.a);if(e)return t.a.h=!1,{value:e.value,done:!1}}catch(e){t.a.o=void 0,t.a.j(e)}if(t.a.h=!1,t.a.g){if(e=t.a.g,t.a.g=null,e.B)throw e.A;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function x(t){this.next=function(e){return t.i(e)},this.throw=function(e){return t.j(e)},this.return=function(e){return function(t,e){y(t.a);var n=t.a.c;return n?w(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),O(t))}(t,e)},f(),this[Symbol.iterator]=function(){return this}}function j(t,e){var n=new x(new b(e));return d&&d(n,t.prototype),n}if(v.prototype.i=function(t){this.o=t},v.prototype.j=function(t){this.g={A:t,B:!0},this.b=this.w||this.m},v.prototype.return=function(t){this.g={return:t},this.b=this.m},b.prototype.i=function(t){return y(this.a),this.a.c?w(this,this.a.c.next,t,this.a.i):(this.a.i(t),O(this))},b.prototype.j=function(t){return y(this.a),this.a.c?w(this,this.a.c.throw,t,this.a.i):(this.a.j(t),O(this))},"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var _=function(t,e){for(var n=0;n<t.length;n++)e(t[n])},S=function(t,e,n){return e instanceof Blob?[String(t),e,void 0!==n?n+"":"string"==typeof e.name?e.name:"blob"]:[String(t),String(e)]},k=function(t,e){if(t.length<e)throw new TypeError(e+" argument required, but only "+t.length+" present.")},T=function(t){var e=l(t);return t=e.next().value,e=e.next().value,t instanceof Blob&&(t=new File([t],e,{type:t.type,lastModified:t.lastModified})),t},R="object"==typeof window?window:"object"==typeof self?self:this,D=R.FormData,E=R.XMLHttpRequest&&R.XMLHttpRequest.prototype.send,M=R.Request&&R.fetch,I=R.navigator&&R.navigator.sendBeacon;i();var C=R.Symbol&&Symbol.toStringTag;C&&(Blob.prototype[C]||(Blob.prototype[C]="Blob"),"File"in R&&!File.prototype[C]&&(File.prototype[C]="File"));try{new File([],"")}catch(t){R.File=function(t,e,n){return t=new Blob(t,n),n=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date,Object.defineProperties(t,{name:{value:e},lastModifiedDate:{value:n},lastModified:{value:+n},toString:{value:function(){return"[object File]"}}}),C&&Object.defineProperty(t,C,{value:"File"}),t}}i(),f();var A=function(t){if(this.f=Object.create(null),!t)return this;var e=this;_(t.elements,(function(t){if(t.name&&!t.disabled&&"submit"!==t.type&&"button"!==t.type)if("file"===t.type){var n=t.files&&t.files.length?t.files:[new File([],"",{type:"application/octet-stream"})];_(n,(function(n){e.append(t.name,n)}))}else"select-multiple"===t.type||"select-one"===t.type?_(t.options,(function(n){!n.disabled&&n.selected&&e.append(t.name,n.value)})):"checkbox"===t.type||"radio"===t.type?t.checked&&e.append(t.name,t.value):(n="textarea"===t.type?t.value.replace(/\\r\\n/g,"\\n").replace(/\\n/g,"\\r\\n"):t.value,e.append(t.name,n))}))};if((e=A.prototype).append=function(t,e,n){k(arguments,2);var r=l(S.apply(null,arguments));t=r.next().value,e=r.next().value,n=r.next().value,(r=this.f)[t]||(r[t]=[]),r[t].push([e,n])},e.delete=function(t){k(arguments,1),delete this.f[String(t)]},e.entries=function t(){var e,n,r,o,i,a,s=this;return j(t,(function(t){switch(t.b){case 1:e=s.f,r=new m(e);case 2:var u;t:{for(u=r;0<u.l.length;){var c=u.l.pop();if(c in u.C){u=c;break t}}u=null}if(null==(n=u)){t.b=0;break}o=l(e[n]),i=o.next();case 5:if(i.done){t.b=2;break}return a=i.value,g(t,[n,T(a)],6);case 6:i=o.next(),t.b=5}}))},e.forEach=function(t,e){k(arguments,1);for(var n=l(this),r=n.next();!r.done;r=n.next()){var o=l(r.value);r=o.next().value,o=o.next().value,t.call(e,o,r,this)}},e.get=function(t){k(arguments,1);var e=this.f;return e[t=String(t)]?T(e[t][0]):null},e.getAll=function(t){return k(arguments,1),(this.f[String(t)]||[]).map(T)},e.has=function(t){return k(arguments,1),String(t)in this.f},e.keys=function t(){var e,n,r,o=this;return j(t,(function(t){if(1==t.b&&(e=l(o),n=e.next()),3!=t.b)return n.done?void(t.b=0):(r=n.value,g(t,l(r).next().value,3));n=e.next(),t.b=2}))},e.set=function(t,e,n){k(arguments,2);var r=S.apply(null,arguments);this.f[r[0]]=[[r[1],r[2]]]},e.values=function t(){var e,n,r,o,i=this;return j(t,(function(t){if(1==t.b&&(e=l(i),n=e.next()),3!=t.b)return n.done?void(t.b=0):(r=n.value,(o=l(r)).next(),g(t,o.next().value,3));n=e.next(),t.b=2}))},A.prototype._asNative=function(){for(var t=new D,e=l(this),n=e.next();!n.done;n=e.next()){var r=l(n.value);n=r.next().value,r=r.next().value,t.append(n,r)}return t},A.prototype._blob=function(){for(var t="----formdata-polyfill-"+Math.random(),e=[],n=l(this),r=n.next();!r.done;r=n.next()){var o=l(r.value);r=o.next().value,o=o.next().value,e.push("--"+t+"\\r\\n"),o instanceof Blob?e.push(\'Content-Disposition: form-data; name="\'+r+\'"; filename="\'+o.name+\'"\\r\\n\',"Content-Type: "+(o.type||"application/octet-stream")+"\\r\\n\\r\\n",o,"\\r\\n"):e.push(\'Content-Disposition: form-data; name="\'+r+\'"\\r\\n\\r\\n\'+o+"\\r\\n")}return e.push("--"+t+"--"),new Blob(e,{type:"multipart/form-data; boundary="+t})},A.prototype[Symbol.iterator]=function(){return this.entries()},A.prototype.toString=function(){return"[object FormData]"},C&&(A.prototype[C]="FormData"),E){var B=R.XMLHttpRequest.prototype.setRequestHeader;R.XMLHttpRequest.prototype.setRequestHeader=function(t,e){B.call(this,t,e),"content-type"===t.toLowerCase()&&(this.u=!0)},R.XMLHttpRequest.prototype.send=function(t){t instanceof A?(t=t._blob(),this.u||this.setRequestHeader("Content-Type",t.type),E.call(this,t)):E.call(this,t)}}if(M){var L=R.fetch;R.fetch=function(t,e){return e&&e.body&&e.body instanceof A&&(e.body=e.body._blob()),L.call(this,t,e)}}I&&(R.navigator.sendBeacon=function(t,e){return e instanceof A&&(e=e._asNative()),I.call(this,t,e)}),R.FormData=A}}()}).call(this,n(15))},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.r(e);var r=n(1),o=n.n(r),i=n(2),a=n.n(i),s=n(4),u=n(0),c=n(3),f=n(5);function l(){return h()&&!1}function h(){return!(!f.a||!f.a.worker)}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===p(e)?e:String(e)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function g(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t,e,n){return(e=v(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t,e){return t===e||t!=t&&e!=e},w=function(t,e){for(var n=t.length;n--;)if(b(t[n][0],e))return n;return-1},O=Array.prototype.splice;function x(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}x.prototype.clear=function(){this.__data__=[],this.size=0},x.prototype.delete=function(t){var e=this.__data__,n=w(e,t);return!(n<0||(n==e.length-1?e.pop():O.call(e,n,1),--this.size,0))},x.prototype.get=function(t){var e=this.__data__,n=w(e,t);return n<0?void 0:e[n][1]},x.prototype.has=function(t){return w(this.__data__,t)>-1},x.prototype.set=function(t,e){var n=this.__data__,r=w(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var j,_=x,S=n(8),k=S.a.Symbol,T=Object.prototype,R=T.hasOwnProperty,D=T.toString,E=k?k.toStringTag:void 0,M=Object.prototype.toString,I=k?k.toStringTag:void 0,C=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":I&&I in Object(t)?function(t){var e=R.call(t,E),n=t[E];try{t[E]=void 0;var r=!0}catch(t){}var o=D.call(t);return r&&(e?t[E]=n:delete t[E]),o}(t):function(t){return M.call(t)}(t)},A=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},B=function(t){if(!A(t))return!1;var e=C(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},L=S.a["__core-js_shared__"],P=(j=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",N=Function.prototype.toString,q=function(t){if(null!=t){try{return N.call(t)}catch(t){}try{return t+""}catch(t){}}return""},F=/^\\[object .+?Constructor\\]$/,U=Function.prototype,W=Object.prototype,Q=U.toString,K=W.hasOwnProperty,H=RegExp("^"+Q.call(K).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$"),z=function(t){return!(!A(t)||function(t){return!!P&&P in t}(t))&&(B(t)?H:F).test(q(t))},V=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return z(n)?n:void 0},G=V(S.a,"Map"),J=V(Object,"create"),$=Object.prototype.hasOwnProperty,X=Object.prototype.hasOwnProperty;function Z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Z.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},Z.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Z.prototype.get=function(t){var e=this.__data__;if(J){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return $.call(e,t)?e[t]:void 0},Z.prototype.has=function(t){var e=this.__data__;return J?void 0!==e[t]:X.call(e,t)},Z.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=J&&void 0===e?"__lodash_hash_undefined__":e,this};var Y=Z,tt=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}et.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(G||_),string:new Y}},et.prototype.delete=function(t){var e=tt(this,t).delete(t);return this.size-=e?1:0,e},et.prototype.get=function(t){return tt(this,t).get(t)},et.prototype.has=function(t){return tt(this,t).has(t)},et.prototype.set=function(t,e){var n=tt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var nt=et;function rt(t){var e=this.__data__=new _(t);this.size=e.size}rt.prototype.clear=function(){this.__data__=new _,this.size=0},rt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},rt.prototype.get=function(t){return this.__data__.get(t)},rt.prototype.has=function(t){return this.__data__.has(t)},rt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof _){var r=n.__data__;if(!G||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nt(r)}return n.set(t,e),this.size=n.size,this};var ot=rt,it=function(){try{var t=V(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),at=function(t,e,n){"__proto__"==e&&it?it(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},st=function(t,e,n){(void 0===n||b(t[e],n))&&(void 0!==n||e in t)||at(t,e,n)},ut=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var s=i[++r];if(!1===e(o[s],s,o))break}return t},ct=n(17),ft=S.a.Uint8Array,lt=function(t){var e=new t.constructor(t.byteLength);return new ft(e).set(new ft(t)),e},ht=function(t,e){var n=e?lt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},pt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},dt=Object.create,vt=function(){function t(){}return function(e){if(!A(e))return{};if(dt)return dt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),yt=function(t,e){return function(n){return t(e(n))}},gt=yt(Object.getPrototypeOf,Object),mt=Object.prototype,bt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||mt)},wt=function(t){return"function"!=typeof t.constructor||bt(t)?{}:vt(gt(t))},Ot=function(t){return null!=t&&"object"==typeof t},xt=function(t){return Ot(t)&&"[object Arguments]"==C(t)},jt=Object.prototype,_t=jt.hasOwnProperty,St=jt.propertyIsEnumerable,kt=xt(function(){return arguments}())?xt:function(t){return Ot(t)&&_t.call(t,"callee")&&!St.call(t,"callee")},Tt=Array.isArray,Rt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Dt=function(t){return null!=t&&Rt(t.length)&&!B(t)},Et=n(14),Mt=Function.prototype,It=Object.prototype,Ct=Mt.toString,At=It.hasOwnProperty,Bt=Ct.call(Object),Lt={};Lt["[object Float32Array]"]=Lt["[object Float64Array]"]=Lt["[object Int8Array]"]=Lt["[object Int16Array]"]=Lt["[object Int32Array]"]=Lt["[object Uint8Array]"]=Lt["[object Uint8ClampedArray]"]=Lt["[object Uint16Array]"]=Lt["[object Uint32Array]"]=!0,Lt["[object Arguments]"]=Lt["[object Array]"]=Lt["[object ArrayBuffer]"]=Lt["[object Boolean]"]=Lt["[object DataView]"]=Lt["[object Date]"]=Lt["[object Error]"]=Lt["[object Function]"]=Lt["[object Map]"]=Lt["[object Number]"]=Lt["[object Object]"]=Lt["[object RegExp]"]=Lt["[object Set]"]=Lt["[object String]"]=Lt["[object WeakMap]"]=!1;var Pt=function(t){return function(e){return t(e)}},Nt=n(13),qt=Nt.a&&Nt.a.isTypedArray,Ft=qt?Pt(qt):function(t){return Ot(t)&&Rt(t.length)&&!!Lt[C(t)]},Ut=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Wt=Object.prototype.hasOwnProperty,Qt=function(t,e,n){var r=t[e];Wt.call(t,e)&&b(r,n)&&(void 0!==n||e in t)||at(t,e,n)},Kt=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var s=e[i],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),o?at(n,s,u):Qt(n,s,u)}return n},Ht=/^(?:0|[1-9]\\d*)$/,zt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ht.test(t))&&t>-1&&t%1==0&&t<e},Vt=Object.prototype.hasOwnProperty,Gt=function(t,e){var n=Tt(t),r=!n&&kt(t),o=!n&&!r&&Object(Et.a)(t),i=!n&&!r&&!o&&Ft(t),a=n||r||o||i,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var c in t)!e&&!Vt.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zt(c,u))||s.push(c);return s},Jt=Object.prototype.hasOwnProperty,$t=function(t){if(!A(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=bt(t),n=[];for(var r in t)("constructor"!=r||!e&&Jt.call(t,r))&&n.push(r);return n},Xt=function(t){return Dt(t)?Gt(t,!0):$t(t)},Zt=function(t,e,n,r,o,i,a){var s=Ut(t,n),u=Ut(e,n),c=a.get(u);if(c)st(t,n,c);else{var f=i?i(s,u,n+"",t,e,a):void 0,l=void 0===f;if(l){var h=Tt(u),p=!h&&Object(Et.a)(u),d=!h&&!p&&Ft(u);f=u,h||p||d?Tt(s)?f=s:function(t){return Ot(t)&&Dt(t)}(s)?f=pt(s):p?(l=!1,f=Object(ct.a)(u,!0)):d?(l=!1,f=ht(u,!0)):f=[]:function(t){if(!Ot(t)||"[object Object]"!=C(t))return!1;var e=gt(t);if(null===e)return!0;var n=At.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ct.call(n)==Bt}(u)||kt(u)?(f=s,kt(s)?f=function(t){return Kt(t,Xt(t))}(s):A(s)&&!B(s)||(f=wt(u))):l=!1}l&&(a.set(u,f),o(f,u,r,i,a),a.delete(u)),st(t,n,f)}},Yt=function(t){return t},te=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ee=Math.max,ne=function(t){return function(){return t}},re=it?function(t,e){return it(t,"toString",{configurable:!0,enumerable:!1,value:ne(e),writable:!0})}:Yt,oe=Date.now,ie=function(t){var e=0,n=0;return function(){var r=oe(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(re),ae=function(t,e){return ie(function(t,e,n){return e=ee(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=ee(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=r[o];return s[e]=n(a),te(t,this,s)}}(t,e,Yt),t+"")},se=function(t){return ae((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&function(t,e,n){if(!A(n))return!1;var r=typeof e;return!!("number"==r?Dt(n)&&zt(e,n.length):"string"==r&&e in n)&&b(n[e],t)}(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var s=n[r];s&&t(e,s,r)}return e}))}((function(t,e,n){!function t(e,n,r,o,i){e!==n&&ut(n,(function(a,s){if(i||(i=new ot),A(a))Zt(e,n,s,r,t,o,i);else{var u=o?o(Ut(e,s),a,s+"",e,n,i):void 0;void 0===u&&(u=a),st(e,s,u)}}),Xt)}(t,e,n)})),ue=function(t){return"symbol"==typeof t||Ot(t)&&"[object Symbol]"==C(t)},ce=/\\.|\\[(?:[^[\\]]*|(["\'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,fe=/^\\w*$/,le="Expected a function";function he(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(le);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(he.Cache||nt),n}he.Cache=nt;var pe=he,de=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,ve=/\\\\(\\\\)?/g,ye=function(t){var e=pe((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(de,(function(t,n,r,o){e.push(r?o.replace(ve,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}(),ge=k?k.prototype:void 0,me=ge?ge.toString:void 0,be=function t(e){if("string"==typeof e)return e;if(Tt(e))return function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(e,t)+"";if(ue(e))return me?me.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},we=function(t,e){return Tt(t)?t:function(t,e){if(Tt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ue(t))||fe.test(t)||!ce.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:ye(function(t){return null==t?"":be(t)}(t))},Oe=function(t){if("string"==typeof t||ue(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},xe=function(t,e,n){var r=null==t?void 0:function(t,e){for(var n=0,r=(e=we(e,t)).length;null!=t&&n<r;)t=t[Oe(e[n++])];return n&&n==r?t:void 0}(t,e);return void 0===r?n:r},je=yt(Object.keys,Object),_e=Object.prototype.hasOwnProperty,Se=function(t){if(!bt(t))return je(t);var e=[];for(var n in Object(t))_e.call(t,n)&&"constructor"!=n&&e.push(n);return e},ke=V(S.a,"DataView"),Te=V(S.a,"Promise"),Re=V(S.a,"Set"),De=V(S.a,"WeakMap"),Ee=q(ke),Me=q(G),Ie=q(Te),Ce=q(Re),Ae=q(De),Be=C;(ke&&"[object DataView]"!=Be(new ke(new ArrayBuffer(1)))||G&&"[object Map]"!=Be(new G)||Te&&"[object Promise]"!=Be(Te.resolve())||Re&&"[object Set]"!=Be(new Re)||De&&"[object WeakMap]"!=Be(new De))&&(Be=function(t){var e=C(t),n="[object Object]"==e?t.constructor:void 0,r=n?q(n):"";if(r)switch(r){case Ee:return"[object DataView]";case Me:return"[object Map]";case Ie:return"[object Promise]";case Ce:return"[object Set]";case Ae:return"[object WeakMap]"}return e});var Le=Be,Pe=Object.prototype.hasOwnProperty,Ne=function(t){return Dt(t)?Gt(t):Se(t)},qe=function(){return[]},Fe=Object.prototype.propertyIsEnumerable,Ue=Object.getOwnPropertySymbols,We=Ue?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}(Ue(t),(function(e){return Fe.call(t,e)})))}:qe,Qe=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Ke=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Qe(e,We(t)),t=gt(t);return e}:qe,He=function(t,e,n){var r=e(t);return Tt(t)?r:Qe(r,n(t))},ze=function(t){return He(t,Ne,We)},Ve=function(t){return He(t,Xt,Ke)},Ge=Object.prototype.hasOwnProperty,Je=/\\w*$/,$e=k?k.prototype:void 0,Xe=$e?$e.valueOf:void 0,Ze=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return lt(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return function(t,e){var n=e?lt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ht(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,Je.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Set]":return new r;case"[object Symbol]":return function(t){return Xe?Object(Xe.call(t)):{}}(t)}},Ye=Nt.a&&Nt.a.isMap,tn=Ye?Pt(Ye):function(t){return Ot(t)&&"[object Map]"==Le(t)},en=Nt.a&&Nt.a.isSet,nn=en?Pt(en):function(t){return Ot(t)&&"[object Set]"==Le(t)},rn="[object Arguments]",on="[object Function]",an="[object Object]",sn={};sn[rn]=sn["[object Array]"]=sn["[object ArrayBuffer]"]=sn["[object DataView]"]=sn["[object Boolean]"]=sn["[object Date]"]=sn["[object Float32Array]"]=sn["[object Float64Array]"]=sn["[object Int8Array]"]=sn["[object Int16Array]"]=sn["[object Int32Array]"]=sn["[object Map]"]=sn["[object Number]"]=sn[an]=sn["[object RegExp]"]=sn["[object Set]"]=sn["[object String]"]=sn["[object Symbol]"]=sn["[object Uint8Array]"]=sn["[object Uint8ClampedArray]"]=sn["[object Uint16Array]"]=sn["[object Uint32Array]"]=!0,sn["[object Error]"]=sn[on]=sn["[object WeakMap]"]=!1;var un=function t(e,n,r,o,i,a){var s,u=1&n,c=2&n,f=4&n;if(r&&(s=i?r(e,o,i,a):r(e)),void 0!==s)return s;if(!A(e))return e;var l=Tt(e);if(l){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ge.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!u)return pt(e,s)}else{var h=Le(e),p=h==on||"[object GeneratorFunction]"==h;if(Object(Et.a)(e))return Object(ct.a)(e,u);if(h==an||h==rn||p&&!i){if(s=c||p?{}:wt(e),!u)return c?function(t,e){return Kt(t,Ke(t),e)}(e,function(t,e){return t&&Kt(e,Xt(e),t)}(s,e)):function(t,e){return Kt(t,We(t),e)}(e,function(t,e){return t&&Kt(e,Ne(e),t)}(s,e))}else{if(!sn[h])return i?e:{};s=Ze(e,h,u)}}a||(a=new ot);var d=a.get(e);if(d)return d;a.set(e,s),nn(e)?e.forEach((function(o){s.add(t(o,n,r,o,e,a))})):tn(e)&&e.forEach((function(o,i){s.set(i,t(o,n,r,i,e,a))}));var v=l?void 0:(f?c?Ve:ze:c?Xt:Ne)(e);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}(v||e,(function(o,i){v&&(o=e[i=o]),Qt(s,i,t(o,n,r,i,e,a))})),s},cn=function(t){return un(t,5)},fn=n(22),ln=function(){function t(){d(this,t),m(this,"cache",void 0),this.cache={}}return g(t,[{key:"bind",value:function(t){se(this.cache,t)}},{key:"get",value:function(t){return xe(this.cache,t)}},{key:"clear",value:function(){this.cache={}}},{key:"getAll",value:function(){return this.cache}}]),t}(),hn=function(){function t(){d(this,t),m(this,"cache",void 0),this.cache=new ln,this.init()}return g(t,[{key:"bind",value:function(t){(function(t){if(null==t)return!0;if(Dt(t)&&(Tt(t)||"string"==typeof t||"function"==typeof t.splice||Object(Et.a)(t)||Ft(t)||kt(t)))return!t.length;var e=Le(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(bt(t))return!Se(t).length;for(var n in t)if(Pe.call(t,n))return!1;return!0})(t)||this.cache.bind(t)}},{key:"clear",value:function(){this.cache.clear()}},{key:"getConfig",value:function(t){var e=this.cache.get(t);return"object"===p(e)?cn(e):e}},{key:"getAllConfig",value:function(){var t,e=null!==(t=this.cache.getAll())&&void 0!==t?t:{};return cn(e)}},{key:"saveToSessionStorage",value:function(t){try{if("undefined"!=typeof self&&self.sessionStorage){var e,n=null!==(e=null!=t?t:this.cache.getAll())&&void 0!==e?e:{};return self.sessionStorage.setItem("configCache",JSON.stringify(n)),!0}}catch(t){console.error(t)}return!1}},{key:"loadFromSessionStorage",value:function(){try{if("undefined"==typeof self||!self.sessionStorage)throw new Error("browser is not support sessionStorage");var t=self.sessionStorage.getItem("configCache");if(t)return this.bind(JSON.parse(t)),!0}catch(t){console.error(t)}return!1}},{key:"init",value:function(){if("undefined"!=typeof self){var t=self.AppConfig;if("object"===p(t)){var e=t[Object(fn.a)("mode")]||t.normal,n=se(e,null==e?void 0:e.custom);this.bind(n),this.saveToSessionStorage()}else console.error("加载 AppConfig 配置出错")}}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new t),this.instance}}]),t}();m(hn,"instance",void 0),m(function(){function t(){d(this,t)}return g(t,null,[{key:"getKey",value:function(t){if(""===this.configName)throw new Error("子类未重命名configName!");return"".concat(this.configName,".").concat(t)}}]),t}(),"configName","");var pn,dn,vn=hn,yn=(vn.default||vn).getInstance(),gn=yn.getConfig(\'npm["@tencent/tencent-doc-report"]\')||{},mn=(location.host,gn.SDK_BUNDLE_URL,gn.ENT_SDK_BUNDLE_URL,gn.docrpWeixinOrigin||"https://docrp.weixin.qq.com"),bn=gn.wecomMainHost||"doc.weixin.qq.com",wn=gn.wecomAddonHost||"wecom-addon.tencentsuite.com",On=(gn.cookieDomain,gn.reportIdqqimgOrigin||"https://report.idqqimg.com"),xn=gn.reportIdqqimgHost||"report.idqqimg.com",jn=(gn.reportUrlOrigin,gn.reportUrlHost||"report.url.cn"),_n=(gn.reportHuatuoOrigin,gn.beaconOrigin||"https://otheve.beacon.qq.com"),Sn=(gn.tencentDocCdnGoOrigin,gn.qqwebQQHost,gn.qunQQHost,gn.interceptorIgnoreUrls,yn.getConfig("runtime.apiRoot"),yn.getConfig("domain"),yn.getConfig("wenku.reportToWenku"),yn.getConfig("domain"),yn.getConfig("runtime.domainName"),n(9)),kn=n.n(Sn),Tn=(pn=[bn,wn].includes("undefined"!=typeof location&&location.origin.split("//")[1]||""),function(){return pn}),Rn=new(function(){function t(){o()(this,t),this.ua=navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase()||"",this.href=location&&location.href||"",this.wxUrlContainStr="__wxjs_environment=miniprogram",this.qqUrlContainStr="__wxjs_environment=qqminiprogram",this.ie=/rv:([\\d.]+)\\) like gecko/.test(this.ua)||/msie ([\\d.]+)/.test(this.ua)||/Trident/.test(this.ua),this.chrome=/chrome\\/([\\d.]+)/.test(this.ua),this.opera=/opera/.test(this.ua),this.safari=/webkit/.test(this.ua),this.firefox=/firefox/.test(this.ua)&&!/(compatible|webkit)/.test(this.ua),this.edge=/edge/.test(this.ua),this.edgeChromium=this.chrome&&this.edge,this.isPad=/(ipad)/i.test(this.ua),this.isMobile=/(mobile)/i.test(this.ua)&&!this.isPad,this.isMac=/Mac OS X/i.test(this.ua)&&!this.isMobile,this.isAndroid=/android|adr/i.test(this.ua),this.isIOS=/(iphone|ipad|ipod)/.test(this.ua),this.isHarmony=/OpenHarmony/i.test(this.ua),this.isWindowStore=/MSAppHost/i.test(this.ua),this.isPCQQBrowser=!this.isMobile&&/QQBrowser/i.test(this.ua)&&!/QBCore/i.test(this.ua),this.isMobileQQBrowser=this.isMobile&&/MQQBrowser/i.test(this.ua)&&!/TBS/i.test(this.ua),this.isQQBrowser=this.isMobile?this.isMobileQQBrowser:this.isPCQQBrowser,this.isWxMiniProgram=this.href.indexOf(this.wxUrlContainStr)>-1||/MicroMessenger/i.test(this.ua)&&/miniProgram/i.test(this.ua),this.isQQMiniProgram=this.href.indexOf(this.qqUrlContainStr)>-1||/QQ/i.test(this.ua)&&/MiniApp/i.test(this.ua),this.isMiniProgram=this.isWxMiniProgram||this.isQQMiniProgram,this.isWxWork=/(wxwork)/i.test(this.ua),this.isWeWork=this.isWxWork,this.isWeChat=/MicroMessenger/i.test(this.ua)&&!this.isWxWork&&!this.isWxMiniProgram,this.isWechat=this.isWeChat,this.isTim=/TIM/i.test(this.ua),this.isQQ=/QQ/i.test(this.ua)&&!this.isWxWork&&!this.isWeChat&&!this.isQQBrowser&&!this.isTim&&!this.isQQMiniProgram,this.isTimOrQQ=this.isTim||this.isQQ,this.isTimOrQQFamily=this.isTim||/QQ/i.test(this.ua),this.isPCTim=/QBCore/i.test(this.ua)&&/TIM2.0/i.test(this.ua),this.isWindowPlatform=/(win64|wow64|win32|wow32)/i.test(this.ua),this.isQQNativeMiniProgram="object"===("undefined"==typeof wx?"undefined":kn()(wx))&&"function"==typeof wx.canIUse&&wx.canIUse("request"),this.isWxNativeMiniProgram=!this.isQQNativeMiniProgram&&"object"===("undefined"==typeof qq?"undefined":kn()(qq))&&"function"==typeof qq.canIUse&&qq.canIUse("request"),this.isNativeMiniProgram=this.isQQNativeMiniProgram||this.isWxNativeMiniProgram}return a()(t,[{key:"browser",get:function(){return{isIE:this.ie,isChrome:this.chrome,isOpera:this.opera,isSafari:this.safari,isFirefox:this.firefox,isEdge:this.edge,isEdgeChromium:this.edgeChromium,isPCQQBrowser:this.isPCQQBrowser,isMobileQQBrowser:this.isMobileQQBrowser,isQQBrowser:this.isQQBrowser}}},{key:"platform",get:function(){return{isPad:this.isPad,isMobile:this.isMobile,isMac:this.isMac,isAndroid:this.isAndroid,isIOS:this.isIOS,isHarmony:this.isHarmony,isWindow:this.isWindowPlatform}}},{key:"host",get:function(){return{isWindowStore:this.isWindowStore,isWxMiniProgram:this.isWxMiniProgram,isQQMiniProgram:this.isQQMiniProgram,isMiniProgram:this.isMiniProgram,isQQNativeMiniProgram:!!this.isQQNativeMiniProgram,isWxNativeMiniProgram:!!this.isWxNativeMiniProgram,isNativeMiniProgram:!!this.isNativeMiniProgram,isWxWork:this.isWxWork,isWeWork:this.isWeWork,isWeChat:this.isWeChat,isWechat:this.isWechat,isTim:this.isTim,isQQ:this.isQQ,isTimOrQQ:this.isTimOrQQ,isTimOrQQFamily:this.isTimOrQQFamily,isPCTim:this.isPCTim}}}]),t}()),Dn="undefined"==typeof window,En=new(function(){function t(){o()(this,t),this.lastCookie="",this.lastCookieObj={},this.platformCache="",this.browserCache="",this.networkGot=!1,this.networkRet="-1"}return a()(t,[{key:"uin",get:function(){var t=this.getCookie("uin")||"";return"o0"===t.slice(0,2)?t.slice(2):"o"===t.slice(0,1)?t.slice(1):t}},{key:"networkType",get:function(){var t=this;if(Dn||this.networkGot)return this.networkRet;var e=window&&window.mqq;return e&&e.device&&e.device.getNetworkType&&e.support("mqq.device.getNetworkType")&&e.device.getNetworkType((function(e){t.networkRet=e})),this.networkGot=!0,this.networkRet}},{key:"platform",get:function(){if(Dn||this.platformCache)return this.platformCache;var t=window&&window.navigator&&window.navigator.userAgent||"";t=t.toLocaleLowerCase();var e="unknown";return/android|adr/i.test(t)?e="android":/OpenHarmony/i.test(t)?e="harmony":/(iphone|ipad|ipod)/i.test(t)?e="ios":/(mobile)/i.test(t)?e="mobile":t&&(e="pc"),this.platformCache=e,e}},{key:"browser",get:function(){if(Dn||this.browserCache)return this.browserCache;var t=Rn.browser,e=(t.isIE?"IE":t.isChrome&&"Chrome")||t.isFirefox&&"Firefox"||t.isSafari&&"Safari"||t.isEdgeChromium&&"EdgeChromium"||t.isEdge&&"Edge"||"unknown";return this.browserCache=e,e}},{key:"getCookie",value:function(t){if(Dn)return"";var e=document&&document.cookie||"";if(this.lastCookie&&this.lastCookie===e)return this.lastCookieObj[t]||"";this.lastCookie=e;for(var n=e.split(";"),r=n.length,o=0;o<r;o++){var i=n[o].trim().split("="),a=i[0],s=i.slice(1).join("=");try{this.lastCookieObj[a]=decodeURIComponent(s)}catch(t){this.lastCookieObj[a]=s}}return this.lastCookieObj[t]||""}}]),t}());function Mn(t){var e=En.getCookie("free_go_proxy")?"".concat(mn,"/pre"):mn;return"".concat(e).concat(t)}!function(t){t.merge="/report/node/",t.monitor="/report/node_b/monitorreport?monitors=",t.retcode="/report/node_b/retcodereport?",t.tdw="/report/node_b/tdwreport?",t.zzs="/report/node_b/zzsreport"}(dn||(dn={}));var In,Cn,An=new(function(){function t(){var e=this;o()(this,t),this.configs={mergeQueueConfig:{sourceKey:"report_source_v2",pendingKey:"report_pending_v2",maxInBatch:5e4,maxSize:5e4},enableMergeReport:!0,cgiURL:Tn()?Mn(dn.merge):"".concat(On,"/node/report/"),backupUrl:"".concat(On,"/node_b/"),isLogPrint:Object(u.e)(),isCloseReport:Object(u.d)(),expiredTime:6048e5,supportOffline:!0,maxStoreReport:1e4,headRequest:!0,enableWorker:!0},this.closeLog=function(){e.configs.isLogPrint=!1,Object(c.d)(!1),e.syncConfigToWorker()},this.openLog=function(){e.configs.isLogPrint=!0,Object(c.d)(!0),e.syncConfigToWorker()},this.closeReport=function(){e.configs.isCloseReport=!0,e.syncConfigToWorker()},this.openReport=function(){e.configs.isCloseReport=!1,e.syncConfigToWorker()},this.enableMerge=function(){e.configs.enableMergeReport=!0,e.syncConfigToWorker()},this.disableMerge=function(){e.configs.enableMergeReport=!1,e.syncConfigToWorker()},this.disableWorker=function(){e.configs.enableWorker=!1,f.a.terminateWorker()},this.reset=function(t){Object(u.j)(e.configs,t),Object(c.d)(e.configs.isLogPrint),e.syncConfigToWorker()},this.syncConfigToWorker=function(){if(l()){var t=JSON.parse(JSON.stringify(e.configs));f.a.postMessageToWorker({type:"config",payload:t})}},this.syncConfigToWorker()}return a()(t,[{key:"mergeQueueConfig",get:function(){return this.configs.mergeQueueConfig}},{key:"enableMergeReport",get:function(){return this.configs.enableMergeReport}},{key:"cgiURL",get:function(){return this.configs.cgiURL}},{key:"isLogPrint",get:function(){return this.configs.isLogPrint}},{key:"isCloseReport",get:function(){return this.configs.isCloseReport}},{key:"expiredTime",get:function(){return this.configs.expiredTime}},{key:"supportOffline",get:function(){return this.configs.supportOffline}},{key:"maxStoreReport",get:function(){return this.configs.maxStoreReport}},{key:"headRequest",get:function(){return this.configs.headRequest}},{key:"enableWorker",get:function(){return this.configs.enableWorker}}]),t}());!function(t){t[t.GET=0]="GET",t[t.POST=1]="POST",t[t.HEAD=2]="HEAD",t[t.BEACON=3]="BEACON"}(In||(In={})),function(t){t.HUATUO="huatuo",t.MONITOR="monitor",t.RETCODE="retcode",t.TDBANK="tdbank",t.TDW="tdw",t.COMMON="common",t.BEACON="beacon",t.ZZS="zzs"}(Cn||(Cn={}));var Bn,Ln,Pn,Nn=n(24),qn=n.n(Nn),Fn=n(7),Un=n.n(Fn),Wn=n(12),Qn=n.n(Wn);!function(t){t[t.NO_WORKER=35056324]="NO_WORKER",t[t.NO_INDEDEDDB=35056325]="NO_INDEDEDDB",t[t.WORKER_FAIL=34981047]="WORKER_FAIL",t[t.SDK_LOAD=34980701]="SDK_LOAD",t[t.INDEDEDDB_OPEN_FAIL=34981048]="INDEDEDDB_OPEN_FAIL",t[t.INDEDEDDB_OVER_LIMIT=34981049]="INDEDEDDB_OVER_LIMIT",t[t.INDEDEDDB_OVER_TIME=34986191]="INDEDEDDB_OVER_TIME",t[t.REPORT_NONE=34987578]="REPORT_NONE"}(Bn||(Bn={})),function(t){t.INLINE_LOAD_COST="inline-load-cost",t.SDK_LOAD_COST="sdk-load-cost",t.REPORT_TOTAL="report-total",t.REPORT_FAIL="report-fail",t.REPORT_OFFLINE="report-offline",t.REPORT_ONEXIT="report-onexit"}(Ln||(Ln={})),function(t){t[t.SUM=1]="SUM",t[t.AVERAGE=2]="AVERAGE"}(Pn||(Pn={}));var Kn=new(function(){function t(){var e=this;o()(this,t),this.projectID=64,this.pageName="sdk-inside",this.dataDBKey="ALLOYREPORT_REPORT_INSIDE",this.getLastInsideDatas=function(){var t=[],n=[],r=window.localStorage&&window.localStorage.getItem(e.dataDBKey);if(r)try{(r=JSON.parse(r))&&(t=r.monitor,n=(n=r.adt).map((function(t){return Object.assign({projectid:e.projectID,pagename:e.pageName},t)}))),window.localStorage.removeItem(e.dataDBKey)}catch(t){}return{monitor:t,adt:n}},this.saveInsideDatas=function(){var t,n;if(window&&window.localStorage){var r=window.localStorage.getItem(e.dataDBKey);if(r)try{r=JSON.parse(r)}catch(t){Object(c.a)(t)}else r={};var o=r,i=o.monitor,a=void 0===i?[]:i,s=o.adt,u=void 0===s?[]:s;if((t=e.monitorID).push.apply(t,Qn()(a)),(n=e.adtDatas).push.apply(n,Qn()(u)),e.monitorID.length||e.adtDatas.length){var f=JSON.stringify({monitor:e.monitorID,adt:e.adtDatas});window.localStorage.setItem(e.dataDBKey,f),e.monitorID=[],e.adtDatas=[]}}},this.adtDatas=[],this.monitorID=[],this.pointIDValues={},this.isMainHandledExit=!1,this.initEvent(),this.doResourceReport(),this.doReceiveNoneReport()}return a()(t,[{key:"monitor",value:function(t){this.monitorID.push(t)}},{key:"adt",value:function(t,e){this.adtDatas.push({pointid:t,pointvalue:e})}},{key:"adtSum",value:function(t,e){this.pointIDValues[t]||(this.pointIDValues[t]=[0,0,Pn.SUM]),this.pointIDValues[t][0]+=e,this.pointIDValues[t][1]+=1}},{key:"adtAverage",value:function(t,e){this.pointIDValues[t]||(this.pointIDValues[t]=[0,0,Pn.AVERAGE]),this.pointIDValues[t][0]+=e,this.pointIDValues[t][1]+=1}},{key:"mergeIDValuesToAdt",value:function(){for(var t=Object.keys(this.pointIDValues),e=0;e<t.length;e++){var n=t[e],r=this.pointIDValues[n],o=0;r[2]===Pn.SUM?o=r[0]:r[2]===Pn.AVERAGE&&(o=r[0]/r[1]),this.adtDatas.push({pointid:n,pointvalue:o})}}},{key:"syncDatasToMainThread",value:function(){this.mergeIDValuesToAdt();var t={monitor:this.monitorID,adt:this.adtDatas};self.postMessage({type:"reportInside",datas:t})}},{key:"initEvent",value:function(){var t=this;s.b.on("beforeunload",(function(){t.syncDatasToMainThread()}))}},{key:"doResourceReport",value:function(){}},{key:"doReceiveNoneReport",value:function(){}}]),t}()),Hn={},zn={},Vn=!1;s.b.on("beforeunload",(function(){var t=0;for(var e in Vn=!0,Hn)Hn.hasOwnProperty(e)&&(window.clearTimeout(zn[e]),Hn[e](),t++);Kn.adtSum(Ln.REPORT_ONEXIT,t)}));var Gn,Jn,$n=function(t,e,n,r){if(Hn[t])return Vn&&(delete Hn[t],e()),void(r&&r()&&(delete Hn[t],e()));clearTimeout(zn[t]),Hn[t]=e,zn[t]=setTimeout((function(){delete Hn[t],e()}),n)},Xn=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},Zn=function(){function t(){var e=this;o()(this,t),this.databaseName="AlloyReport-DB",this.tableName="AlloyReport-Table",this.expiredTime=Object(u.c)()-An.expiredTime,this.tsRangeExpired=IDBKeyRange.upperBound(this.expiredTime,!0),this.tsRangeNotExpired=IDBKeyRange.lowerBound(this.expiredTime,!1),this.statistic={},this.readonly="readonly",this.readwrite="readwrite",this.addDataCache=[],this.overLimitReport=!1,this.dbDataCache={},this.addBatch=function(){return Xn(e,void 0,void 0,Un.a.mark((function t(){var e=this;return Un.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Xn(e,void 0,void 0,Un.a.mark((function t(){var e,n,r,o,i,a=this;return Un.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDB();case 2:e=t.sent,n=e.transaction(this.tableName,this.readwrite),r=n.objectStore(this.tableName),o=this.addDataCache,this.addDataCache=[],i=o.map((function(t){return new Promise((function(e){var n=t.key,o=t.data,i=t.tryTimes,s=o.ts,u=r.add({key:n,data:o,tryTimes:0,ts:s});u.onsuccess=function(t){var r=t.target.result;a.setStatistic(n,r,s,i,o),e(!0)},u.onerror=function(t){Object(c.a)(t),e(!1)}}))})),Promise.all(i).then((function(){2===a.initedStatistic&&s.a.trigger("indexedDBDispatch",a.statistic)})).catch((function(t){Object(c.a)(t)}));case 9:case"end":return t.stop()}}),t,this)})));case 1:case"end":return t.stop()}}),t)})))},this.handleFailByIDs=function(t,n){return Xn(e,void 0,void 0,Un.a.mark((function e(){var r,o,i,a=this;return Un.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.statistic[t]){e.next=3;break}return e.abrupt("return");case 3:o=[],i=[],Object(u.k)(r,(function(e,r){var s=parseInt(e);if(-1!==n.indexOf(s)){var u=qn()(r,2),c=u[0],f=u[1];!f||f<1?(o.push(s),a.setStatistic(t,s,c,1)):(i.push(s),delete a.statistic[t][s])}})),this.query("id",this.readwrite,void 0,null,(function(t,e,n){-1!==i.indexOf(t.id)?e.delete(n.primaryKey):-1!==o.indexOf(t.id)&&e.put({id:t.id,key:t.key,data:t.data,tryTimes:1,ts:t.ts})})).then((function(){setTimeout((function(){s.a.trigger("indexedDBDispatch",a.statistic,t)}),1e3*Math.floor(120*Math.random()+30))})),Kn.adtSum(Ln.REPORT_FAIL,i.length);case 8:case"end":return e.stop()}}),e,this)})))},this.deleteByIDs=function(t){return Xn(e,void 0,void 0,Un.a.mark((function e(){var n,r,o,i,a,s,u,c,f;return Un.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=Object.keys(this.statistic),r=0;r<n.length;r++)for(o=n[r],i=0;i<t.length;i++)a=t[i],delete this.statistic[o][a];return e.next=4,this.getDB();case 4:for(s=e.sent,u=s.transaction(this.tableName,this.readwrite),c=u.objectStore(this.tableName),f=0;f<t.length;f++)c.delete(t[f]);case 8:case"end":return e.stop()}}),e,this)})))},this.initIndexedDB(),s.a.on("dispatchSuccessID",this.deleteByIDs),s.a.on("dispatchFailID",this.handleFailByIDs)}return a()(t,[{key:"add",value:function(t){return Xn(this,void 0,void 0,Un.a.mark((function e(){return Un.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.addDataCache.push(t),$n("dbAddBatch",this.addBatch,100);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"queryByIDs",value:function(t){return Xn(this,void 0,void 0,Un.a.mark((function e(){var n,r,o,i;return Un.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=!0,o=0;case 3:if(!(o<t.length)){e.next=14;break}if(!(i=this.dbDataCache[t[o]])){e.next=9;break}n.push(i),e.next=11;break;case 9:return r=!1,e.abrupt("break",14);case 11:o++,e.next=3;break;case 14:if(!r){e.next=16;break}return e.abrupt("return",Promise.resolve(n));case 16:return e.abrupt("return",this.query("id",this.readonly,void 0,(function(e){return-1!==t.indexOf(e.id)})));case 17:case"end":return e.stop()}}),e,this)})))}},{key:"getStatistic",value:function(){return this.statistic}},{key:"query",value:function(t,e,n,r,o){return Xn(this,void 0,void 0,Un.a.mark((function i(){var a=this;return Un.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,s){return Xn(a,void 0,void 0,Un.a.mark((function a(){var s,u,f,l,h;return Un.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getDB();case 2:s=a.sent,u=s.transaction(this.tableName,e),f=u.objectStore(this.tableName),l=f.index(t).openCursor(n),h=[],l.onsuccess=function(t){var e=l.result;e?(r&&r(e.value),h.push(e.value),o&&o(e.value,f,e),e.continue()):i(h)},l.onerror=function(t){Object(c.a)(t),i(t)};case 9:case"end":return a.stop()}}),a,this)})))})));case 1:case"end":return i.stop()}}),i)})))}},{key:"getDB",value:function(){return this.cacheGetDBPromise?this.cacheGetDBPromise:this.db?this.db:(this.cacheGetDBPromise=this.initIndexedDB(),this.cacheGetDBPromise)}},{key:"initIndexedDB",value:function(){var t=this;return new Promise((function(e){var n=indexedDB.open(t.databaseName);n.onerror=function(t){Kn.monitor(Bn.INDEDEDDB_OPEN_FAIL),Object(c.a)("打开 indexdb 失败。",t)},n.onsuccess=function(n){t.db=n.target.result,Object(c.b)("打开 indexdb 成功"),t.initStatistic(),e(t.db)},n.onupgradeneeded=function(e){var n=e.target.result;if(!n.objectStoreNames.contains(t.databaseName)){var r=n.createObjectStore(t.tableName,{keyPath:"id",autoIncrement:!0});r.createIndex("key","key",{unique:!1}),r.createIndex("tryTimes","tryTimes",{unique:!1}),r.createIndex("ts","ts",{unique:!1}),r.createIndex("id","id",{unique:!1})}}}))}},{key:"setStatistic",value:function(t,e,n,r,o){this.statistic[t]||(this.statistic[t]={});var i=this.statistic[t];if(i[e]=[n,r],o){this.dbDataCache[e]={id:e,key:t,data:o,tryTimes:r,ts:n};var a=Object.keys(this.dbDataCache);if(a.length>50){a.sort();for(var s=a.slice(0,a.length-50).map((function(t){return parseInt(t)})),u=0;u<s.length;u++)delete this.dbDataCache[s[u]]}}else delete this.dbDataCache[e];var c=Object.keys(i),f=c.length,l=An.maxStoreReport;if(f>l){c.sort();var h=c.slice(0,f-l).map((function(t){return parseInt(t)}));this.deleteByIDs(h),this.overLimitReport||(this.overLimitReport=!0,Kn.monitor(Bn.INDEDEDDB_OVER_LIMIT))}}},{key:"initStatistic",value:function(){var t=this;this.initedStatistic||(this.initedStatistic=1,this.query("ts",this.readonly,this.tsRangeNotExpired,null,(function(e){var n=e.id,r=e.ts,o=e.tryTimes,i=e.key;t.setStatistic(i,n,r,o)})).then((function(){t.initedStatistic=2,s.a.trigger("indexedDBDispatch",t.statistic,null)})).catch((function(){t.initedStatistic=2,s.a.trigger("indexedDBDispatch",t.statistic,null)})),this.deleteExpiredReporter())}},{key:"deleteExpiredReporter",value:function(){return Xn(this,void 0,void 0,Un.a.mark((function t(){var e,n=this;return Un.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,t.abrupt("return",new Promise((function(t,r){return Xn(n,void 0,void 0,Un.a.mark((function n(){var r,o,i,a;return Un.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getDB();case 2:r=n.sent,o=r.transaction(this.tableName,this.readwrite),i=o.objectStore(this.tableName),(a=i.index("ts").openCursor(this.tsRangeExpired)).onsuccess=function(n){var r=a.result;r?(i.delete(r.primaryKey),r.continue(),e++):(e?(Kn.monitor(Bn.INDEDEDDB_OVER_TIME),Object(c.b)("过期上报数据已清除")):Object(c.b)("当前没有过期上报数据"),t())},a.onerror=function(e){Object(c.a)(e),t()};case 8:case"end":return n.stop()}}),n,this)})))})));case 2:case"end":return t.stop()}}),t)})))}}]),t}(),Yn=a()((function t(){var e=this;o()(this,t),this.MemStore={},this.set=function(t,n){e.MemStore[t]=n},this.get=function(t,n){var r;return(r=e.MemStore[t])||(r=n,n&&e.set(t,r)),r},this.each=function(t){for(var n=e.MemStore,r=Object.keys(n),o=r.length,i=0;i<o;i++)t&&t(n[r[i]])}})),tr=new(function(){function t(){var e=this;o()(this,t),this.isIndexedDB=!1,this.isLocalDB=!1,this.get=function(t,n){return e.isLocalDB?e.constDB.get(t,n):e.db.get(t,n)},this.set=function(t,n){return e.isLocalDB?e.constDB.set(t,n):e.db.set(t,n)},this.add=function(t){var n=e.constDB.add(t);return n.catch((function(t){Object(c.a)(t)})),n},this.queryByIDs=function(t){var n=e.constDB.queryByIDs(t);return n.catch((function(t){Object(c.a)(t)})),n},this.db=new Yn;try{h()&&l()||this.initConstDB()}catch(t){Object(c.a)(t)}}return a()(t,[{key:"initConstDB",value:function(){u.h?(this.constDB=new Zn,this.isIndexedDB=!0):u.i&&(this.constDB=new f.a,this.isLocalDB=!0),u.h||Kn.monitor(Bn.NO_INDEDEDDB)}},{key:"getStatistic",value:function(){return this.constDB.getStatistic()}}]),t}()),er=new(function(){function t(){var e=this;o()(this,t),this.status=1,this.isCustom=!1,this.getStatus=function(){return e.isCustom?e.status:u.a&&u.a.navigator?u.a.navigator.onLine:e.status},this.isOffline=function(){return!e.getStatus()},this.setOffline=function(){e.isCustom||(e.isCustom=!0,e.offEvent()),e.offlineListener()},this.setOnline=function(){e.isCustom||(e.isCustom=!0,e.offEvent()),e.onlineListener()},this.offlineListener=function(){l()&&e.syncStatusToWorker(0)},this.onlineListener=function(){l()&&e.syncStatusToWorker(1)},this.handleOffLine=function(t){t&&t.isCustom&&(e.isCustom=!0),e.status=0},this.handleOnLine=function(t){t&&t.isCustom&&(e.isCustom=!0),e.status||(e.status=1,h()?s.b.trigger("networkConnect"):h()||s.b.trigger("networkConnect"))},this.initEvent()}return a()(t,[{key:"initEvent",value:function(){u.b&&u.b.addEventListener&&(u.b.addEventListener("online",this.onlineListener),u.b.addEventListener("offline",this.offlineListener)),s.b.on("workerOffline",this.handleOffLine),s.b.on("workerOnline",this.handleOnLine)}},{key:"offEvent",value:function(){u.b&&u.b.removeEventListener&&(u.b.removeEventListener("online",this.onlineListener),u.b.removeEventListener("offline",this.offlineListener))}},{key:"syncStatusToWorker",value:function(t){this.status=t,f.a.postMessageToWorker({type:t?"online":"offline",payload:{isCustom:this.isCustom}},!0)}}]),t}());!function(t){t[t.ALL=1]="ALL",t[t.PART=2]="PART"}(Gn||(Gn={})),function(t){t[t.ERROR=-1]="ERROR",t[t.ALL=1]="ALL",t[t.PART=2]="PART"}(Jn||(Jn={}));var nr,rr=function(){function t(){var e=this;o()(this,t),this.lastAddToBatchTime={},this.storeConfig=new Yn,this.dispatchTimeIDs={},this.sentIDs=[],this.count=0,this.dispatchBatch=function(t,n){if(!An.supportOffline||er.getStatus()){var r=e.dispatchTimeIDs,o=Object(u.c)();if(n)clearTimeout(r[n]),o-e.lastAddToBatchTime[n]>2e3?(e.dispatchBatchBySourceKey(t,n,Gn.ALL),e.lastAddToBatchTime[n]=0):e.dispatchBatchBySourceKey(t,n,Gn.PART)===Jn.PART&&(r[n]=setTimeout((function(){e.dispatchBatch(tr.getStatistic(),n)}),2e3));else for(var i=Object.keys(t),a=0;a<i.length;a++){var s=i[a];e.dispatchBatchBySourceKey(t,s,Gn.ALL),e.lastAddToBatchTime[s]=0}}else Object(c.b)("网络离线，暂停上报")},s.a.on("indexedDBDispatch",this.dispatchBatch),s.b.on("networkConnect",(function(){Object(c.b)("网络恢复，上报离线数据"),s.a.trigger("indexedDBDispatch",tr.getStatistic(),null)}))}return a()(t,[{key:"addOne",value:function(t,e,n){var r=t.sourceKey,o=Object(u.c)();tr.add({key:r,data:{ts:o+this.count,param:e,opts:n},tryTimes:0}),this.count++,this.lastAddToBatchTime[r]||(this.lastAddToBatchTime[r]=o)}},{key:"successItems",value:function(t,e){var n=e.map((function(t){return t.id})),r=this.sentIDs.filter((function(t){return-1===n.indexOf(t)}));this.sentIDs=r,s.a.trigger("dispatchSuccessID",n)}},{key:"failItems",value:function(t,e){var n=t.sourceKey,r=e.map((function(t){return t.id})),o=this.sentIDs.filter((function(t){return-1===r.indexOf(t)}));this.sentIDs=o,An.supportOffline&&!er.getStatus()||s.a.trigger("dispatchFailID",n,r)}},{key:"getConfigBySourceKey",value:function(t){if(An.mergeQueueConfig.sourceKey===t)return An.mergeQueueConfig;var e=qr.getAdapterBySourceKey(t);return e&&e.configs&&e.configs.queueConfig?e.configs.queueConfig:null}},{key:"dispatchBatchBySourceKey",value:function(t,e,n){if(!t[e])return Jn.ERROR;var r=Object.keys(t[e]).map((function(t){return parseInt(t,10)})),o=(r=this.filterIDsBySent(r)).length;if(o<1)return Jn.ERROR;var i=this.getConfigBySourceKey(e);if(!i)return Jn.ERROR;var a=i.maxInBatch||10,s=Jn.ALL;if(n===Gn.PART){if(o<a)return Jn.PART;var u=o%a;s=0===u?Jn.ALL:Jn.PART,r.sort(),r=r.slice(0,o-u)}return this.dispatchBatchByIds(r,i,a),s}},{key:"dispatchBatchByIds",value:function(t,e,n){var r=e.sourceKey;this.sentIDs=this.sentIDs.concat(t),tr.queryByIDs(t).then((function(o){for(var i=[],a=0;a<o.length;a++){var u=o[a],c=u.data,f=u.id;-1!==t.indexOf(f)&&i.push(Object.assign(Object.assign({},c),{id:f}))}for(var l=0;l<i.length;l+=n){var h=i.slice(l,l+n);r===An.mergeQueueConfig.sourceKey?s.a.trigger("dispatchMerge",e,h):s.a.trigger("dispatchCommon",e,h)}})).catch((function(t){Object(c.a)(t),Object(c.a)("从数据库取数据错误")}))}},{key:"filterIDsBySent",value:function(t){var e=this.sentIDs;return t.filter((function(t){return-1===e.indexOf(t)}))}}]),t}(),or=new(function(){function t(){o()(this,t),tr.isIndexedDB?this.queueInstance=new rr:this.queueInstance=new f.a}return a()(t,[{key:"addOne",value:function(t,e,n){this.queueInstance.addOne(t,e,n),An.supportOffline&&!er.getStatus()&&Kn.adtSum(Ln.REPORT_OFFLINE,1)}},{key:"successItems",value:function(t,e){this.queueInstance.successItems(t,e)}},{key:"failItems",value:function(t,e){this.queueInstance.failItems(t,e)}}]),t}()),ir=(n(36),function(t){if(t.url){var e=new XMLHttpRequest;if(e){var n=t.method||"POST",r=!1;if(An.headRequest&&"GET"===n&&(-1===t.url.indexOf(xn)&&-1===t.url.indexOf(jn)||(n="HEAD",r=!0)),e.onerror=function(){t.onError&&t.onError()},e.ontimeout=function(){t.onTimeout&&t.onTimeout()},e.onreadystatechange=function(){if(4===e.readyState){var n=e.status;200===n?function(){if(r)t.onSucc&&t.onSucc();else{var n=e.responseText;try{switch(JSON.parse(n).retcode){case 0:t.onSucc&&t.onSucc();break;case 1:t.onTest&&t.onTest();break;case 6:t.onTimeout&&t.onTimeout();break;default:t.onError&&t.onError(200)}}catch(e){t.onError&&t.onError(200)}}}():function(e){r?t.onError&&t.onError(e):202===e?t.onTest&&t.onTest():500===e?t.onTimeout&&t.onTimeout():t.onError&&t.onError(e)}(n)}},"POST"===n&&"JSON"!==t.postFormat){var o=new FormData;if(t.data)for(var i=Object.keys(t.data||{}),a=0;a<i.length;a++)o.append(i[a],t.data[i[a]]);e.open(n,t.url,!0),e.timeout=t.timeout||1e4,e.send(o)}else"POST"===n&&"JSON"===t.postFormat?(e.open(n,t.url,!0),e.timeout=t.timeout||1e4,e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.send(JSON.stringify(t.data))):(e.open(n,t.url,!0),e.timeout=t.timeout||1e4,e.send())}}}),ar=["onReceiveReporter","onHanldeParams","onBeforeCommonReport","onBeforeMergeReport","onBeforeReportSend","onReportSenderError","onReportSenderSuccess","onReportSenderTimeout"],sr=new(a()((function t(){var e=this;o()(this,t),this.addHooks=function(t,n){"function"==typeof n?-1!==ar.indexOf(t)?(s.c.on(t,n),e.syncHooksToWorker(t,"add")):Object(c.c)("不支持的钩子"):Object(c.c)("参数必须是函数")},this.removeHooks=function(t,n){s.c.remove(t,n),e.syncHooksToWorker(t,"remove")},this.execute=function(t,e){s.c.trigger.apply(s.c,[t].concat(Qn()(e)))},this.getExecuteFunction=function(t){return function(){if(s.c.getLength(t)){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o={type:"hooks",payload:{args:n,name:t}};try{var i=JSON.stringify(o);Kr.postMessageToMain(JSON.parse(i))}catch(t){}}}},this.syncHooksToWorker=function(t,e){if(l()){var n={name:t,action:e};f.a.postMessageToWorker({type:"hooks",payload:n})}},this.onReceiveReporter=this.getExecuteFunction("onReceiveReporter"),this.onHanldeParams=this.getExecuteFunction("onHanldeParams"),this.onBeforeCommonReport=this.getExecuteFunction("onBeforeCommonReport"),this.onBeforeMergeReport=this.getExecuteFunction("onBeforeMergeReport"),this.onBeforeReportSend=this.getExecuteFunction("onBeforeReportSend"),this.onReportSenderError=this.getExecuteFunction("onReportSenderError"),this.onReportSenderSuccess=this.getExecuteFunction("onReportSenderSuccess"),this.onReportSenderTimeout=this.getExecuteFunction("onReportSenderTimeout")}))),ur=function(){},cr=function(t,e){return function(){try{return t.apply(void 0,arguments)}catch(t){e&&e(),Object(c.a)(t)}}}((function(t){var e=Object.assign({},t);e.url.length>2e3&&(e.method="POST"),Tn()&&(e.method="POST",e.postFormat="JSON"),sr.onBeforeReportSend(e);var n=e.onSucc,r=void 0===n?ur:n,o=e.onError,i=void 0===o?ur:o,a=e.onTimeout,s=void 0===a?ur:a;e.onSucc=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];sr.onReportSenderSuccess.apply(sr,[e].concat(n)),r.apply(void 0,n)},e.onError=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];sr.onReportSenderError.apply(sr,[e].concat(n)),i.apply(void 0,n)},e.onTimeout=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];sr.onReportSenderTimeout.apply(sr,[e].concat(n)),s.apply(void 0,n)};try{"object"===("undefined"==typeof wx?"undefined":kn()(wx))&&(null===wx||void 0===wx?void 0:wx.request)?Object(f.a)(e):u.b&&u.b.Image&&"GET"===e.method?Object(f.a)(e):ir(e)}catch(t){Object(c.a)(t)}})),fr=new(function(){function t(){var e=this;o()(this,t),this.sendReporter=function(t,n,r){if(0!==n.length){for(var o=[],i="",a=0;a<n.length;a++){var s=n[a],u=s.param,c=s.opts;o.push(u),i=c.name}var f=qr.getAdapterByName(i),l=f.getConfigs(),h=f.getMethods(),p=function(){r?or.successItems(r,n):or.successItems(t,n)},d=function(){r?or.failItems(r,n):or.failItems(t,n)};if(h[In.HEAD]||h[In.GET]){var v=f.transToURL(o,n[0].opts);if(e.isUrlOverLimit(v))return void e.sendRequestViaDatas(l.baseURL,f.buildData(o,{}),p,d);e.sendRequestViaURls(v,p,d)}else e.sendRequestViaDatas(l.baseURL,f.buildData(o,{}),p,d)}},this.initEvent()}return a()(t,[{key:"initEvent",value:function(){s.a.on("dispatchCommon",this.sendReporter),s.a.on("dispatchTryCommon",this.sendReporter)}},{key:"isUrlOverLimit",value:function(t){return(Array.isArray(t)?t:[t]).some((function(t){return t.length>2e3}))}},{key:"sendRequestViaURls",value:function(t,e,n){if(Object(u.f)(t))for(var r=0;r<t.length;r++)cr({url:"".concat(t[r],"&t=").concat(Object(u.c)()),method:"GET",onSucc:e,onError:n,onTimeout:n});else t&&cr({url:"".concat(t,"&t=").concat(Object(u.c)()),method:"GET",onSucc:e,onError:n,onTimeout:n})}},{key:"sendRequestViaDatas",value:function(t,e,n,r){if(Object(u.f)(e))for(var o=0;o<e.length;o++)cr({url:t,method:"POST",onSucc:n,onError:r,onTimeout:r,data:e[o],postFormat:"JSON"});else e&&cr({url:t,method:"POST",onSucc:n,onError:r,onTimeout:r,data:e,postFormat:"JSON"})}},{key:"report",value:function(t,e,n,r){var o=t.getConfigs(),i=t.getMethods(),a=o.queueConfig;if(Object(c.b)("[common-".concat(n.name,"]"),e),r&&(i[In.HEAD]||i[In.GET])){var s=t.transToURL(e,n);return this.isUrlOverLimit(s)?void this.sendRequestViaDatas(o.baseURL,t.buildData(e,{})):void this.sendRequestViaURls(s)}r&&this.sendRequestViaDatas(o.baseURL,t.buildData(e,{})),or.addOne(a,e,n)}}]),t}()),lr=new(function(){function t(){o()(this,t),this.LSErrorFlag=0,this.LSTimeDiffDelay=0,this.LSTestModeFlag=0,this.errorFlag={set:this.errorSet,get:this.errorGet,clear:function(){}},this.testModeFlag={set:this.testSet,get:this.testGet,clear:this.testClear},this.timeDiffFlag={set:this.diffSet,get:this.diffGet,clear:function(){}}}return a()(t,[{key:"errorSet",value:function(t){this.LSErrorFlag=1}},{key:"errorGet",value:function(){return 1===this.LSErrorFlag}},{key:"testGet",value:function(){var t=+new Date,e=this.LSTestModeFlag;return 0!==e&&t-e<6048e5}},{key:"testSet",value:function(){this.LSTestModeFlag=+new Date}},{key:"testClear",value:function(){this.LSTestModeFlag=0}},{key:"diffSet",value:function(){this.LSTimeDiffDelay=+new Date}},{key:"diffGet",value:function(){var t=+new Date,e=this.LSTimeDiffDelay;return!(0===e||t-e>864e5)}}]),t}()),hr=new(function(){function t(){o()(this,t),this.started=!1,this.LSLastPingTime=0,this.LSErrorFlag=1}return a()(t,[{key:"send",value:function(t){var e=this;cr({url:"".concat(t,"?v=3&t=").concat(+new Date,"&q=check"),onSucc:function(){e.started=!1,clearInterval(e.intervalHandler),e.LSErrorFlag=0},method:"GET"})}},{key:"start",value:function(t){var e=this;this.pingURL=t,this.started||(this.started=!0,clearInterval(this.intervalHandler),this.intervalHandler=setInterval((function(){var t=e.LSLastPingTime,n=Object(u.c)();0===t?e.LSLastPingTime=n:n>t+6e4&&(e.LSLastPingTime=n,e.send(e.pingURL))}),6e4))}},{key:"stop",value:function(){this.intervalHandler&&(clearInterval(this.intervalHandler),this.intervalHandler=null)}}]),t}()),pr=n(25),dr=n.n(pr),vr=lr.errorFlag,yr=lr.testModeFlag,gr=new(function(){function t(){var e=this;o()(this,t),this.sendReporter=function(t,n){n.length&&cr({onSucc:function(){yr.clear(),hr.stop(),or.successItems(An.mergeQueueConfig,n)},onError:function(t){vr.set(An.cgiURL),e.dispatchOriginRequest(n),4===t&&Dr.commonReport(2394321)},onTimeout:function(){e.dispatchOriginRequest(n),Object(u.c)()-Object(u.c)()<8e3&&Dr.commonReport(2589015),vr.set(An.cgiURL)},onTest:function(){yr.set(),or.successItems(An.mergeQueueConfig,n)},timeout:1e4,url:An.cgiURL,data:e.buildData(n),method:"POST"})},this.initEvent()}return a()(t,[{key:"initEvent",value:function(){s.a.on("dispatchMerge",this.sendReporter)}},{key:"getAdapterConfigByName",value:function(t){var e=qr.getAdapterByName(t);return e&&e.getConfigs()||{}}},{key:"buildData",value:function(t){for(var e=[],n=0;n<t.length;n++)Object(c.b)("[merge-".concat(t[n].opts.name,"]"),t[n].param),e.push({param:t[n].param,opts:t[n].opts});var r=JSON.stringify(e);return e=dr.a.compressToBase64(r),{v:"3",t:+new Date,q:e}}},{key:"splitItemsBySourceKey",value:function(t){for(var e={},n=0;n<t.length;n++){var r=t[n],o=qr.getAdapterByName(r.opts.name).getSourceKey();e[o]||(e[o]=[]),e[o].push(r)}return e}},{key:"sendOriginalRequest",value:function(t){for(var e=0;e<t.length;e++)qr.getAdapterByName(t[e].opts.name).commonReport(t[e].param,t[e].opts)}},{key:"dispatchOriginRequest",value:function(t){var e=this.splitItemsBySourceKey(t);Object(u.k)(e,(function(t,e){var n=qr.getAdapterBySourceKey(t).getConfigs();s.a.trigger("dispatchTryCommon",n,e,An.mergeQueueConfig)}))}},{key:"report",value:function(t,e,n){var r=t.getConfigs(),o=r.shouldMerge,i=r.reportInTestMode,a=!1;if(o?yr.get()?("function"!=typeof o||o(e))&&("function"!=typeof i||i(e))||(a=!0):"function"!=typeof o||o(e)||(a=!0):a=!0,a)fr.report(t,e,n,!1);else{var s=An.mergeQueueConfig;or.addOne(s,e,n)}}}]),t}()),mr=new(function(){function t(){o()(this,t)}return a()(t,[{key:"report",value:function(t,e,n){Object(c.b)("[immediate-".concat(n.name,"]"),e);var r=t.transToURL(e,n);if(r){var o="".concat(r,"&t=").concat(Object(u.c)());if(!Object(f.a)({url:o})){t.getConfigs().queueConfig;var i=function(){t.report(e,n,!1)};cr({url:o,method:"GET",onSucc:function(){},onError:i,onTimeout:i})}}}}]),t}()),br=function(t,e,n,r){t.getConfigs();var o=t.getMethods();r&&o[In.BEACON]?mr.report(t,e,n):An.enableMergeReport?gr.report(t,e,n):fr.report(t,e,n,r)},wr=a()((function t(){var e=this;o()(this,t),this.adapterName=Cn.COMMON,this.transToURL=function(t,e){return""},this.buildData=function(t,e){return{}},this.resetConfig=function(t){e.configs?Tn()||(Object(u.j)(e.configs,t),e.syncConfigToWorker()):Object(c.a)("找不到此适配器")},this.getConfigs=function(){return e.configs||{}},this.getMethods=function(){var t=e.configs.methods.toString(2);return t.length<4&&(t=new Array(4-t.length).fill("0").join("")+t),t.split("").map((function(t){return parseInt(t)}))},this.getSourceKey=function(){var t=e.getConfigs();return t.queueConfig&&t.queueConfig.sourceKey||""},this.report=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.name=e.adapterName,l()&&Kn.adtSum(Ln.REPORT_TOTAL,1);try{l()&&!r?f.a.postMessageToWorker({type:"api",payload:{data:t,opts:n,isImmediately:r},opts:{reportType:"auto"}}):br(e,t,n,r)}catch(t){Object(c.a)(t)}},this.commonReport=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.name=e.adapterName;try{l()?f.a.postMessageToWorker({type:"api",payload:{data:t,opts:n,isImmediately:r},opts:{reportType:"common"}}):(sr.onBeforeCommonReport(t,n,r),fr.report(e,t,n,r))}catch(t){Object(c.a)(t)}},this.mergeReport=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.name=e.adapterName;try{l()?f.a.postMessageToWorker({type:"api",payload:{data:t,opts:n,isImmediately:!1},opts:{reportType:"merge"}}):(sr.onBeforeMergeReport(t,n),gr.report(e,t,n))}catch(t){Object(c.a)(t)}},this.apiRequestToWorker=function(t,e,n){f.a.postMessageToWorker({type:"apiWorker",payload:{data:t,opts:e},opts:{reportType:n}},!0)},this.syncConfigToWorker=function(){if(l()){var t=e.configs,n=t.baseURL,r=t.shouldMerge,o=t.reportInTestMode,i=t.queueConfig,a={baseURL:n,shouldMerge:"function"==typeof r?r():r,reportInTestMode:"function"==typeof o?o():o,queueConfig:{maxInBatch:i.maxInBatch,maxSize:i.maxSize}};f.a.postMessageToWorker({type:"adapterConfig",payload:a,opts:{adapterName:e.adapterName}})}}})),Or=new wr,xr=n(10),jr=n.n(xr),_r=n(11),Sr=n.n(_r),kr=n(6),Tr=n.n(kr),Rr=new(function(t){jr()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tr()(t);if(e){var o=Tr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sr()(this,n)}}(n);function n(){var t;return o()(this,n),(t=e.call(this)).adapterName=Cn.HUATUO,t.configs={baseURL:"".concat(On,"/node_b/speedreport?"),shouldMerge:function(){return!0},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"huatuo_queue_v3",pendingKey:"huatuo_pending_v3",maxInBatch:20,maxSize:10},methods:15,postFormat:"FORM-DATA"},t.transToURL=function(e,n){var r,o,i=e||[];"object"!==kn()(e)||Object(u.f)(e)||(i=[e]);var a=[];if(!i.length)return[];for(var s in r=t.exractData(i))r.hasOwnProperty(s)&&(o={flag1:r[s].flag1,flag2:r[s].flag2,flag3:r[s].flag3,apn:n.envInfo.apn,appid:r[s].appid,platform:n.envInfo.platform},Object.assign(o,r[s].timingObj),a.push(t.configs.baseURL+Object(u.m)(o)));return a},t}return a()(n,[{key:"exractData",value:function(t){var e=t||[],n=null,r="";if(e.length){n={};for(var o=0;o<e.length;o++)n[r="".concat(e[o].flag1,"_").concat(e[o].flag2,"_").concat(e[o].flag3).concat(e[o].appid)]||(n[r]={flag1:e[o].flag1,flag2:e[o].flag2,flag3:e[o].flag3,appid:e[o].appid,timingObj:{}}),n[r].timingObj[e[o].id]=e[o].timing}return n}}]),n}(wr)),Dr=new(function(t){jr()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tr()(t);if(e){var o=Tr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sr()(this,n)}}(n);function n(){var t;return o()(this,n),(t=e.call(this)).adapterName=Cn.MONITOR,t.configs={baseURL:Tn()?Mn(dn.monitor):"".concat(On,"/node_b/monitorreport?monitors="),shouldMerge:function(){return!0},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"monitor_queue_v3",pendingKey:"monitor_pending_v3",maxInBatch:100,maxSize:10},methods:15,postFormat:"FORM-DATA"},t.transToURL=function(e){var n=[];return"number"==typeof e?n.push(e):Object(u.f)(e)&&(n=e),n.length&&t.configs?"".concat(t.configs.baseURL,"[").concat(n,"]"):""},t}return a()(n)}(wr)),Er=new(function(t){jr()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tr()(t);if(e){var o=Tr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sr()(this,n)}}(n);function n(){var t;return o()(this,n),(t=e.call(this)).adapterName=Cn.RETCODE,t.configs={baseURL:Tn()?Mn(dn.retcode):"".concat(On,"/node_b/retcodereport?"),shouldMerge:function(){return!0},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"retcode_queue_v3",pendingKey:"retcode_pending_v3",maxInBatch:20,maxSize:10},methods:15,postFormat:"FORM-DATA"},t.keyList=["domain","cgi","type","code","time","rate","uin","apn","device","signalStrength","expansion1","expansion2","expansion3","data","platform","appid"],t.transToURL=function(e,n){var r,o="",i=[];if(Object(u.f)(e))for(r=0;r<e.length;r++)i.push(t.extractData(e[r],r+1));else i.push(t.extractData(e,1));return i.length>0?(o="".concat(t.configs.baseURL,"key=").concat(encodeURIComponent(t.keyList.join(","))),o+="&".concat(i.join("&"))):o},t}return a()(n,[{key:"extractData",value:function(t,e){for(var n=[],r=0;r<this.keyList.length;r++)n.push("".concat(e,"_").concat(r+1,"=").concat(encodeURIComponent(t[this.keyList[r]])));if(n.length>0)return n.join("&")}}]),n}(wr)),Mr=new(function(t){jr()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tr()(t);if(e){var o=Tr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sr()(this,n)}}(n);function n(){var t;return o()(this,n),(t=e.call(this)).adapterName=Cn.TDBANK,t.configs={baseURL:"".concat(On,"/node_b/tdbankreport?"),shouldMerge:function(){return!0},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"tdbank_queue_v3",pendingKey:"tdbank_pending_v3",maxInBatch:20,maxSize:10},methods:15,postFormat:"FORM-DATA"},t.transToURL=function(e,n){var r,o,i,a=e||[],s=[],c={};if(Object(u.f)(a)){r=a.length;for(var f=0;f<r;f++)c[i=(o=a[f]).tdbank_table&&o.tdbank_busi_id?"".concat(o.tdbank_table,"|").concat(o.tdbank_busi_id):"".concat(o.table_id,"|").concat(o.busi_id)]||(c[i]=[]),c[i].push(o);for(var l in c)c.hasOwnProperty(l)&&s.push(t.getItemURL(c[l],n));return s}return t.getItemURL([a],n)},t}return a()(n,[{key:"getItemURL",value:function(t,e){var n,r,o,i=[],a=[],s={},c={tdbank_busi_id:!0,tdbank_table:!0,busi_id:!0,table_id:!0};return function(){var e,n,u,f,l=1,h=[];for(e=0;e<t.length;e++)for(u in f=t[e],r=t[e].tdbank_table||t[e].table_id,o=t[e].tdbank_busi_id||t[e].busi_id,f)if(f.hasOwnProperty(u)){if(c[u])continue;if(s[u])continue;s[u]=l++,i.push(u)}for(e=0;e<t.length;e++){for(f=t[e],h=new Array(i.length),n=0;n<i.length;n++)h[n]=void 0===f[i[n]]?"":f[i[n]];a.push(h)}}(),t&&0!==t.length?(n={table_id:r,busi_id:o,fields:JSON.stringify(i),datas:JSON.stringify(a)},n=this.configs.baseURL+Object(u.m)(n)):""}}]),n}(wr)),Ir=new(function(t){jr()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tr()(t);if(e){var o=Tr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sr()(this,n)}}(n);function n(){var t;return o()(this,n),(t=e.call(this)).adapterName=Cn.TDW,t.configs={baseURL:Tn()?Mn(dn.tdw):"".concat(On,"/node_b/tdwreport?"),shouldMerge:function(){return!0},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"tdw_queue_v3",pendingKey:"tdw_pending_v3",maxInBatch:20,maxSize:10},methods:15,postFormat:"FORM-DATA"},t.transToURL=function(e,n){var r,o,i=e||[],a=Object.assign({timeField:"t"},n),s=[],c={};if(Object(u.f)(i)){r=i.length;for(var f=0;f<r;f++)c[(o=i[f]).table]||(c[o.table]=[]),c[o.table].push(o);for(var l in c)c.hasOwnProperty(l)&&s.push(t.getItemURL(c[l],l,a));return s}return t.getItemURL([i],i.table,a)},t}return a()(n,[{key:"getItemURL",value:function(t,e,n){var r,o=[],i=[],a={},s={};return delete t.table,s[n.timeField]=!0,function(){var e,n,r,u,c=1,f=[];for(e=0;e<t.length;e++)for(r in u=t[e])if(u.hasOwnProperty(r)){if(s[r])continue;if(a[r])continue;a[r]=c++,o.push(r)}for(e=0;e<t.length;e++){for(u=t[e],f=new Array(o.length),n=0;n<o.length;n++)f[n]=void 0===u[o[n]]?"":u[o[n]];i.push(f)}}(),t&&0!==t.length?(r={table:e,fields:JSON.stringify(o),datas:JSON.stringify(i),pr_t:n.timeField},r=this.configs.baseURL+Object(u.m)(r)):""}}]),n}(wr)),Cr=new(function(t){jr()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tr()(t);if(e){var o=Tr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sr()(this,n)}}(n);function n(){var t;return o()(this,n),(t=e.call(this)).adapterName=Cn.BEACON,t.configs={baseURL:"".concat(_n,"/analytics/upload?tp=js"),shouldMerge:function(){return!1},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"beacon_queue_v3",pendingKey:"beacon_pending_v3",maxInBatch:20,maxSize:10},methods:4,postFormat:"JSON"},t.buildData=function(t,e){if(Object(u.f)(t)){var n=t;if(n.length<2)return n;for(var r={},o=0;o<n.length;o++){var i,a=n[o],s=a.appkey;r[s]?(i=r[s].msgs[0].data.events).push.apply(i,Qn()(a.msgs[0].data.events)):r[s]=a}return Object.keys(r).map((function(t){return r[t]}))}return[t]},t}return a()(n)}(wr));!function(t){t.STATUS="status",t.VALUE="value"}(nr||(nr={}));var Ar,Br,Lr,Pr,Nr=new(function(t){jr()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tr()(t);if(e){var o=Tr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sr()(this,n)}}(n);function n(){var t;return o()(this,n),(t=e.apply(this,arguments)).adapterName=Cn.ZZS,t.configs={baseURL:Tn()?Mn(dn.zzs):"".concat(On,"/node_b/zzsreport"),shouldMerge:function(){return!1},reportInTestMode:function(){return!1},queueConfig:{sourceKey:"zzs_queue_v3",pendingKey:"zzs_pending_v3",maxInBatch:100,maxSize:100},methods:4,postFormat:"JSON"},t.buildData=function(e){var n,r,o,i,a,s,c,f=e;return Object(u.f)(e)||(f=[e]),{domain:null===(n=f[0])||void 0===n?void 0:n.domain,tenant:null===(r=f[0])||void 0===r?void 0:r.tenant,third:null===(o=f[0])||void 0===o?void 0:o.third,platform:null===(i=f[0])||void 0===i?void 0:i.platform,source:null===(a=f[0])||void 0===a?void 0:a.source,version:null===(s=f[0])||void 0===s?void 0:s.version,env:null===(c=f[0])||void 0===c?void 0:c.env,datas:f.map((function(e){var n,r=t.getDataFieldsWithType(e.type).map((function(t){var n;return null!==(n=e[t])&&void 0!==n?n:""})),o=[null!==(n=e.errmsg)&&void 0!==n?n:""];return e.dimensions&&(o=o.concat(e.dimensions)),r.push(o),r}))}},t}return a()(n,[{key:"getDataFieldsWithType",value:function(t){switch(t){case nr.VALUE:return["project","type","attrid","value"];case nr.STATUS:default:return["project","type","attrid","status"]}}}]),n}(wr)),qr=new(function(){function t(){o()(this,t)}return a()(t,[{key:"getAdapterByName",value:function(t){switch(t){case Cn.HUATUO:return Rr;case Cn.MONITOR:return Dr;case Cn.RETCODE:return Er;case Cn.TDBANK:return Mr;case Cn.TDW:return Ir;case Cn.BEACON:return Cr;case Cn.ZZS:return Nr;default:return Or}}},{key:"getAdapterBySourceKey",value:function(t){switch(t){case Rr.configs.queueConfig.sourceKey:return Rr;case Dr.configs.queueConfig.sourceKey:return Dr;case Er.configs.queueConfig.sourceKey:return Er;case Mr.configs.queueConfig.sourceKey:return Mr;case Ir.configs.queueConfig.sourceKey:return Ir;case Cr.configs.queueConfig.sourceKey:return Cr;case Nr.configs.queueConfig.sourceKey:return Nr;default:return Or}}}]),t}()),Fr=0;function Ur(t){var e=Object(u.c)()-Br;if(Br&&e>Ar.holdTime||t){if(Fr>=Ar.maxReport)return;if(t?Object(c.b)("卡顿上报，主线程超时没有回包，要求回包时间：".concat(Ar.holdTime,"ms")):Object(c.b)("卡顿上报，worker 通信耗时：".concat(e)),Fr++,Ar.monitor&&Dr.report(Ar.monitor,{}),Ar.tdw){var n={};n.table=Ar.tdw.table,n[Ar.tdw.key]=e,Object(u.l)(n,Ar.tdw),Ir.report(n,{})}Fr===Ar.maxReport&&clearInterval(Lr)}}var Wr=function(t,e){if(e.init)return Ar=t,void(Lr=setInterval((function(){Br=Object(u.c)(),Pr=setTimeout((function(){Ur(!0)}),Ar.holdTime),Kr.postMessageToMain({type:"jank"})}),1e3*Ar.interval));e.stop?clearInterval(Lr):(clearTimeout(Pr),Ur())},Qr=function(){function t(){var e=this;o()(this,t),this.worker=self,this.postMessageToMain=function(t){e.worker.postMessage(t)},this.receiveMessageFromMain=function(t){for(var n,r=(n=e.isNativeMP?t:t.data).length,o=0;o<r;o++){var i=n[o];e.handleMessageFromMain(i)}},this.handleMessageFromMain=function(t){var n=t.type,r=t.payload,o=t.opts;switch(n){case"api":e.handleMessageFromAPI(r,o);break;case"config":e.handleMessageFromConfig(r,o);break;case"adapterConfig":e.handleMessageFromAdapterConfig(r,o);break;case"hooks":e.handleMessageFromHooks(r,o);break;case"online":s.b.trigger("workerOnline",r);break;case"offline":s.b.trigger("workerOffline",r);break;case"apiWorker":e.handleMessageFromAPIWorker(r,o);break;default:s.b.trigger(t.type,t)}},this.handleMessageFromAPI=function(t,e){var n=e&&e.reportType||"auto",r=t&&t.opts&&t.opts.name;if(r){var o=qr.getAdapterByName(r),i=t.data,a=t.opts,s=t.isImmediately;switch(n){case"auto":o.report(i,a,s);break;case"common":o.commonReport(i,a,s);break;case"merge":o.mergeReport(i,a)}}},this.handleMessageFromHooks=function(t,e){"add"===t.action?sr.addHooks(t.name,(function(){})):"remove"===t.action&&sr.removeHooks(t.name,(function(){}))},this.handleMessageFromConfig=function(t,e){An.reset(t)},this.handleMessageFromAdapterConfig=function(t,e){var n=e&&e.adapterName;n&&qr.getAdapterByName(n).resetConfig(t)},this.handleMessageFromAPIWorker=function(t,e){e&&"jank"===e.reportType&&Wr(t.data,t.opts)},this.worker?(this.isNativeMP=Object(u.g)(),this.init()):Object(c.a)("初始化 Worker 出错")}return a()(t,[{key:"init",value:function(){self.onmessage=this.receiveMessageFromMain,self.onmessageerror=function(t){Object(c.a)(t)}}}]),t}();Qr.version="V".concat("4.3.89");var Kr=e.default=new Qr}])}]);',n.p+"0753374fe718b8858fdd.worker.js")}},function(t,e,n){"use strict";(function(t){function r(e,n){var r,o=null,i=(n?"?".concat(n.split("?")[1]||""):null===(r=t.location)||void 0===r?void 0:r.search)||"";return i&&(o=i.match(new RegExp("(\\?|&)".concat(e,"=([^&]*)(&|$)")))),o?decodeURIComponent(o[2]):""}n.d(e,"a",(function(){return r}))}).call(this,n(40))},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){"use strict";function r(t){}n.d(e,"a",(function(){return r}))},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r=n(16),o=n.n(r),i=n(49),a=n(45);n.d(e,"monitor",(function(){return a.monitor})),n.d(e,"retcode",(function(){return a.retcode})),n.d(e,"retcodeEnt",(function(){return a.retcodeEnt})),n.d(e,"tdbank",(function(){return a.tdbank})),n.d(e,"zzs",(function(){return a.zzs})),n.d(e,"huatuo",(function(){return a.huatuo})),n.d(e,"AlloyReport",(function(){return a.AlloyReport})),n.d(e,"tdw",(function(){return a.tdw})),n.d(e,"tdwSingle",(function(){return a.tdwSingle})),n.d(e,"tipReport",(function(){return a.tipReport})),n.d(e,"webLogAndEsReport",(function(){return a.webLogAndEsReport})),n.d(e,"webLog",(function(){return a.webLog})),n.d(e,"KVR",(function(){return a.KVR})),n.d(e,"zzsStatus",(function(){return a.zzsStatus})),n.d(e,"zzsValue",(function(){return a.zzsValue})),n.d(e,"idkey",(function(){return a.idkey})),n.d(e,"tip007",(function(){return a.tip007})),n.d(e,"tipOpentelemetryLog",(function(){return a.tipOpentelemetryLog})),n.d(e,"resetDefaultTdwData",(function(){return a.resetDefaultTdwData})),n.d(e,"getAuth",(function(){return a.getAuth})),n.d(e,"getCookieUid",(function(){return a.getCookieUid})),n.d(e,"getCookieUin",(function(){return a.getCookieUin})),n.d(e,"getDefaultTdwData",(function(){return a.getDefaultTdwData})),n.d(e,"getFileTypeForReport",(function(){return a.getFileTypeForReport})),n.d(e,"getPlatform",(function(){return a.getPlatform})),n.d(e,"getSource1",(function(){return a.getSource1})),n.d(e,"reportErrorCode",(function(){return a.reportErrorCode})),n.d(e,"Channel",(function(){return a.Channel})),n.d(e,"KVRReporter",(function(){return a.KVRReporter})),n.d(e,"LogPadType",(function(){return a.LogPadType})),n.d(e,"cube",(function(){return a.cube})),"object"===("undefined"==typeof window?"undefined":o()(window))&&(window.TencentDocReport||(window.TencentDocReport={}),Object(i.a)("4.3.89",window.TencentDocReport.tencentDocReportVersion)&&(window.TencentDocReport.tencentDocReportSDK=a,window.TencentDocReport.tencentDocReportVersion="4.3.89",window.TencentDocReport.tencentDocReportInjected=!0,window.tencentDocReport||(window.tencentDocReportInjected=!0,window.tencentDocReport=a)))},function(t,e,n){var r=n(16).default;t.exports=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){(function(t){try{!function(){if(t&&t.process&&t.process.argv&&t.process.argv.length){var e=t.process.argv,n=e&&e[0]&&e[0].toLocaleLowerCase&&e[0].toLocaleLowerCase();n&&-1!==n.indexOf("node")&&(t.isNodePlatform=!0,t.window=null)}}()}catch(t){console.log("nodePolyfill error",t)}}).call(this,n(40))},function(t,e,n){var r=n(60);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(t){if(!t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t})},function(t,e,n){},function(t,e,n){"use strict";var r=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),n=n.getBlob()}catch(e){n=new Blob([t])}return new Worker(r.createObjectURL(n))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(16).default;function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",s=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),u=new R(r||[]);return a(i,"_invoke",{value:E(t,n,u)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h={};function v(){}function g(){}function m(){}var y={};f(y,c,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(A([])));_&&_!==n&&i.call(_,c)&&(y=_);var O=m.prototype=v.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){var n;a(this,"_invoke",{value:function(o,a){function u(){return new e((function(n,u){!function n(o,a,u,c){var s=p(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,u,c)}),(function(t){n("throw",t,u,c)})):e.resolve(f).then((function(t){l.value=t,u(l)}),(function(t){return n("throw",t,u,c)}))}c(s.arg)}(o,a,n,u)}))}return n=n?n.then(u,u):u()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function A(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return g.prototype=m,a(O,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:g,configurable:!0}),g.displayName=f(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,f(t,l,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},w(T.prototype),f(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(O),f(O,l,"Generator"),f(O,c,(function(){return this})),f(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){(function(t){!function(){var e;function n(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},o="undefined"!=typeof window&&window===this?this:void 0!==t&&null!=t?t:this;function i(){i=function(){},o.Symbol||(o.Symbol=s)}function a(t,e){this.s=t,r(this,"description",{configurable:!0,writable:!0,value:e})}a.prototype.toString=function(){return this.s};var u,c,s=(u=0,function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_"+(e||"")+"_"+u++,e)});function l(){i();var t=o.Symbol.iterator;t||(t=o.Symbol.iterator=o.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[t]&&r(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return function(t){return l(),(t={next:t})[o.Symbol.iterator]=function(){return this},t}(n(this))}}),l=function(){}}function f(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:n(t)}}if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var d;t:{var p={};try{p.__proto__={v:!0},d=p.v;break t}catch(t){}d=!1}c=d?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var h=c;function v(){this.h=!1,this.c=null,this.o=void 0,this.b=1,this.m=this.w=0,this.g=null}function g(t){if(t.h)throw new TypeError("Generator is already running");t.h=!0}function m(t,e,n){return t.b=n,{value:e}}function y(t){for(var e in this.C=t,this.l=[],t)this.l.push(e);this.l.reverse()}function b(t){this.a=new v,this.D=t}function _(t,e,n,r){try{var o=e.call(t.a.c,n);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return t.a.h=!1,o;var i=o.value}catch(e){return t.a.c=null,t.a.j(e),O(t)}return t.a.c=null,r.call(t.a,i),O(t)}function O(t){for(;t.a.b;)try{var e=t.D(t.a);if(e)return t.a.h=!1,{value:e.value,done:!1}}catch(e){t.a.o=void 0,t.a.j(e)}if(t.a.h=!1,t.a.g){if(e=t.a.g,t.a.g=null,e.B)throw e.A;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function w(t){this.next=function(e){return t.i(e)},this.throw=function(e){return t.j(e)},this.return=function(e){return function(t,e){g(t.a);var n=t.a.c;return n?_(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),O(t))}(t,e)},l(),this[Symbol.iterator]=function(){return this}}function T(t,e){var n=new w(new b(e));return h&&h(n,t.prototype),n}if(v.prototype.i=function(t){this.o=t},v.prototype.j=function(t){this.g={A:t,B:!0},this.b=this.w||this.m},v.prototype.return=function(t){this.g={return:t},this.b=this.m},b.prototype.i=function(t){return g(this.a),this.a.c?_(this,this.a.c.next,t,this.a.i):(this.a.i(t),O(this))},b.prototype.j=function(t){return g(this.a),this.a.c?_(this,this.a.c.throw,t,this.a.i):(this.a.j(t),O(this))},"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var E=function(t,e){for(var n=0;n<t.length;n++)e(t[n])},S=function(t,e,n){return e instanceof Blob?[String(t),e,void 0!==n?n+"":"string"==typeof e.name?e.name:"blob"]:[String(t),String(e)]},x=function(t,e){if(t.length<e)throw new TypeError(e+" argument required, but only "+t.length+" present.")},j=function(t){var e=f(t);return t=e.next().value,e=e.next().value,t instanceof Blob&&(t=new File([t],e,{type:t.type,lastModified:t.lastModified})),t},R="object"==typeof window?window:"object"==typeof self?self:this,A=R.FormData,C=R.XMLHttpRequest&&R.XMLHttpRequest.prototype.send,k=R.Request&&R.fetch,I=R.navigator&&R.navigator.sendBeacon;i();var P=R.Symbol&&Symbol.toStringTag;P&&(Blob.prototype[P]||(Blob.prototype[P]="Blob"),"File"in R&&!File.prototype[P]&&(File.prototype[P]="File"));try{new File([],"")}catch(t){R.File=function(t,e,n){return t=new Blob(t,n),n=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date,Object.defineProperties(t,{name:{value:e},lastModifiedDate:{value:n},lastModified:{value:+n},toString:{value:function(){return"[object File]"}}}),P&&Object.defineProperty(t,P,{value:"File"}),t}}i(),l();var D=function(t){if(this.f=Object.create(null),!t)return this;var e=this;E(t.elements,(function(t){if(t.name&&!t.disabled&&"submit"!==t.type&&"button"!==t.type)if("file"===t.type){var n=t.files&&t.files.length?t.files:[new File([],"",{type:"application/octet-stream"})];E(n,(function(n){e.append(t.name,n)}))}else"select-multiple"===t.type||"select-one"===t.type?E(t.options,(function(n){!n.disabled&&n.selected&&e.append(t.name,n.value)})):"checkbox"===t.type||"radio"===t.type?t.checked&&e.append(t.name,t.value):(n="textarea"===t.type?t.value.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n"):t.value,e.append(t.name,n))}))};if((e=D.prototype).append=function(t,e,n){x(arguments,2);var r=f(S.apply(null,arguments));t=r.next().value,e=r.next().value,n=r.next().value,(r=this.f)[t]||(r[t]=[]),r[t].push([e,n])},e.delete=function(t){x(arguments,1),delete this.f[String(t)]},e.entries=function t(){var e,n,r,o,i,a,u=this;return T(t,(function(t){switch(t.b){case 1:e=u.f,r=new y(e);case 2:var c;t:{for(c=r;0<c.l.length;){var s=c.l.pop();if(s in c.C){c=s;break t}}c=null}if(null==(n=c)){t.b=0;break}o=f(e[n]),i=o.next();case 5:if(i.done){t.b=2;break}return a=i.value,m(t,[n,j(a)],6);case 6:i=o.next(),t.b=5}}))},e.forEach=function(t,e){x(arguments,1);for(var n=f(this),r=n.next();!r.done;r=n.next()){var o=f(r.value);r=o.next().value,o=o.next().value,t.call(e,o,r,this)}},e.get=function(t){x(arguments,1);var e=this.f;return e[t=String(t)]?j(e[t][0]):null},e.getAll=function(t){return x(arguments,1),(this.f[String(t)]||[]).map(j)},e.has=function(t){return x(arguments,1),String(t)in this.f},e.keys=function t(){var e,n,r,o,i=this;return T(t,(function(t){if(1==t.b&&(e=f(i),n=e.next()),3!=t.b)return n.done?void(t.b=0):(r=n.value,o=f(r),m(t,o.next().value,3));n=e.next(),t.b=2}))},e.set=function(t,e,n){x(arguments,2);var r=S.apply(null,arguments);this.f[r[0]]=[[r[1],r[2]]]},e.values=function t(){var e,n,r,o,i=this;return T(t,(function(t){if(1==t.b&&(e=f(i),n=e.next()),3!=t.b)return n.done?void(t.b=0):(r=n.value,(o=f(r)).next(),m(t,o.next().value,3));n=e.next(),t.b=2}))},D.prototype._asNative=function(){for(var t=new A,e=f(this),n=e.next();!n.done;n=e.next()){var r=f(n.value);n=r.next().value,r=r.next().value,t.append(n,r)}return t},D.prototype._blob=function(){for(var t="----formdata-polyfill-"+Math.random(),e=[],n=f(this),r=n.next();!r.done;r=n.next()){var o=f(r.value);r=o.next().value,o=o.next().value,e.push("--"+t+"\r\n"),o instanceof Blob?e.push('Content-Disposition: form-data; name="'+r+'"; filename="'+o.name+'"\r\n',"Content-Type: "+(o.type||"application/octet-stream")+"\r\n\r\n",o,"\r\n"):e.push('Content-Disposition: form-data; name="'+r+'"\r\n\r\n'+o+"\r\n")}return e.push("--"+t+"--"),new Blob(e,{type:"multipart/form-data; boundary="+t})},D.prototype[Symbol.iterator]=function(){return this.entries()},D.prototype.toString=function(){return"[object FormData]"},P&&(D.prototype[P]="FormData"),C){var M=R.XMLHttpRequest.prototype.setRequestHeader;R.XMLHttpRequest.prototype.setRequestHeader=function(t,e){M.call(this,t,e),"content-type"===t.toLowerCase()&&(this.u=!0)},R.XMLHttpRequest.prototype.send=function(t){t instanceof D?(t=t._blob(),this.u||this.setRequestHeader("Content-Type",t.type),C.call(this,t)):C.call(this,t)}}if(k){var L=R.fetch;R.fetch=function(t,e){return e&&e.body&&e.body instanceof D&&(e.body=e.body._blob()),L.call(this,t,e)}}I&&(R.navigator.sendBeacon=function(t,e){return e instanceof D&&(e=e._asNative()),I.call(this,t,e)}),R.FormData=D}}()}).call(this,n(40))},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},,,,,,,,,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var r="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof t?t:{}}).call(this,n(40))}])}));